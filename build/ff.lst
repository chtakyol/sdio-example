ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ff.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ld_word,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	ld_word:
  25              	.LFB130:
  26              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - Generic FAT file system module  R0.12c                             /
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** /
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2017, ChaN, all right reserved.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is an open source software. Redistribution and use of FatFs in
   8:Middlewares/Third_Party/FatFs/src/ff.c **** / source and binary forms, with or without modification, are permitted provided
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / that the following condition is met:
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /
  11:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  12:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  13:Middlewares/Third_Party/FatFs/src/ff.c **** /
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /----------------------------------------------------------------------------*/
  19:Middlewares/Third_Party/FatFs/src/ff.c **** 
  20:Middlewares/Third_Party/FatFs/src/ff.c **** 
  21:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
  22:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of device I/O functions */
  23:Middlewares/Third_Party/FatFs/src/ff.c **** 
  24:Middlewares/Third_Party/FatFs/src/ff.c **** 
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
  26:Middlewares/Third_Party/FatFs/src/ff.c **** 
  27:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
  28:Middlewares/Third_Party/FatFs/src/ff.c **** 
  29:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
  30:Middlewares/Third_Party/FatFs/src/ff.c **** 
  31:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 68300	/* Revision ID */
  32:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 2


  33:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
  34:Middlewares/Third_Party/FatFs/src/ff.c **** 
  35:Middlewares/Third_Party/FatFs/src/ff.c **** 
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS upper conversion tables */
  37:Middlewares/Third_Party/FatFs/src/ff.c **** 
  38:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
  39:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
  40:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
  41:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
  42:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
  43:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
  44:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
  45:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
  46:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
  47:Middlewares/Third_Party/FatFs/src/ff.c **** 
  48:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
  49:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  50:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  51:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  52:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  53:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
  54:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  55:Middlewares/Third_Party/FatFs/src/ff.c **** 
  56:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
  57:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  58:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  59:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
  60:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
  61:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
  62:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
  63:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
  64:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
  65:Middlewares/Third_Party/FatFs/src/ff.c **** 
  66:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
  67:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  68:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  69:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  70:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  71:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
  72:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  73:Middlewares/Third_Party/FatFs/src/ff.c **** 
  74:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. */
  75:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  76:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
  77:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  78:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  79:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  80:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  81:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  82:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  83:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  84:Middlewares/Third_Party/FatFs/src/ff.c **** 
  85:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic */
  86:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  87:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  88:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  89:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 3


  90:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  91:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  92:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  93:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  94:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  95:Middlewares/Third_Party/FatFs/src/ff.c **** 
  96:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek */
  97:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  98:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  99:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \
 100:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96, \
 101:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 102:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 103:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 104:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xEF,0xF5,0xF0,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 105:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 106:Middlewares/Third_Party/FatFs/src/ff.c **** 
 107:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 771	/* KBL */
 108:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 109:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 110:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 111:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 112:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 113:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 114:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDC,0xDE,0xDE, \
 115:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 116:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFE,0xFF}
 117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 118:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic */
 119:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 120:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F, \
 121:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 122:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 123:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 124:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xA5,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 126:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF, \
 127:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Latin 1 */
 130:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 131:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x41,0x43,0x45,0x45,0x45,0x49,0x49,0x49,0x41,0x41, \
 132:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x92,0x92,0x4F,0x4F,0x4F,0x55,0x55,0x59,0x4F,0x55,0x4F,0x9C,0x4F,0x9E,0x9F, \
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 134:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0x41,0x41,0x41,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0x41,0x41,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 136:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0x45,0x45,0x45,0x49,0x49,0x49,0x49,0xD9,0xDA,0xDB,0xDC,0xDD,0x49,0xDF, \
 137:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x4F,0xE1,0x4F,0x4F,0x4F,0x4F,0xE6,0xE8,0xE8,0x55,0x55,0x55,0x59,0x59,0xEE,0xEF, \
 138:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 */
 141:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F, \
 143:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0xAC, \
 144:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF, \
 145:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBD,0xBF, \
 146:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 4


 147:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD2,0xD3,0xD2,0xD5,0xD6,0xD7,0xB7,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 148:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF, \
 149:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}
 150:Middlewares/Third_Party/FatFs/src/ff.c **** 
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic */
 152:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F, \
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF, \
 156:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB6,0xB6,0xB8,0xB8,0xB9,0xBA,0xBB,0xBC,0xBE,0xBE,0xBF, \
 157:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 158:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD3,0xD3,0xD5,0xD5,0xD7,0xD7,0xDD,0xD9,0xDA,0xDB,0xDC,0xDD,0xE0,0xDF, \
 159:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF, \
 160:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}
 161:Middlewares/Third_Party/FatFs/src/ff.c **** 
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish */
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x49,0x8E,0x8F, \
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 167:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 168:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 169:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0x49,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 170:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0xED,0xEE,0xEF, \
 171:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 172:Middlewares/Third_Party/FatFs/src/ff.c **** 
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 860	/* Portuguese */
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x8F,0x8E,0x91,0x86,0x80,0x89,0x89,0x92,0x8B,0x8C,0x98,0x8E,0x8F, \
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x8C,0x99,0xA9,0x96,0x9D,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x86,0x8B,0x9F,0x96,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 178:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 179:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 180:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 181:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 182:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 183:Middlewares/Third_Party/FatFs/src/ff.c **** 
 184:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 861	/* Icelandic */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 186:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x8B,0x8B,0x8D,0x8E,0x8F, \
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x8D,0x55,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 188:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA4,0xA5,0xA6,0xA7,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 189:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 193:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 198:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 199:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 200:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 201:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 202:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 203:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 5


 204:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 205:Middlewares/Third_Party/FatFs/src/ff.c **** 
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 863	/* Canadian-French */
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x41,0x8F, \
 209:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x45,0x45,0x4F,0x45,0x49,0x55,0x55,0x98,0x4F,0x55,0x9B,0x9C,0x55,0x55,0x9F, \
 210:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0x4F,0x55,0xA4,0xA5,0xA6,0xA7,0x49,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 211:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 213:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 214:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 215:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 216:Middlewares/Third_Party/FatFs/src/ff.c **** 
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 864	/* Arabic */
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 220:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 221:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 223:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 224:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 225:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 226:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 227:Middlewares/Third_Party/FatFs/src/ff.c **** 
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 865	/* Nordic */
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 230:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 231:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 232:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 233:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 238:Middlewares/Third_Party/FatFs/src/ff.c **** 
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian */
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 241:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 245:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 246:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 247:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 
 250:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 869	/* Greek 2 */
 251:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 253:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x86,0x9C,0x8D,0x8F,0x90, \
 254:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x90,0x92,0x95,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xA4,0xA5,0xA6,0xD9,0xDA,0xDB,0xDC,0xA7,0xA8,0xDF, \
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA9,0xAA,0xAC,0xAD,0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xCF,0xCF,0xD0,0xEF, \
 259:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xD1,0xD2,0xD3,0xF5,0xD4,0xF7,0xF8,0xF9,0xD5,0x96,0x95,0x98,0xFE,0xFF}
 260:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 6


 261:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 262:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 263:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot enable LFN without valid code page.
 264:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 265:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 266:Middlewares/Third_Party/FatFs/src/ff.c **** 
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 270:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 276:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 
 278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S != 0	/* Code page is DBCS */
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 283:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 284:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 
 286:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 290:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 
 292:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** 
 297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 300:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file attribute bits for internal use */
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #define	AM_VOL		0x08	/* Volume label */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_LFN		0x0F	/* LFN entry */
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_MASK		0x3F	/* Mask of defined bits */
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 
 306:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file access control and file status flags for internal use */
 307:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_SEEKEND	0x20	/* Seek to end of the file on file open */
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_MODIFIED	0x40	/* File has been modified */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_DIRTY	0x80	/* FIL.buf[] needs to be written-back */
 310:Middlewares/Third_Party/FatFs/src/ff.c **** 
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 
 312:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags in fn[] */
 313:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of the name status byte */
 314:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 7


 318:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 319:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 320:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NOLFN	0x40	/* Do not find LFN */
 321:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NONAME	0x80	/* Not followed */
 322:Middlewares/Third_Party/FatFs/src/ff.c **** 
 323:Middlewares/Third_Party/FatFs/src/ff.c **** 
 324:Middlewares/Third_Party/FatFs/src/ff.c **** /* Limits and boundaries */
 325:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR		0x200000		/* Max size of FAT directory */
 326:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR_EX	0x10000000		/* Max size of exFAT directory */
 327:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_FAT12	0xFF5			/* Max FAT12 clusters (differs from specs, but correct for real DOS/Windo
 328:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT16	0xFFF5			/* Max FAT16 clusters (differs from specs, but correct for real DOS/Wind
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT32	0x0FFFFFF5		/* Max FAT32 clusters (not specified, practical limit) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_EXFAT	0x7FFFFFFD		/* Max exFAT clusters (differs from specs, implementation limit) */
 331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 
 333:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the FAT structure as simple byte array instead of structure member
 334:Middlewares/Third_Party/FatFs/src/ff.c **** / because the C structure is not binary compatible between different platforms */
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_JmpBoot			0		/* x86 jump instruction (3-byte) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8-byte) */
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (WORD) */
 339:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (BYTE) */
 340:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (WORD) */
 341:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FATs (BYTE) */
 342:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Size of root directory area for FAT12/16 [entry] (WORD) */
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size (16-bit) [sector] (WORD) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor byte (BYTE) */
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size (16-bit) [sector] (WORD) */
 346:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size for int13h [sector] (WORD) */
 347:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads for int13h (WORD) */
 348:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Volume offset from top of the drive (DWORD) */
 349:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size (32-bit) [sector] (DWORD) */
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number for int13h (BYTE) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres			37		/* Error flag (BYTE) */
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (BYTE) */
 353:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (DWORD) */
 354:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label string (8-byte) */
 355:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type string (8-byte) */
 356:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode			62		/* Boot code (448-byte) */
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (WORD) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT32: FAT size [sector] (DWORD) */
 360:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags32		40		/* FAT32: Extended flags (WORD) */
 361:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer32			42		/* FAT32: File system version (WORD) */
 362:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus32		44		/* FAT32: Root directory cluster (DWORD) */
 363:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo32		48		/* FAT32: Offset of FSINFO sector (WORD) */
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec32		50		/* FAT32: Offset of backup boot sector (WORD) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* FAT32: Physical drive number for int13h (BYTE) */
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres32			65		/* FAT32: Error flag (BYTE) */
 367:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* FAT32: Extended boot signature (BYTE) */
 368:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* FAT32: Volume serial number (DWORD) */
 369:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* FAT32: Volume label string (8-byte) */
 370:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* FAT32: File system type string (8-byte) */
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode32		90		/* FAT32: Boot code (420-byte) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** 
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ZeroedEx		11		/* exFAT: MBZ field (53-byte) */
 374:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolOfsEx		64		/* exFAT: Volume offset from top of the drive [sector] (QWORD) */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 8


 375:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSecEx		72		/* exFAT: Volume size [sector] (QWORD) */
 376:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatOfsEx		80		/* exFAT: FAT offset from top of the volume [sector] (DWORD) */
 377:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatSzEx			84		/* exFAT: FAT size [sector] (DWORD) */
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DataOfsEx		88		/* exFAT: Data offset from top of the volume [sector] (DWORD) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumClusEx		92		/* exFAT: Number of clusters (DWORD) */
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClusEx		96		/* exFAT: Root directory start cluster (DWORD) */
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolIDEx			100		/* exFAT: Volume serial number (DWORD) */
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVerEx			104		/* exFAT: File system version (WORD) */
 383:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolFlagEx		106		/* exFAT: Volume flags (BYTE) */
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ActFatEx		107		/* exFAT: Active FAT flags (BYTE) */
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSecEx	108		/* exFAT: Log2 of sector size in unit of byte (BYTE) */
 386:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClusEx	109		/* exFAT: Log2 of cluster size in unit of sector (BYTE) */
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATsEx		110		/* exFAT: Number of FATs (BYTE) */
 388:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DrvNumEx		111		/* exFAT: Physical drive number for int13h (BYTE) */
 389:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_PercInUseEx		112		/* exFAT: Percent in use (BYTE) */
 390:Middlewares/Third_Party/FatFs/src/ff.c **** #define	BPB_RsvdEx			113		/* exFAT: Reserved (7-byte) */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCodeEx		120		/* exFAT: Boot code (390-byte) */
 392:Middlewares/Third_Party/FatFs/src/ff.c **** 
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11-byte) */
 394:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (BYTE) */
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (BYTE) */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTime10		13		/* Created time sub-second (BYTE) */
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (DWORD) */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (WORD) */
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (WORD) */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_ModTime			22		/* Modified time (DWORD) */
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (WORD) */
 402:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (DWORD) */
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN: LFN order and LLE flag (BYTE) */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN: LFN attribute (BYTE) */
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN: Entry type (BYTE) */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* LFN: Checksum of the SFN (BYTE) */
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* LFN: MBZ field (WORD) */
 408:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Type			0		/* exFAT: Type of exFAT directory entry (BYTE) */
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumLabel		1		/* exFAT: Number of volume label characters (BYTE) */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Label			2		/* exFAT: Volume label (11-WORD) */
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CaseSum		4		/* exFAT: Sum of case conversion table (DWORD) */
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumSec			1		/* exFAT: Number of secondary entries (BYTE) */
 413:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_SetSum			2		/* exFAT: Sum of the set of directory entries (WORD) */
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Attr			4		/* exFAT: File attribute (WORD) */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime		8		/* exFAT: Created time (DWORD) */
 416:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime		12		/* exFAT: Modified time (DWORD) */
 417:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTime		16		/* exFAT: Last accessed time (DWORD) */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime10		20		/* exFAT: Created time subsecond (BYTE) */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime10		21		/* exFAT: Modified time subsecond (BYTE) */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTZ			22		/* exFAT: Created timezone (BYTE) */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTZ			23		/* exFAT: Modified timezone (BYTE) */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTZ			24		/* exFAT: Last accessed timezone (BYTE) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_GenFlags		33		/* exFAT: General secondary flags (WORD) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumName		35		/* exFAT: Number of file name characters (BYTE) */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NameHash		36		/* exFAT: Hash of file name (WORD) */
 426:Middlewares/Third_Party/FatFs/src/ff.c **** #define XDIR_ValidFileSize	40		/* exFAT: Valid file size (QWORD) */
 427:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FstClus		52		/* exFAT: First cluster of the file data (DWORD) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FileSize		56		/* exFAT: File/Directory size (QWORD) */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** 
 430:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZDIRE				32		/* Size of a directory entry */
 431:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark set to DIR_Name[0] */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 9


 432:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 433:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 434:Middlewares/Third_Party/FatFs/src/ff.c **** 
 435:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FAT32 FSI: Leading signature (DWORD) */
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FAT32 FSI: Structure signature (DWORD) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FAT32 FSI: Number of free clusters (DWORD) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FAT32 FSI: Last allocated cluster (DWORD) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** 
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Offset of partition table in the MBR */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_Boot			0		/* MBR PTE: Boot indicator */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StHead			1		/* MBR PTE: Start head */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StSec			2		/* MBR PTE: Start sector */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StCyl			3		/* MBR PTE: Start cylinder */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_System			4		/* MBR PTE: System ID */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdHead			5		/* MBR PTE: End head */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdSec			6		/* MBR PTE: End sector */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdCyl			7		/* MBR PTE: End cylinder */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StLba			8		/* MBR PTE: Start in LBA */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_SizLba			12		/* MBR PTE: Size in LBA */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** 
 453:Middlewares/Third_Party/FatFs/src/ff.c **** 
 454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Post process after fatal error on file operation */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 456:Middlewares/Third_Party/FatFs/src/ff.c **** 
 457:Middlewares/Third_Party/FatFs/src/ff.c **** 
 458:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 469:Middlewares/Third_Party/FatFs/src/ff.c **** 
 470:Middlewares/Third_Party/FatFs/src/ff.c **** 
 471:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of volume - partition conversion */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
 473:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) VolToPart[vol].pd	/* Get physical drive number */
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) VolToPart[vol].pt	/* Get partition index */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) (BYTE)(vol)	/* Each logical drive is bound to the same physical drive number */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) 0			/* Find first valid partition or in SFD */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 479:Middlewares/Third_Party/FatFs/src/ff.c **** 
 480:Middlewares/Third_Party/FatFs/src/ff.c **** 
 481:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 10


 489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 490:Middlewares/Third_Party/FatFs/src/ff.c **** 
 491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 492:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 495:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 496:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 497:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 498:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 499:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 500:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 501:Middlewares/Third_Party/FatFs/src/ff.c **** 
 502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock controls */
 504:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 505:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 506:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 508:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 509:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 510:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, containing directory (0:root) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs;		/* Object ID 3, offset in the directory */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 513:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 514:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 515:Middlewares/Third_Party/FatFs/src/ff.c **** 
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** 
 518:Middlewares/Third_Party/FatFs/src/ff.c **** 
 519:Middlewares/Third_Party/FatFs/src/ff.c **** 
 520:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 521:Middlewares/Third_Party/FatFs/src/ff.c **** 
 522:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Work Area
 523:Middlewares/Third_Party/FatFs/src/ff.c **** 
 524:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 526:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Variables defined here without initial value shall be guaranteed
 527:Middlewares/Third_Party/FatFs/src/ff.c **** /  zero/null at start-up. If not, the linker option or start-up routine is
 528:Middlewares/Third_Party/FatFs/src/ff.c **** /  not compliance with C standard. */
 529:Middlewares/Third_Party/FatFs/src/ff.c **** 
 530:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 10
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 533:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 534:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
 537:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 541:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 543:Middlewares/Third_Party/FatFs/src/ff.c **** 
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0		/* Non-LFN configuration */
 545:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 11


 546:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 548:Middlewares/Third_Party/FatFs/src/ff.c **** 
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #else					/* LFN configuration */
 550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 551:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN value
 552:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 553:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAXDIRB(nc)	((nc + 44U) / 15 * SZDIRE)
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1		/* LFN enabled with static working buffer */
 556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 557:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE	DirBuf[MAXDIRB(_MAX_LFN)];	/* Directory entry block scratchpad buffer */
 558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 559:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];	/* LFN enabled with static working buffer */
 560:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 561:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 562:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 	/* LFN enabled with dynamic working buffer on the stack */
 565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1]; BYTE dbuf[MAXDIRB(_MAX_LFN)];
 567:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; (fs)->dirbuf = dbuf; }
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 569:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1];
 571:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; }
 572:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 574:Middlewares/Third_Party/FatFs/src/ff.c **** 
 575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 	/* LFN enabled with dynamic working buffer on the heap */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 577:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 578:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2 + MAXDIRB(_MAX_LFN)); if (!lfn) LEAVE_FF
 579:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 580:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 581:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 582:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2); if (!lfn) LEAVE_FF(fs, FR_NOT_ENOUGH_C
 583:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 
 586:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 587:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 
 589:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* else _USE_LFN == 0 */
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 592:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 593:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for SBCS extended characters */
 594:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 595:Middlewares/Third_Party/FatFs/src/ff.c **** 
 596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 597:Middlewares/Third_Party/FatFs/src/ff.c **** 
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 
 601:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 602:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 12


 603:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 604:Middlewares/Third_Party/FatFs/src/ff.c **** 
 605:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 606:Middlewares/Third_Party/FatFs/src/ff.c **** 
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 
 608:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 609:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load/Store multi-byte word in the FAT structure                       */
 610:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 612:Middlewares/Third_Party/FatFs/src/ff.c **** static
 613:Middlewares/Third_Party/FatFs/src/ff.c **** WORD ld_word (const BYTE* ptr)	/*	 Load a 2-byte little-endian word */
 614:Middlewares/Third_Party/FatFs/src/ff.c **** {
  27              		.loc 1 614 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
 615:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD rv;
 616:Middlewares/Third_Party/FatFs/src/ff.c **** 
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[1];
  33              		.loc 1 617 0
  34 0000 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
  35              	.LVL1:
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  36              		.loc 1 618 0
  37 0002 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  38              	.LVL2:
 619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 620:Middlewares/Third_Party/FatFs/src/ff.c **** }
  39              		.loc 1 620 0
  40 0004 40EA0220 		orr	r0, r0, r2, lsl #8
  41              	.LVL3:
  42 0008 7047     		bx	lr
  43              		.cfi_endproc
  44              	.LFE130:
  46              		.section	.text.ld_dword,"ax",%progbits
  47              		.align	1
  48              		.syntax unified
  49              		.thumb
  50              		.thumb_func
  51              		.fpu fpv4-sp-d16
  53              	ld_dword:
  54              	.LFB131:
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** static
 623:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_dword (const BYTE* ptr)	/* Load a 4-byte little-endian word */
 624:Middlewares/Third_Party/FatFs/src/ff.c **** {
  55              		.loc 1 624 0
  56              		.cfi_startproc
  57              		@ args = 0, pretend = 0, frame = 0
  58              		@ frame_needed = 0, uses_anonymous_args = 0
  59              		@ link register save eliminated.
  60              	.LVL4:
 625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rv;
 626:Middlewares/Third_Party/FatFs/src/ff.c **** 
 627:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[3];
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 13


  61              		.loc 1 627 0
  62 0000 C278     		ldrb	r2, [r0, #3]	@ zero_extendqisi2
  63              	.LVL5:
 628:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
  64              		.loc 1 628 0
  65 0002 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  66 0004 43EA0222 		orr	r2, r3, r2, lsl #8
  67              	.LVL6:
 629:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
  68              		.loc 1 629 0
  69 0008 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  70 000a 43EA0223 		orr	r3, r3, r2, lsl #8
  71              	.LVL7:
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  72              		.loc 1 630 0
  73 000e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  74              	.LVL8:
 631:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 632:Middlewares/Third_Party/FatFs/src/ff.c **** }
  75              		.loc 1 632 0
  76 0010 40EA0320 		orr	r0, r0, r3, lsl #8
  77              	.LVL9:
  78 0014 7047     		bx	lr
  79              		.cfi_endproc
  80              	.LFE131:
  82              		.section	.text.st_word,"ax",%progbits
  83              		.align	1
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  87              		.fpu fpv4-sp-d16
  89              	st_word:
  90              	.LFB132:
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 
 634:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 635:Middlewares/Third_Party/FatFs/src/ff.c **** static
 636:Middlewares/Third_Party/FatFs/src/ff.c **** QWORD ld_qword (const BYTE* ptr)	/* Load an 8-byte little-endian word */
 637:Middlewares/Third_Party/FatFs/src/ff.c **** {
 638:Middlewares/Third_Party/FatFs/src/ff.c **** 	QWORD rv;
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[7];
 641:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[6];
 642:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[5];
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[4];
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[3];
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
 647:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 651:Middlewares/Third_Party/FatFs/src/ff.c **** 
 652:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 653:Middlewares/Third_Party/FatFs/src/ff.c **** static
 654:Middlewares/Third_Party/FatFs/src/ff.c **** void st_word (BYTE* ptr, WORD val)	/* Store a 2-byte word in little-endian */
 655:Middlewares/Third_Party/FatFs/src/ff.c **** {
  91              		.loc 1 655 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 14


  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              		@ link register save eliminated.
  96              	.LVL10:
 656:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
  97              		.loc 1 656 0
  98 0000 0170     		strb	r1, [r0]
  99              	.LVL11:
 657:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 100              		.loc 1 657 0
 101 0002 090A     		lsrs	r1, r1, #8
 102              	.LVL12:
 103 0004 4170     		strb	r1, [r0, #1]
 658:Middlewares/Third_Party/FatFs/src/ff.c **** }
 104              		.loc 1 658 0
 105 0006 7047     		bx	lr
 106              		.cfi_endproc
 107              	.LFE132:
 109              		.section	.text.st_dword,"ax",%progbits
 110              		.align	1
 111              		.syntax unified
 112              		.thumb
 113              		.thumb_func
 114              		.fpu fpv4-sp-d16
 116              	st_dword:
 117              	.LFB133:
 659:Middlewares/Third_Party/FatFs/src/ff.c **** 
 660:Middlewares/Third_Party/FatFs/src/ff.c **** static
 661:Middlewares/Third_Party/FatFs/src/ff.c **** void st_dword (BYTE* ptr, DWORD val)	/* Store a 4-byte word in little-endian */
 662:Middlewares/Third_Party/FatFs/src/ff.c **** {
 118              		.loc 1 662 0
 119              		.cfi_startproc
 120              		@ args = 0, pretend = 0, frame = 0
 121              		@ frame_needed = 0, uses_anonymous_args = 0
 122              		@ link register save eliminated.
 123              	.LVL13:
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 124              		.loc 1 663 0
 125 0000 0170     		strb	r1, [r0]
 126              	.LVL14:
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 127              		.loc 1 664 0
 128 0002 C1F30723 		ubfx	r3, r1, #8, #8
 129 0006 4370     		strb	r3, [r0, #1]
 130              	.LVL15:
 665:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 131              		.loc 1 665 0
 132 0008 C1F30743 		ubfx	r3, r1, #16, #8
 133 000c 8370     		strb	r3, [r0, #2]
 134              	.LVL16:
 666:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 135              		.loc 1 666 0
 136 000e 090E     		lsrs	r1, r1, #24
 137              	.LVL17:
 138 0010 C170     		strb	r1, [r0, #3]
 667:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 15


 139              		.loc 1 667 0
 140 0012 7047     		bx	lr
 141              		.cfi_endproc
 142              	.LFE133:
 144              		.section	.text.mem_cpy,"ax",%progbits
 145              		.align	1
 146              		.syntax unified
 147              		.thumb
 148              		.thumb_func
 149              		.fpu fpv4-sp-d16
 151              	mem_cpy:
 152              	.LFB134:
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 670:Middlewares/Third_Party/FatFs/src/ff.c **** static
 671:Middlewares/Third_Party/FatFs/src/ff.c **** void st_qword (BYTE* ptr, QWORD val)	/* Store an 8-byte word in little-endian */
 672:Middlewares/Third_Party/FatFs/src/ff.c **** {
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 681:Middlewares/Third_Party/FatFs/src/ff.c **** }
 682:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 683:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
 684:Middlewares/Third_Party/FatFs/src/ff.c **** 
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 688:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 
 691:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 692:Middlewares/Third_Party/FatFs/src/ff.c **** static
 693:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
 153              		.loc 1 693 0
 154              		.cfi_startproc
 155              		@ args = 0, pretend = 0, frame = 0
 156              		@ frame_needed = 0, uses_anonymous_args = 0
 157              		@ link register save eliminated.
 158              	.LVL18:
 694:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cnt) {
 159              		.loc 1 697 0
 160 0000 1346     		mov	r3, r2
 161 0002 2AB1     		cbz	r2, .L5
 162              	.LVL19:
 163              	.L7:
 698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 			*d++ = *s++;
 164              		.loc 1 699 0 discriminator 1
 165 0004 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 16


 166 0006 0270     		strb	r2, [r0]
 167              	.LVL20:
 168 0008 0130     		adds	r0, r0, #1
 169              	.LVL21:
 170 000a 0131     		adds	r1, r1, #1
 171              	.LVL22:
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (--cnt);
 172              		.loc 1 700 0 discriminator 1
 173 000c 013B     		subs	r3, r3, #1
 174              	.LVL23:
 175 000e F9D1     		bne	.L7
 176              	.L5:
 701:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 702:Middlewares/Third_Party/FatFs/src/ff.c **** }
 177              		.loc 1 702 0
 178 0010 7047     		bx	lr
 179              		.cfi_endproc
 180              	.LFE134:
 182              		.section	.text.mem_set,"ax",%progbits
 183              		.align	1
 184              		.syntax unified
 185              		.thumb
 186              		.thumb_func
 187              		.fpu fpv4-sp-d16
 189              	mem_set:
 190              	.LFB135:
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 
 704:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory block */
 705:Middlewares/Third_Party/FatFs/src/ff.c **** static
 706:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
 191              		.loc 1 706 0
 192              		.cfi_startproc
 193              		@ args = 0, pretend = 0, frame = 0
 194              		@ frame_needed = 0, uses_anonymous_args = 0
 195              		@ link register save eliminated.
 196              	.LVL24:
 197              	.L9:
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
 198              		.loc 1 710 0 discriminator 1
 199 0000 0170     		strb	r1, [r0]
 200              	.LVL25:
 201 0002 0130     		adds	r0, r0, #1
 202              	.LVL26:
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt);
 203              		.loc 1 711 0 discriminator 1
 204 0004 013A     		subs	r2, r2, #1
 205              	.LVL27:
 206 0006 FBD1     		bne	.L9
 712:Middlewares/Third_Party/FatFs/src/ff.c **** }
 207              		.loc 1 712 0
 208 0008 7047     		bx	lr
 209              		.cfi_endproc
 210              	.LFE135:
 212              		.section	.text.mem_cmp,"ax",%progbits
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 17


 213              		.align	1
 214              		.syntax unified
 215              		.thumb
 216              		.thumb_func
 217              		.fpu fpv4-sp-d16
 219              	mem_cmp:
 220              	.LFB136:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 
 714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory block */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** static
 716:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {	/* ZR:same, NZ:different */
 221              		.loc 1 716 0
 222              		.cfi_startproc
 223              		@ args = 0, pretend = 0, frame = 0
 224              		@ frame_needed = 0, uses_anonymous_args = 0
 225              		@ link register save eliminated.
 226              	.LVL28:
 227 0000 30B4     		push	{r4, r5}
 228              	.LCFI0:
 229              		.cfi_def_cfa_offset 8
 230              		.cfi_offset 4, -8
 231              		.cfi_offset 5, -4
 232              	.LVL29:
 233              	.L12:
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 		r = *d++ - *s++;
 234              		.loc 1 721 0 discriminator 2
 235 0002 451C     		adds	r5, r0, #1
 236              	.LVL30:
 237 0004 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 238              	.LVL31:
 239 0006 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 240 0008 1B1A     		subs	r3, r3, r0
 241              	.LVL32:
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt && r == 0);
 242              		.loc 1 722 0 discriminator 2
 243 000a 013A     		subs	r2, r2, #1
 244              	.LVL33:
 245 000c 04D0     		beq	.L10
 246 000e 4C1C     		adds	r4, r1, #1
 247              	.LVL34:
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt && r == 0);
 248              		.loc 1 721 0 discriminator 1
 249 0010 2846     		mov	r0, r5
 250 0012 2146     		mov	r1, r4
 251              		.loc 1 722 0 discriminator 1
 252 0014 002B     		cmp	r3, #0
 253 0016 F4D0     		beq	.L12
 254              	.LVL35:
 255              	.L10:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 725:Middlewares/Third_Party/FatFs/src/ff.c **** }
 256              		.loc 1 725 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 18


 257 0018 1846     		mov	r0, r3
 258 001a 30BC     		pop	{r4, r5}
 259              	.LCFI1:
 260              		.cfi_restore 5
 261              		.cfi_restore 4
 262              		.cfi_def_cfa_offset 0
 263              	.LVL36:
 264 001c 7047     		bx	lr
 265              		.cfi_endproc
 266              	.LFE136:
 268              		.section	.text.chk_chr,"ax",%progbits
 269              		.align	1
 270              		.syntax unified
 271              		.thumb
 272              		.thumb_func
 273              		.fpu fpv4-sp-d16
 275              	chk_chr:
 276              	.LFB137:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** 
 727:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 728:Middlewares/Third_Party/FatFs/src/ff.c **** static
 729:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {	/* NZ:contained, ZR:not contained */
 277              		.loc 1 729 0
 278              		.cfi_startproc
 279              		@ args = 0, pretend = 0, frame = 0
 280              		@ frame_needed = 0, uses_anonymous_args = 0
 281              		@ link register save eliminated.
 282              	.LVL37:
 730:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 283              		.loc 1 730 0
 284 0000 00E0     		b	.L15
 285              	.L17:
 286              		.loc 1 730 0 is_stmt 0 discriminator 3
 287 0002 0130     		adds	r0, r0, #1
 288              	.LVL38:
 289              	.L15:
 290              		.loc 1 730 0 discriminator 1
 291 0004 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 292 0006 0BB1     		cbz	r3, .L16
 293              		.loc 1 730 0 discriminator 2
 294 0008 8B42     		cmp	r3, r1
 295 000a FAD1     		bne	.L17
 296              	.L16:
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 732:Middlewares/Third_Party/FatFs/src/ff.c **** }
 297              		.loc 1 732 0 is_stmt 1
 298 000c 1846     		mov	r0, r3
 299              	.LVL39:
 300 000e 7047     		bx	lr
 301              		.cfi_endproc
 302              	.LFE137:
 304              		.section	.text.chk_lock,"ax",%progbits
 305              		.align	1
 306              		.syntax unified
 307              		.thumb
 308              		.thumb_func
 309              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 19


 311              	chk_lock:
 312              	.LFB138:
 733:Middlewares/Third_Party/FatFs/src/ff.c **** 
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 738:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 739:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 740:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 741:Middlewares/Third_Party/FatFs/src/ff.c **** static
 742:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 744:Middlewares/Third_Party/FatFs/src/ff.c **** )
 745:Middlewares/Third_Party/FatFs/src/ff.c **** {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (fs && ff_req_grant(fs->sobj)) ? 1 : 0;
 747:Middlewares/Third_Party/FatFs/src/ff.c **** }
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 
 749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 750:Middlewares/Third_Party/FatFs/src/ff.c **** static
 751:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 752:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 753:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** )
 755:Middlewares/Third_Party/FatFs/src/ff.c **** {
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs && res != FR_NOT_ENABLED && res != FR_INVALID_DRIVE && res != FR_TIMEOUT) {
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 759:Middlewares/Third_Party/FatFs/src/ff.c **** }
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 
 761:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 762:Middlewares/Third_Party/FatFs/src/ff.c **** 
 763:Middlewares/Third_Party/FatFs/src/ff.c **** 
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 766:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 767:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** 
 770:Middlewares/Third_Party/FatFs/src/ff.c **** static
 771:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 772:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 773:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 774:Middlewares/Third_Party/FatFs/src/ff.c **** )
 775:Middlewares/Third_Party/FatFs/src/ff.c **** {
 313              		.loc 1 775 0
 314              		.cfi_startproc
 315              		@ args = 0, pretend = 0, frame = 0
 316              		@ frame_needed = 0, uses_anonymous_args = 0
 317              		@ link register save eliminated.
 318              	.LVL40:
 319 0000 30B4     		push	{r4, r5}
 320              	.LCFI2:
 321              		.cfi_def_cfa_offset 8
 322              		.cfi_offset 4, -8
 323              		.cfi_offset 5, -4
 324              	.LVL41:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 20


 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 325              		.loc 1 779 0
 326 0002 0025     		movs	r5, #0
 327 0004 2B46     		mov	r3, r5
 328 0006 01E0     		b	.L19
 329              	.LVL42:
 330              	.L25:
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->obj.fs &&	 	/* Check if the object matched with an open object */
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 331              		.loc 1 785 0
 332 0008 0125     		movs	r5, #1
 333              	.LVL43:
 334              	.L20:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 335              		.loc 1 779 0 discriminator 2
 336 000a 0133     		adds	r3, r3, #1
 337              	.LVL44:
 338              	.L19:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 339              		.loc 1 779 0 is_stmt 0 discriminator 1
 340 000c 012B     		cmp	r3, #1
 341 000e 15D8     		bhi	.L21
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 342              		.loc 1 780 0 is_stmt 1
 343 0010 1A01     		lsls	r2, r3, #4
 344 0012 174C     		ldr	r4, .L33
 345 0014 A258     		ldr	r2, [r4, r2]
 346 0016 002A     		cmp	r2, #0
 347 0018 F6D0     		beq	.L25
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 348              		.loc 1 781 0
 349 001a 0468     		ldr	r4, [r0]
 350 001c A242     		cmp	r2, r4
 351 001e F4D1     		bne	.L20
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 352              		.loc 1 782 0 discriminator 1
 353 0020 134A     		ldr	r2, .L33
 354 0022 02EB0312 		add	r2, r2, r3, lsl #4
 355 0026 5468     		ldr	r4, [r2, #4]
 356 0028 8268     		ldr	r2, [r0, #8]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 357              		.loc 1 781 0 discriminator 1
 358 002a 9442     		cmp	r4, r2
 359 002c EDD1     		bne	.L20
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 360              		.loc 1 783 0
 361 002e 104A     		ldr	r2, .L33
 362 0030 02EB0312 		add	r2, r2, r3, lsl #4
 363 0034 9468     		ldr	r4, [r2, #8]
 364 0036 4269     		ldr	r2, [r0, #20]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 21


 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 365              		.loc 1 782 0
 366 0038 9442     		cmp	r4, r2
 367 003a E6D1     		bne	.L20
 368              	.L21:
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {	/* The object is not opened */
 369              		.loc 1 788 0
 370 003c 022B     		cmp	r3, #2
 371 003e 0AD0     		beq	.L31
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 372              		.loc 1 793 0
 373 0040 A1B9     		cbnz	r1, .L28
 374              		.loc 1 793 0 is_stmt 0 discriminator 2
 375 0042 0B4A     		ldr	r2, .L33
 376 0044 02EB0313 		add	r3, r2, r3, lsl #4
 377              	.LVL45:
 378 0048 9B89     		ldrh	r3, [r3, #12]
 379 004a B3F5807F 		cmp	r3, #256
 380 004e 07D0     		beq	.L32
 381              		.loc 1 793 0
 382 0050 0020     		movs	r0, #0
 383              	.LVL46:
 384              	.L24:
 794:Middlewares/Third_Party/FatFs/src/ff.c **** }
 385              		.loc 1 794 0 is_stmt 1
 386 0052 30BC     		pop	{r4, r5}
 387              	.LCFI3:
 388              		.cfi_remember_state
 389              		.cfi_restore 5
 390              		.cfi_restore 4
 391              		.cfi_def_cfa_offset 0
 392              	.LVL47:
 393 0054 7047     		bx	lr
 394              	.LVL48:
 395              	.L31:
 396              	.LCFI4:
 397              		.cfi_restore_state
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 398              		.loc 1 789 0
 399 0056 2DB9     		cbnz	r5, .L26
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 400              		.loc 1 789 0 is_stmt 0 discriminator 2
 401 0058 0229     		cmp	r1, #2
 402 005a 05D1     		bne	.L27
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 403              		.loc 1 789 0
 404 005c 0020     		movs	r0, #0
 405              	.LVL49:
 406 005e F8E7     		b	.L24
 407              	.LVL50:
 408              	.L32:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 22


 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 409              		.loc 1 793 0 is_stmt 1
 410 0060 1020     		movs	r0, #16
 411              	.LVL51:
 412 0062 F6E7     		b	.L24
 413              	.LVL52:
 414              	.L26:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 415              		.loc 1 789 0
 416 0064 0020     		movs	r0, #0
 417              	.LVL53:
 418 0066 F4E7     		b	.L24
 419              	.LVL54:
 420              	.L27:
 421 0068 1220     		movs	r0, #18
 422              	.LVL55:
 423 006a F2E7     		b	.L24
 424              	.LVL56:
 425              	.L28:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 426              		.loc 1 793 0
 427 006c 1020     		movs	r0, #16
 428              	.LVL57:
 429 006e F0E7     		b	.L24
 430              	.L34:
 431              		.align	2
 432              	.L33:
 433 0070 00000000 		.word	.LANCHOR0
 434              		.cfi_endproc
 435              	.LFE138:
 437              		.section	.text.enq_lock,"ax",%progbits
 438              		.align	1
 439              		.syntax unified
 440              		.thumb
 441              		.thumb_func
 442              		.fpu fpv4-sp-d16
 444              	enq_lock:
 445              	.LFB139:
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 
 797:Middlewares/Third_Party/FatFs/src/ff.c **** static
 798:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 799:Middlewares/Third_Party/FatFs/src/ff.c **** {
 446              		.loc 1 799 0
 447              		.cfi_startproc
 448              		@ args = 0, pretend = 0, frame = 0
 449              		@ frame_needed = 0, uses_anonymous_args = 0
 450              		@ link register save eliminated.
 451              	.LVL58:
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 801:Middlewares/Third_Party/FatFs/src/ff.c **** 
 802:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 452              		.loc 1 802 0
 453 0000 0020     		movs	r0, #0
 454 0002 00E0     		b	.L36
 455              	.LVL59:
 456              	.L38:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 23


 457              		.loc 1 802 0 is_stmt 0 discriminator 4
 458 0004 0130     		adds	r0, r0, #1
 459              	.LVL60:
 460              	.L36:
 461              		.loc 1 802 0 discriminator 1
 462 0006 0128     		cmp	r0, #1
 463 0008 04D8     		bhi	.L37
 464              		.loc 1 802 0 discriminator 3
 465 000a 0301     		lsls	r3, r0, #4
 466 000c 034A     		ldr	r2, .L39
 467 000e D358     		ldr	r3, [r2, r3]
 468 0010 002B     		cmp	r3, #0
 469 0012 F7D1     		bne	.L38
 470              	.L37:
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 804:Middlewares/Third_Party/FatFs/src/ff.c **** }
 471              		.loc 1 804 0 is_stmt 1
 472 0014 0238     		subs	r0, r0, #2
 473              	.LVL61:
 474 0016 18BF     		it	ne
 475 0018 0120     		movne	r0, #1
 476              	.LVL62:
 477 001a 7047     		bx	lr
 478              	.L40:
 479              		.align	2
 480              	.L39:
 481 001c 00000000 		.word	.LANCHOR0
 482              		.cfi_endproc
 483              	.LFE139:
 485              		.section	.text.inc_lock,"ax",%progbits
 486              		.align	1
 487              		.syntax unified
 488              		.thumb
 489              		.thumb_func
 490              		.fpu fpv4-sp-d16
 492              	inc_lock:
 493              	.LFB140:
 805:Middlewares/Third_Party/FatFs/src/ff.c **** 
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 
 807:Middlewares/Third_Party/FatFs/src/ff.c **** static
 808:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** )
 812:Middlewares/Third_Party/FatFs/src/ff.c **** {
 494              		.loc 1 812 0
 495              		.cfi_startproc
 496              		@ args = 0, pretend = 0, frame = 0
 497              		@ frame_needed = 0, uses_anonymous_args = 0
 498              		@ link register save eliminated.
 499              	.LVL63:
 500 0000 70B4     		push	{r4, r5, r6}
 501              	.LCFI5:
 502              		.cfi_def_cfa_offset 12
 503              		.cfi_offset 4, -12
 504              		.cfi_offset 5, -8
 505              		.cfi_offset 6, -4
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 24


 506              	.LVL64:
 813:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 507              		.loc 1 816 0
 508 0002 0023     		movs	r3, #0
 509 0004 00E0     		b	.L42
 510              	.LVL65:
 511              	.L43:
 512              		.loc 1 816 0 is_stmt 0 discriminator 2
 513 0006 0133     		adds	r3, r3, #1
 514              	.LVL66:
 515              	.L42:
 516              		.loc 1 816 0 discriminator 1
 517 0008 012B     		cmp	r3, #1
 518 000a 13D8     		bhi	.L44
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 519              		.loc 1 817 0 is_stmt 1
 520 000c 1A01     		lsls	r2, r3, #4
 521 000e 244C     		ldr	r4, .L59
 522 0010 A458     		ldr	r4, [r4, r2]
 523 0012 0268     		ldr	r2, [r0]
 524 0014 9442     		cmp	r4, r2
 525 0016 F6D1     		bne	.L43
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 526              		.loc 1 818 0 discriminator 1
 527 0018 214A     		ldr	r2, .L59
 528 001a 02EB0312 		add	r2, r2, r3, lsl #4
 529 001e 5468     		ldr	r4, [r2, #4]
 530 0020 8268     		ldr	r2, [r0, #8]
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 531              		.loc 1 817 0 discriminator 1
 532 0022 9442     		cmp	r4, r2
 533 0024 EFD1     		bne	.L43
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].ofs == dp->dptr) break;
 534              		.loc 1 819 0
 535 0026 1E4A     		ldr	r2, .L59
 536 0028 02EB0312 		add	r2, r2, r3, lsl #4
 537 002c 9468     		ldr	r4, [r2, #8]
 538 002e 4269     		ldr	r2, [r0, #20]
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 539              		.loc 1 818 0
 540 0030 9442     		cmp	r4, r2
 541 0032 E8D1     		bne	.L43
 542              	.L44:
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 543              		.loc 1 822 0
 544 0034 022B     		cmp	r3, #2
 545 0036 29D0     		beq	.L58
 546              	.LVL67:
 547              	.L47:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 25


 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 829:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 830:Middlewares/Third_Party/FatFs/src/ff.c **** 
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 548              		.loc 1 831 0
 549 0038 21B1     		cbz	r1, .L51
 550              		.loc 1 831 0 is_stmt 0 discriminator 1
 551 003a 194A     		ldr	r2, .L59
 552 003c 02EB0312 		add	r2, r2, r3, lsl #4
 553 0040 9289     		ldrh	r2, [r2, #12]
 554 0042 52BB     		cbnz	r2, .L55
 555              	.L51:
 832:Middlewares/Third_Party/FatFs/src/ff.c **** 
 833:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 556              		.loc 1 833 0 is_stmt 1
 557 0044 21BB     		cbnz	r1, .L56
 558              		.loc 1 833 0 is_stmt 0 discriminator 1
 559 0046 164A     		ldr	r2, .L59
 560 0048 02EB0312 		add	r2, r2, r3, lsl #4
 561 004c 9189     		ldrh	r1, [r2, #12]
 562              	.LVL68:
 563 004e 0131     		adds	r1, r1, #1
 564 0050 89B2     		uxth	r1, r1
 565              	.L52:
 566              		.loc 1 833 0 discriminator 4
 567 0052 134A     		ldr	r2, .L59
 568 0054 02EB0312 		add	r2, r2, r3, lsl #4
 569 0058 9181     		strh	r1, [r2, #12]	@ movhi
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 
 835:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 570              		.loc 1 835 0 is_stmt 1 discriminator 4
 571 005a 581C     		adds	r0, r3, #1
 572              	.L41:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** }
 573              		.loc 1 836 0
 574 005c 70BC     		pop	{r4, r5, r6}
 575              	.LCFI6:
 576              		.cfi_remember_state
 577              		.cfi_restore 6
 578              		.cfi_restore 5
 579              		.cfi_restore 4
 580              		.cfi_def_cfa_offset 0
 581 005e 7047     		bx	lr
 582              	.LVL69:
 583              	.L49:
 584              	.LCFI7:
 585              		.cfi_restore_state
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 586              		.loc 1 823 0 discriminator 4
 587 0060 0133     		adds	r3, r3, #1
 588              	.LVL70:
 589              	.L46:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 590              		.loc 1 823 0 is_stmt 0 discriminator 1
 591 0062 012B     		cmp	r3, #1
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 26


 592 0064 04D8     		bhi	.L48
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 593              		.loc 1 823 0 discriminator 3
 594 0066 1A01     		lsls	r2, r3, #4
 595 0068 0D4C     		ldr	r4, .L59
 596 006a A258     		ldr	r2, [r4, r2]
 597 006c 002A     		cmp	r2, #0
 598 006e F7D1     		bne	.L49
 599              	.L48:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 600              		.loc 1 824 0 is_stmt 1
 601 0070 022B     		cmp	r3, #2
 602 0072 10D0     		beq	.L54
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 603              		.loc 1 825 0
 604 0074 0668     		ldr	r6, [r0]
 605 0076 0A4D     		ldr	r5, .L59
 606 0078 1C01     		lsls	r4, r3, #4
 607 007a 2A19     		adds	r2, r5, r4
 608 007c 2E51     		str	r6, [r5, r4]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 609              		.loc 1 826 0
 610 007e 8468     		ldr	r4, [r0, #8]
 611 0080 5460     		str	r4, [r2, #4]
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 612              		.loc 1 827 0
 613 0082 4069     		ldr	r0, [r0, #20]
 614              	.LVL71:
 615 0084 9060     		str	r0, [r2, #8]
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 616              		.loc 1 828 0
 617 0086 0020     		movs	r0, #0
 618 0088 9081     		strh	r0, [r2, #12]	@ movhi
 619 008a D5E7     		b	.L47
 620              	.LVL72:
 621              	.L58:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 622              		.loc 1 823 0
 623 008c 0023     		movs	r3, #0
 624              	.LVL73:
 625 008e E8E7     		b	.L46
 626              	.LVL74:
 627              	.L56:
 833:Middlewares/Third_Party/FatFs/src/ff.c **** 
 628              		.loc 1 833 0
 629 0090 4FF48071 		mov	r1, #256
 630              	.LVL75:
 631 0094 DDE7     		b	.L52
 632              	.LVL76:
 633              	.L54:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 634              		.loc 1 824 0
 635 0096 0020     		movs	r0, #0
 636              	.LVL77:
 637 0098 E0E7     		b	.L41
 638              	.L55:
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 27


 639              		.loc 1 831 0
 640 009a 0020     		movs	r0, #0
 641 009c DEE7     		b	.L41
 642              	.L60:
 643 009e 00BF     		.align	2
 644              	.L59:
 645 00a0 00000000 		.word	.LANCHOR0
 646              		.cfi_endproc
 647              	.LFE140:
 649              		.section	.text.dec_lock,"ax",%progbits
 650              		.align	1
 651              		.syntax unified
 652              		.thumb
 653              		.thumb_func
 654              		.fpu fpv4-sp-d16
 656              	dec_lock:
 657              	.LFB141:
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** static
 840:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 842:Middlewares/Third_Party/FatFs/src/ff.c **** )
 843:Middlewares/Third_Party/FatFs/src/ff.c **** {
 658              		.loc 1 843 0
 659              		.cfi_startproc
 660              		@ args = 0, pretend = 0, frame = 0
 661              		@ frame_needed = 0, uses_anonymous_args = 0
 662              		@ link register save eliminated.
 663              	.LVL78:
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 664              		.loc 1 848 0
 665 0000 0138     		subs	r0, r0, #1
 666              	.LVL79:
 667 0002 0128     		cmp	r0, #1
 668 0004 15D8     		bhi	.L64
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 669              		.loc 1 849 0
 670 0006 0D4B     		ldr	r3, .L67
 671 0008 03EB0013 		add	r3, r3, r0, lsl #4
 672 000c 9B89     		ldrh	r3, [r3, #12]
 673              	.LVL80:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 674              		.loc 1 850 0
 675 000e B3F5807F 		cmp	r3, #256
 676 0012 03D0     		beq	.L65
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n > 0) n--;				/* Decrement read mode open count */
 677              		.loc 1 851 0
 678 0014 1BB1     		cbz	r3, .L63
 679              		.loc 1 851 0 is_stmt 0 discriminator 1
 680 0016 013B     		subs	r3, r3, #1
 681              	.LVL81:
 682 0018 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 28


 683              	.LVL82:
 684 001a 00E0     		b	.L63
 685              	.L65:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 686              		.loc 1 850 0 is_stmt 1
 687 001c 0023     		movs	r3, #0
 688              	.LVL83:
 689              	.L63:
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 690              		.loc 1 852 0
 691 001e 074A     		ldr	r2, .L67
 692 0020 02EB0012 		add	r2, r2, r0, lsl #4
 693 0024 9381     		strh	r3, [r2, #12]	@ movhi
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 694              		.loc 1 853 0
 695 0026 33B9     		cbnz	r3, .L66
 696              		.loc 1 853 0 is_stmt 0 discriminator 1
 697 0028 0301     		lsls	r3, r0, #4
 698              	.LVL84:
 699 002a 0020     		movs	r0, #0
 700              	.LVL85:
 701 002c 034A     		ldr	r2, .L67
 702              	.LVL86:
 703 002e D050     		str	r0, [r2, r3]
 704 0030 7047     		bx	lr
 705              	.LVL87:
 706              	.L64:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 707              		.loc 1 856 0 is_stmt 1
 708 0032 0220     		movs	r0, #2
 709              	.LVL88:
 710 0034 7047     		bx	lr
 711              	.LVL89:
 712              	.L66:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 713              		.loc 1 854 0
 714 0036 0020     		movs	r0, #0
 715              	.LVL90:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 859:Middlewares/Third_Party/FatFs/src/ff.c **** }
 716              		.loc 1 859 0
 717 0038 7047     		bx	lr
 718              	.L68:
 719 003a 00BF     		.align	2
 720              	.L67:
 721 003c 00000000 		.word	.LANCHOR0
 722              		.cfi_endproc
 723              	.LFE141:
 725              		.section	.text.clear_lock,"ax",%progbits
 726              		.align	1
 727              		.syntax unified
 728              		.thumb
 729              		.thumb_func
 730              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 29


 732              	clear_lock:
 733              	.LFB142:
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 
 862:Middlewares/Third_Party/FatFs/src/ff.c **** static
 863:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 865:Middlewares/Third_Party/FatFs/src/ff.c **** )
 866:Middlewares/Third_Party/FatFs/src/ff.c **** {
 734              		.loc 1 866 0
 735              		.cfi_startproc
 736              		@ args = 0, pretend = 0, frame = 0
 737              		@ frame_needed = 0, uses_anonymous_args = 0
 738              		@ link register save eliminated.
 739              	.LVL91:
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 868:Middlewares/Third_Party/FatFs/src/ff.c **** 
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 740              		.loc 1 869 0
 741 0000 0023     		movs	r3, #0
 742 0002 03E0     		b	.L74
 743              	.LVL92:
 744              	.L81:
 745              	.LCFI8:
 746              		.cfi_def_cfa_offset 4
 747              		.cfi_offset 4, -4
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 871:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 748              		.loc 1 872 0
 749 0004 5DF8044B 		ldr	r4, [sp], #4
 750              	.LCFI9:
 751              		.cfi_restore 4
 752              		.cfi_def_cfa_offset 0
 753 0008 7047     		bx	lr
 754              	.L80:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 755              		.loc 1 869 0
 756 000a 0133     		adds	r3, r3, #1
 757              	.LVL93:
 758              	.L74:
 759 000c 012B     		cmp	r3, #1
 760 000e 11D8     		bhi	.L79
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 761              		.loc 1 870 0
 762 0010 1A01     		lsls	r2, r3, #4
 763 0012 0949     		ldr	r1, .L82
 764 0014 8A58     		ldr	r2, [r1, r2]
 765 0016 8242     		cmp	r2, r0
 766 0018 F7D1     		bne	.L80
 866:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 767              		.loc 1 866 0
 768 001a 10B4     		push	{r4}
 769              	.LCFI10:
 770              		.cfi_def_cfa_offset 4
 771              		.cfi_offset 4, -4
 772              	.L75:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 30


 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 773              		.loc 1 870 0 discriminator 1
 774 001c 1A01     		lsls	r2, r3, #4
 775 001e 0024     		movs	r4, #0
 776 0020 8C50     		str	r4, [r1, r2]
 777              	.L71:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 778              		.loc 1 869 0 discriminator 2
 779 0022 0133     		adds	r3, r3, #1
 780              	.LVL94:
 781 0024 012B     		cmp	r3, #1
 782 0026 EDD8     		bhi	.L81
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 783              		.loc 1 870 0
 784 0028 1A01     		lsls	r2, r3, #4
 785 002a 0349     		ldr	r1, .L82
 786 002c 8A58     		ldr	r2, [r1, r2]
 787 002e 8242     		cmp	r2, r0
 788 0030 F7D1     		bne	.L71
 789 0032 F3E7     		b	.L75
 790              	.L79:
 791              	.LCFI11:
 792              		.cfi_def_cfa_offset 0
 793              		.cfi_restore 4
 794 0034 7047     		bx	lr
 795              	.L83:
 796 0036 00BF     		.align	2
 797              	.L82:
 798 0038 00000000 		.word	.LANCHOR0
 799              		.cfi_endproc
 800              	.LFE142:
 802              		.section	.text.clust2sect,"ax",%progbits
 803              		.align	1
 804              		.syntax unified
 805              		.thumb
 806              		.thumb_func
 807              		.fpu fpv4-sp-d16
 809              	clust2sect:
 810              	.LFB146:
 873:Middlewares/Third_Party/FatFs/src/ff.c **** 
 874:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_LOCK != 0 */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 
 876:Middlewares/Third_Party/FatFs/src/ff.c **** 
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 
 878:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 879:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 881:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 882:Middlewares/Third_Party/FatFs/src/ff.c **** static
 883:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (	/* Returns FR_OK or FR_DISK_ERROR */
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs			/* File system object */
 885:Middlewares/Third_Party/FatFs/src/ff.c **** )
 886:Middlewares/Third_Party/FatFs/src/ff.c **** {
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 31


 891:Middlewares/Third_Party/FatFs/src/ff.c **** 
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 907:Middlewares/Third_Party/FatFs/src/ff.c **** }
 908:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 
 911:Middlewares/Third_Party/FatFs/src/ff.c **** static
 912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (	/* Returns FR_OK or FR_DISK_ERROR */
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector		/* Sector number to make appearance in the fs->win[] */
 915:Middlewares/Third_Party/FatFs/src/ff.c **** )
 916:Middlewares/Third_Party/FatFs/src/ff.c **** {
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 921:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 931:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 933:Middlewares/Third_Party/FatFs/src/ff.c **** }
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 939:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 942:Middlewares/Third_Party/FatFs/src/ff.c **** 
 943:Middlewares/Third_Party/FatFs/src/ff.c **** static
 944:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK:succeeded, !=0:error */
 945:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 946:Middlewares/Third_Party/FatFs/src/ff.c **** )
 947:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 32


 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 
 950:Middlewares/Third_Party/FatFs/src/ff.c **** 
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win, 0, SS(fs));
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK) res = FR_DISK_ERR;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 972:Middlewares/Third_Party/FatFs/src/ff.c **** }
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 974:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 978:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 979:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 980:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 
 982:Middlewares/Third_Party/FatFs/src/ff.c **** static
 983:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0:Sector number, 0:Failed (invalid cluster#) */
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 986:Middlewares/Third_Party/FatFs/src/ff.c **** )
 987:Middlewares/Third_Party/FatFs/src/ff.c **** {
 811              		.loc 1 987 0
 812              		.cfi_startproc
 813              		@ args = 0, pretend = 0, frame = 0
 814              		@ frame_needed = 0, uses_anonymous_args = 0
 815              		@ link register save eliminated.
 816              	.LVL95:
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 817              		.loc 1 988 0
 818 0000 0239     		subs	r1, r1, #2
 819              	.LVL96:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 820              		.loc 1 989 0
 821 0002 8369     		ldr	r3, [r0, #24]
 822 0004 023B     		subs	r3, r3, #2
 823 0006 8B42     		cmp	r3, r1
 824 0008 04D9     		bls	.L86
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 33


 825              		.loc 1 990 0
 826 000a 4389     		ldrh	r3, [r0, #10]
 827 000c C06A     		ldr	r0, [r0, #44]
 828              	.LVL97:
 829 000e 01FB0300 		mla	r0, r1, r3, r0
 830 0012 7047     		bx	lr
 831              	.LVL98:
 832              	.L86:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 833              		.loc 1 989 0
 834 0014 0020     		movs	r0, #0
 835              	.LVL99:
 991:Middlewares/Third_Party/FatFs/src/ff.c **** }
 836              		.loc 1 991 0
 837 0016 7047     		bx	lr
 838              		.cfi_endproc
 839              	.LFE146:
 841              		.section	.text.clmt_clust,"ax",%progbits
 842              		.align	1
 843              		.syntax unified
 844              		.thumb
 845              		.thumb_func
 846              		.fpu fpv4-sp-d16
 848              	clmt_clust:
 849              	.LFB151:
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 
 996:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 997:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 998:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 999:Middlewares/Third_Party/FatFs/src/ff.c **** 
1000:Middlewares/Third_Party/FatFs/src/ff.c **** static
1001:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x7FFFFFFF:Cluster status */
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Corresponding object */
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* Cluster number to get the value */
1004:Middlewares/Third_Party/FatFs/src/ff.c **** )
1005:Middlewares/Third_Party/FatFs/src/ff.c **** {
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1009:Middlewares/Third_Party/FatFs/src/ff.c **** 
1010:Middlewares/Third_Party/FatFs/src/ff.c **** 
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check if in valid range */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
1013:Middlewares/Third_Party/FatFs/src/ff.c **** 
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 34


1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1037:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->objsize) {
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD cofs = clst - obj->sclust;	/* Offset from start cluster */
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD clen = (DWORD)((obj->objsize - 1) / SS(fs)) / fs->csize;	/* Number of clusters - 1 */
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 2) {	/* Is there no valid chain on the FAT? */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cofs <= clen) {
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = (cofs == clen) ? 0x7FFFFFFF : clst + 1;	/* Generate the value */
1045:Middlewares/Third_Party/FatFs/src/ff.c **** 						break;
1046:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 3 && cofs < obj->n_cont) {	/* Is it in the 1st fragment? */
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = clst + 1; 	/* Generate the value */
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1052:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat != 2) {	/* Get value from FAT if FAT chain is valid */
1053:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->n_frag != 0) {	/* Is it on the growing edge? */
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = 0x7FFFFFFF;	/* Generate EOC */
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x7FFFFFFF;
1058:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1059:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1060:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1061:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1062:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* go to default */
1063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
1070:Middlewares/Third_Party/FatFs/src/ff.c **** }
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 
1075:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1076:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1077:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 
1080:Middlewares/Third_Party/FatFs/src/ff.c **** static
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 35


1081:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (	/* FR_OK(0):succeeded, !=0:error */
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Corresponding file system object */
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,		/* FAT index number (cluster number) to be changed */
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val		/* New value to be set to the entry */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** )
1086:Middlewares/Third_Party/FatFs/src/ff.c **** {
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= 2 && clst < fs->n_fatent) {	/* Check if in valid range */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :	/* WORD aligned items */
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1113:Middlewares/Third_Party/FatFs/src/ff.c **** 
1114:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :	/* DWORD aligned items */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1117:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + clst * 4 % SS(fs), val);
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1128:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1129:Middlewares/Third_Party/FatFs/src/ff.c **** }
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 
1131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 
1136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
1137:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 36


1138:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Accessing FAT and Allocation Bitmap                            */
1139:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 
1141:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1142:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find a contiguous free cluster block */
1143:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** static
1146:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD find_bitmap (	/* 0:Not found, 2..:Cluster block found, 0xFFFFFFFF:Disk error */
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to scan from */
1149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl	/* Number of contiguous clusters to find (1..) */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** )
1151:Middlewares/Third_Party/FatFs/src/ff.c **** {
1152:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm, bv;
1153:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val, scl, ctr;
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 
1156:Middlewares/Third_Party/FatFs/src/ff.c **** 
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit in the bitmap corresponds to cluster #2 */
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) clst = 0;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	scl = val = clst; ctr = 0;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fs->database + val / 8 / SS(fs)) != FR_OK) return 0xFFFFFFFF;	/* (assuming bi
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = val / 8 % SS(fs); bm = 1 << (val % 8);
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 				bv = fs->win[i] & bm; bm <<= 1;		/* Get bit value */
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++val >= fs->n_fatent - 2) {	/* Next cluster (with wrap-around) */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = 0; bm = 0; i = SS(fs);
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!bv) {	/* Is it a free cluster? */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (++ctr == ncl) return scl + 2;	/* Check if run length is sufficient for required */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 					scl = val; ctr = 0;		/* Encountered a cluster in-use, restart to scan */
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (val == clst) return 0;	/* All cluster scanned? */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm);
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1179:Middlewares/Third_Party/FatFs/src/ff.c **** }
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 
1182:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set/Clear a block of allocation bitmap */
1184:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 
1186:Middlewares/Third_Party/FatFs/src/ff.c **** static
1187:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT change_bitmap (
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to change from */
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl,	/* Number of clusters to be changed */
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 	int bv		/* bit value to be set (0 or 1) */
1192:Middlewares/Third_Party/FatFs/src/ff.c **** )
1193:Middlewares/Third_Party/FatFs/src/ff.c **** {
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 37


1195:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1196:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect;
1197:Middlewares/Third_Party/FatFs/src/ff.c **** 
1198:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit corresponds to cluster #2 */
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 	sect = fs->database + clst / 8 / SS(fs);	/* Sector address (assuming bitmap is located top of the 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = clst / 8 % SS(fs);						/* Byte offset in the sector */
1201:Middlewares/Third_Party/FatFs/src/ff.c **** 	bm = 1 << (clst % 8);						/* Bit mask in the byte */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect++) != FR_OK) return FR_DISK_ERR;
1204:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (bv == (int)((fs->win[i] & bm) != 0)) return FR_INT_ERR;	/* Is the bit expected value? */
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->win[i] ^= bm;	/* Flip the bit */
1208:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--ncl == 0) return FR_OK;	/* All bits processed? */
1210:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm <<= 1);		/* Next bit */
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));		/* Next byte */
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1215:Middlewares/Third_Party/FatFs/src/ff.c **** }
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 
1218:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1219:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the first fragment of the FAT chain    */
1220:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 
1222:Middlewares/Third_Party/FatFs/src/ff.c **** static
1223:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_first_frag (
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj	/* Pointer to the corresponding object */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** )
1226:Middlewares/Third_Party/FatFs/src/ff.c **** {
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, n;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 
1230:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj->stat == 3) {	/* Has the object been changed 'fragmented'? */
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (cl = obj->sclust, n = obj->n_cont; n; cl++, n--) {	/* Create cluster chain on the FAT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(obj->fs, cl, cl + 1);
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = 0;	/* Change status 'FAT chain is valid' */
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1238:Middlewares/Third_Party/FatFs/src/ff.c **** }
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 
1241:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1242:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the last fragment of the FAT chain     */
1243:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 
1245:Middlewares/Third_Party/FatFs/src/ff.c **** static
1246:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_last_frag (
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Pointer to the corresponding object */
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD lcl,	/* Last cluster of the fragment */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD term	/* Value to set the last FAT entry */
1250:Middlewares/Third_Party/FatFs/src/ff.c **** )
1251:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 38


1252:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 
1254:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (obj->n_frag > 0) {	/* Create the last chain on the FAT */
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(obj->fs, lcl - obj->n_frag + 1, (obj->n_frag > 1) ? lcl - obj->n_frag + 2 : term);
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->n_frag--;
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
1262:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT && !_FS_READONLY */
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1269:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1270:Middlewares/Third_Party/FatFs/src/ff.c **** static
1271:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (	/* FR_OK(0):succeeded, !=0:error */
1272:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,			/* Cluster to remove a chain from */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD pclst			/* Previous cluster of clst (0:an entire chain) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1280:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst;
1282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1283:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rt[2];
1285:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Check if in valid range */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Mark the previous cluster 'EOC' on the FAT if it exists */
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (pclst && (!_FS_EXFAT || fs->fs_type != FS_EXFAT || obj->stat != 2)) {
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Remove the chain */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1304:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst < fs->n_fatent - 2) {	/* Update FSINFO */
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
1308:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 39


1309:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1311:Middlewares/Third_Party/FatFs/src/ff.c **** 			ecl = nxt;
1312:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* End of contiguous cluster block */
1313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, ecl - scl + 1, 0);	/* Mark the cluster block 'free' on the bitmap 
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) return res;
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1318:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1319:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1320:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[0] = clust2sect(fs, scl);					/* Start sector */
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Inform device the block can be erased */
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1324:Middlewares/Third_Party/FatFs/src/ff.c **** 			scl = ecl = nxt;
1325:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1326:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = nxt;					/* Next cluster */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
1329:Middlewares/Third_Party/FatFs/src/ff.c **** 
1330:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
1332:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pclst == 0) {	/* Does the object have no chain? */
1333:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 0;		/* Change the object status 'initial' */
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 3 && pclst >= obj->sclust && pclst <= obj->sclust + obj->n_cont) {	/* Did the c
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 2;	/* Change the object status 'contiguous' */
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1340:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1342:Middlewares/Third_Party/FatFs/src/ff.c **** }
1343:Middlewares/Third_Party/FatFs/src/ff.c **** 
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** 
1347:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1348:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch a chain or Create a new chain                  */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1350:Middlewares/Third_Party/FatFs/src/ff.c **** static
1351:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch, 0:Create a new chain */
1354:Middlewares/Third_Party/FatFs/src/ff.c **** )
1355:Middlewares/Third_Party/FatFs/src/ff.c **** {
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Create a new chain */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Stretch current chain */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 40


1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(obj, clst);			/* Check the cluster status */
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 
1373:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = find_bitmap(fs, scl, 1);				/* Find a free cluster */
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0 || ncl == 0xFFFFFFFF) return ncl;	/* No free cluster or hard error? */
1377:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = change_bitmap(fs, ncl, 1, 1);			/* Mark the cluster 'in use' */
1378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_INT_ERR) return 1;
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_DISK_ERR) return 0xFFFFFFFF;
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (clst == 0) {							/* Is it a new chain? */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 2;							/* Set status 'contiguous' */
1382:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {									/* It is a stretched chain */
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 2 && ncl != scl + 1) {	/* Is the chain got fragmented? */
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_cont = scl - obj->sclust;	/* Set size of the contiguous part */
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 3;						/* Change status 'just fragmented' */
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (obj->stat != 2) {	/* Is the file non-contiguous? */
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == clst + 1) {	/* Is the cluster next to previous one? */
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_frag = obj->n_frag ? obj->n_frag + 1 : 2;	/* Increment size of last framgent */
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* New fragment */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->n_frag == 0) obj->n_frag = 1;
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_last_frag(obj, clst, ncl);	/* Fill last fragment on the FAT and link it to new one *
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) obj->n_frag = 1;
1395:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
1398:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = scl;	/* Start cluster */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
1406:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			cs = get_fat(obj, ncl);			/* Get the cluster status */
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
1411:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, ncl, 0xFFFFFFFF);	/* Mark the new cluster 'EOC' */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1416:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1417:Middlewares/Third_Party/FatFs/src/ff.c **** 
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {			/* Update FSINFO if function succeeded. */
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 41


1423:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;	/* Failed. Generate error status */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error status */
1427:Middlewares/Third_Party/FatFs/src/ff.c **** }
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 
1429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 
1434:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1435:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1436:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1437:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1438:Middlewares/Third_Party/FatFs/src/ff.c **** 
1439:Middlewares/Third_Party/FatFs/src/ff.c **** static
1440:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File offset to be converted to cluster# */
1443:Middlewares/Third_Party/FatFs/src/ff.c **** )
1444:Middlewares/Third_Party/FatFs/src/ff.c **** {
 850              		.loc 1 1444 0
 851              		.cfi_startproc
 852              		@ args = 0, pretend = 0, frame = 0
 853              		@ frame_needed = 0, uses_anonymous_args = 0
 854              		@ link register save eliminated.
 855              	.LVL100:
 856 0000 10B4     		push	{r4}
 857              	.LCFI12:
 858              		.cfi_def_cfa_offset 4
 859              		.cfi_offset 4, -4
1445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
1446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = fp->obj.fs;
 860              		.loc 1 1446 0
 861 0002 0468     		ldr	r4, [r0]
 862              	.LVL101:
1447:Middlewares/Third_Party/FatFs/src/ff.c **** 
1448:Middlewares/Third_Party/FatFs/src/ff.c **** 
1449:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 863              		.loc 1 1449 0
 864 0004 C26A     		ldr	r2, [r0, #44]
 865 0006 0432     		adds	r2, r2, #4
 866              	.LVL102:
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = (DWORD)(ofs / SS(fs) / fs->csize);	/* Cluster order from top of the file */
 867              		.loc 1 1450 0
 868 0008 A389     		ldrh	r3, [r4, #12]
 869 000a B1FBF3F1 		udiv	r1, r1, r3
 870              	.LVL103:
 871 000e 6389     		ldrh	r3, [r4, #10]
 872 0010 B1FBF3F1 		udiv	r1, r1, r3
 873              	.LVL104:
 874              	.L90:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
 875              		.loc 1 1452 0
 876 0014 1068     		ldr	r0, [r2]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 42


 877              	.LVL105:
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 878              		.loc 1 1453 0
 879 0016 30B1     		cbz	r0, .L87
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 880              		.loc 1 1454 0
 881 0018 8142     		cmp	r1, r0
 882 001a 02D3     		bcc	.L89
1455:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 883              		.loc 1 1455 0
 884 001c 091A     		subs	r1, r1, r0
 885              	.LVL106:
 886 001e 0832     		adds	r2, r2, #8
 887              	.LVL107:
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 888              		.loc 1 1452 0
 889 0020 F8E7     		b	.L90
 890              	.LVL108:
 891              	.L89:
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 892              		.loc 1 1457 0
 893 0022 5068     		ldr	r0, [r2, #4]
 894              	.LVL109:
 895 0024 0844     		add	r0, r0, r1
 896              	.L87:
1458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 897              		.loc 1 1458 0
 898 0026 5DF8044B 		ldr	r4, [sp], #4
 899              	.LCFI13:
 900              		.cfi_restore 4
 901              		.cfi_def_cfa_offset 0
 902              	.LVL110:
 903 002a 7047     		bx	lr
 904              		.cfi_endproc
 905              	.LFE151:
 907              		.section	.text.ld_clust,"ax",%progbits
 908              		.align	1
 909              		.syntax unified
 910              		.thumb
 911              		.thumb_func
 912              		.fpu fpv4-sp-d16
 914              	ld_clust:
 915              	.LFB155:
1459:Middlewares/Third_Party/FatFs/src/ff.c **** 
1460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 
1465:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1466:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 
1469:Middlewares/Third_Party/FatFs/src/ff.c **** static
1470:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (	/* FR_OK(0):succeeded, !=0:error */
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 43


1472:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* Offset of directory table */
1473:Middlewares/Third_Party/FatFs/src/ff.c **** )
1474:Middlewares/Third_Party/FatFs/src/ff.c **** {
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR) || ofs % SZDIRE)
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;				/* Set current offset */
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
1492:Middlewares/Third_Party/FatFs/src/ff.c **** 
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {			/* Dynamic table (sub-directory or root-directory in FAT32+) */
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		csz = (DWORD)fs->csize * SS(fs);	/* Bytes per cluster */
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = clust2sect(fs, clst);
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;					/* Current cluster# */
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
1507:Middlewares/Third_Party/FatFs/src/ff.c **** 
1508:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1509:Middlewares/Third_Party/FatFs/src/ff.c **** }
1510:Middlewares/Third_Party/FatFs/src/ff.c **** 
1511:Middlewares/Third_Party/FatFs/src/ff.c **** 
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 
1514:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1515:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1516:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1517:Middlewares/Third_Party/FatFs/src/ff.c **** 
1518:Middlewares/Third_Party/FatFs/src/ff.c **** static
1519:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK(0):succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1522:Middlewares/Third_Party/FatFs/src/ff.c **** )
1523:Middlewares/Third_Party/FatFs/src/ff.c **** {
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
1525:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1526:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1527:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 44


1529:Middlewares/Third_Party/FatFs/src/ff.c **** 
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	ofs = dp->dptr + SZDIRE;	/* Next entry */
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs % SS(fs) == 0) {	/* Sector changed? */
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1541:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((ofs / SS(fs) & (fs->csize - 1)) == 0) {		/* Cluster changed? */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
1547:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) {								/* If no stretch, report EOT */
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
1550:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&dp->obj, dp->clust);	/* Allocate a cluster */
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_EXFAT) dp->obj.stat |= 4;			/* The directory needs to be updated */
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect -= n;							/* Restore window offset */
1564:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) dp->sect = 0;					/* (this line is to suppress compiler warning) */
1566:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0; return FR_NO_FILE;			/* Report EOT */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;		/* Initialize data for new cluster */
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
1571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;						/* Current entry */
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1578:Middlewares/Third_Party/FatFs/src/ff.c **** }
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve a block of directory entries             */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 45


1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** 
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (	/* FR_OK(0):succeeded, !=0:error */
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent		/* Number of contiguous entries to allocate */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 
1598:Middlewares/Third_Party/FatFs/src/ff.c **** 
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1605:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((fs->fs_type == FS_EXFAT) ? (int)((dp->dir[XDIR_Type] & 0x80) == 0) : (int)(dp->dir[DIR_Name
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1608:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[DIR_Name] == DDEM || dp->dir[DIR_Name] == 0) {
1609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1620:Middlewares/Third_Party/FatFs/src/ff.c **** }
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 
1622:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1623:Middlewares/Third_Party/FatFs/src/ff.c **** 
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 
1626:Middlewares/Third_Party/FatFs/src/ff.c **** 
1627:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1628:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT: Directory handling - Load/Store start cluster number             */
1629:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 
1631:Middlewares/Third_Party/FatFs/src/ff.c **** static
1632:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (	/* Returns the top cluster value of the SFN entry */
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Pointer to the fs object */
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir	/* Pointer to the key entry */
1635:Middlewares/Third_Party/FatFs/src/ff.c **** )
1636:Middlewares/Third_Party/FatFs/src/ff.c **** {
 916              		.loc 1 1636 0
 917              		.cfi_startproc
 918              		@ args = 0, pretend = 0, frame = 0
 919              		@ frame_needed = 0, uses_anonymous_args = 0
 920              	.LVL111:
 921 0000 70B5     		push	{r4, r5, r6, lr}
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 46


 922              	.LCFI14:
 923              		.cfi_def_cfa_offset 16
 924              		.cfi_offset 4, -16
 925              		.cfi_offset 5, -12
 926              		.cfi_offset 6, -8
 927              		.cfi_offset 14, -4
 928 0002 0646     		mov	r6, r0
 929 0004 0D46     		mov	r5, r1
1637:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
1638:Middlewares/Third_Party/FatFs/src/ff.c **** 
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ld_word(dir + DIR_FstClusLO);
 930              		.loc 1 1639 0
 931 0006 01F11A00 		add	r0, r1, #26
 932              	.LVL112:
 933 000a FFF7FEFF 		bl	ld_word
 934              	.LVL113:
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 935              		.loc 1 1640 0
 936 000e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 937 0010 032B     		cmp	r3, #3
 938 0012 00D0     		beq	.L95
 939              	.LVL114:
 940              	.L92:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1643:Middlewares/Third_Party/FatFs/src/ff.c **** 
1644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 941              		.loc 1 1645 0
 942 0014 70BD     		pop	{r4, r5, r6, pc}
 943              	.LVL115:
 944              	.L95:
 945 0016 0446     		mov	r4, r0
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 946              		.loc 1 1641 0
 947 0018 05F11400 		add	r0, r5, #20
 948              	.LVL116:
 949 001c FFF7FEFF 		bl	ld_word
 950              	.LVL117:
 951 0020 44EA0040 		orr	r0, r4, r0, lsl #16
 952              	.LVL118:
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 953              		.loc 1 1644 0
 954 0024 F6E7     		b	.L92
 955              		.cfi_endproc
 956              	.LFE155:
 958              		.section	.text.st_clust,"ax",%progbits
 959              		.align	1
 960              		.syntax unified
 961              		.thumb
 962              		.thumb_func
 963              		.fpu fpv4-sp-d16
 965              	st_clust:
 966              	.LFB156:
1646:Middlewares/Third_Party/FatFs/src/ff.c **** 
1647:Middlewares/Third_Party/FatFs/src/ff.c **** 
1648:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 47


1649:Middlewares/Third_Party/FatFs/src/ff.c **** static
1650:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the key entry */
1653:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** )
1655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 967              		.loc 1 1655 0
 968              		.cfi_startproc
 969              		@ args = 0, pretend = 0, frame = 0
 970              		@ frame_needed = 0, uses_anonymous_args = 0
 971              	.LVL119:
 972 0000 70B5     		push	{r4, r5, r6, lr}
 973              	.LCFI15:
 974              		.cfi_def_cfa_offset 16
 975              		.cfi_offset 4, -16
 976              		.cfi_offset 5, -12
 977              		.cfi_offset 6, -8
 978              		.cfi_offset 14, -4
 979 0002 0646     		mov	r6, r0
 980 0004 0C46     		mov	r4, r1
 981 0006 1546     		mov	r5, r2
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + DIR_FstClusLO, (WORD)cl);
 982              		.loc 1 1656 0
 983 0008 91B2     		uxth	r1, r2
 984              	.LVL120:
 985 000a 04F11A00 		add	r0, r4, #26
 986              	.LVL121:
 987 000e FFF7FEFF 		bl	st_word
 988              	.LVL122:
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 989              		.loc 1 1657 0
 990 0012 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 991 0014 032B     		cmp	r3, #3
 992 0016 00D0     		beq	.L99
 993              	.L96:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1660:Middlewares/Third_Party/FatFs/src/ff.c **** }
 994              		.loc 1 1660 0
 995 0018 70BD     		pop	{r4, r5, r6, pc}
 996              	.LVL123:
 997              	.L99:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 998              		.loc 1 1658 0
 999 001a 290C     		lsrs	r1, r5, #16
 1000 001c 04F11400 		add	r0, r4, #20
 1001 0020 FFF7FEFF 		bl	st_word
 1002              	.LVL124:
 1003              		.loc 1 1660 0
 1004 0024 F8E7     		b	.L96
 1005              		.cfi_endproc
 1006              	.LFE156:
 1008              		.section	.text.get_fileinfo,"ax",%progbits
 1009              		.align	1
 1010              		.syntax unified
 1011              		.thumb
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 48


 1012              		.thumb_func
 1013              		.fpu fpv4-sp-d16
 1015              	get_fileinfo:
 1016              	.LFB161:
1661:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1666:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1667:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: LFN handling                                                  */
1668:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1669:Middlewares/Third_Party/FatFs/src/ff.c **** static
1670:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 
1673:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1674:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Compare a part of file name with an LFN entry */
1675:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1676:Middlewares/Third_Party/FatFs/src/ff.c **** static
1677:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (				/* 1:matched, 0:not matched */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN working buffer to be compared */
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir				/* Pointer to the directory entry containing the part of LFN */
1680:Middlewares/Third_Party/FatFs/src/ff.c **** )
1681:Middlewares/Third_Party/FatFs/src/ff.c **** {
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO */
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = uc;
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1700:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i]) return 0;	/* Last segment matched but different len
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN matched */
1705:Middlewares/Third_Party/FatFs/src/ff.c **** }
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 
1707:Middlewares/Third_Party/FatFs/src/ff.c **** 
1708:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
1709:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1710:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Pick a part of file name from an LFN entry */
1711:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1712:Middlewares/Third_Party/FatFs/src/ff.c **** static
1713:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:succeeded, 0:buffer overflow or invalid LFN entry */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 49


1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN working buffer */
1715:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the LFN entry */
1716:Middlewares/Third_Party/FatFs/src/ff.c **** )
1717:Middlewares/Third_Party/FatFs/src/ff.c **** {
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** 
1722:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO is 0 */
1723:Middlewares/Third_Party/FatFs/src/ff.c **** 
1724:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Offset in the LFN buffer */
1725:Middlewares/Third_Party/FatFs/src/ff.c **** 
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
1731:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN is valid */
1742:Middlewares/Third_Party/FatFs/src/ff.c **** }
1743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 
1746:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1747:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1748:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create an entry of LFN entries */
1749:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1750:Middlewares/Third_Party/FatFs/src/ff.c **** static
1751:Middlewares/Third_Party/FatFs/src/ff.c **** void put_lfn (
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to the LFN */
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,			/* Pointer to the LFN entry to be created */
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,			/* LFN order (1-20) */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum			/* Checksum of the corresponding SFN */
1756:Middlewares/Third_Party/FatFs/src/ff.c **** )
1757:Middlewares/Third_Party/FatFs/src/ff.c **** {
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1759:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 
1762:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set checksum */
1763:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + LDIR_FstClusLO, 0);
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN working buffer */
1768:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
1769:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfn[i++];	/* Get an effective character */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 50


1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
1773:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfn[i]) ord |= LLEF;	/* Last LFN part is the start of LFN sequence */
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
1776:Middlewares/Third_Party/FatFs/src/ff.c **** }
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 
1778:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1779:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 
1781:Middlewares/Third_Party/FatFs/src/ff.c **** 
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && !_FS_READONLY
1784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1785:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create a Numbered SFN                                        */
1786:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 
1788:Middlewares/Third_Party/FatFs/src/ff.c **** static
1789:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1794:Middlewares/Third_Party/FatFs/src/ff.c **** )
1795:Middlewares/Third_Party/FatFs/src/ff.c **** {
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
1797:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 
1802:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
1803:Middlewares/Third_Party/FatFs/src/ff.c **** 
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* In case of many collisions, generate a hash number instead of sequential number 
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1813:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1819:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
1824:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 51


1828:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
1830:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1831:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1832:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1833:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
1837:Middlewares/Third_Party/FatFs/src/ff.c **** }
1838:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 && !_FS_READONLY */
1839:Middlewares/Third_Party/FatFs/src/ff.c **** 
1840:Middlewares/Third_Party/FatFs/src/ff.c **** 
1841:Middlewares/Third_Party/FatFs/src/ff.c **** 
1842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1843:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1844:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Calculate checksum of an SFN entry                           */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1846:Middlewares/Third_Party/FatFs/src/ff.c **** 
1847:Middlewares/Third_Party/FatFs/src/ff.c **** static
1848:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
1849:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1850:Middlewares/Third_Party/FatFs/src/ff.c **** )
1851:Middlewares/Third_Party/FatFs/src/ff.c **** {
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
1853:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
1854:Middlewares/Third_Party/FatFs/src/ff.c **** 
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1856:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = (sum >> 1) + (sum << 7) + *dir++;
1857:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--n);
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1859:Middlewares/Third_Party/FatFs/src/ff.c **** }
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 
1861:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** 
1865:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1866:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1867:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Checksum                                                       */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 
1870:Middlewares/Third_Party/FatFs/src/ff.c **** static
1871:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xdir_sum (			/* Get checksum of the directoly block */
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Directory entry block to be calculated */
1873:Middlewares/Third_Party/FatFs/src/ff.c **** )
1874:Middlewares/Third_Party/FatFs/src/ff.c **** {
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, szblk;
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum;
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	szblk = (dir[XDIR_NumSec] + 1) * SZDIRE;
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = sum = 0; i < szblk; i++) {
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == XDIR_SetSum) {	/* Skip sum field */
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 			i++;
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + dir[i];
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 52


1885:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1888:Middlewares/Third_Party/FatFs/src/ff.c **** }
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 
1892:Middlewares/Third_Party/FatFs/src/ff.c **** static
1893:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xname_sum (		/* Get check sum (to be used as hash) of the name */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* name	/* File name to be calculated */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** )
1896:Middlewares/Third_Party/FatFs/src/ff.c **** {
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum = 0;
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	while ((chr = *name++) != 0) {
1902:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = ff_wtoupper(chr);		/* File name needs to be ignored case */
1903:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr & 0xFF);
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr >> 8);
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1907:Middlewares/Third_Party/FatFs/src/ff.c **** }
1908:Middlewares/Third_Party/FatFs/src/ff.c **** 
1909:Middlewares/Third_Party/FatFs/src/ff.c **** 
1910:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _USE_MKFS
1911:Middlewares/Third_Party/FatFs/src/ff.c **** static
1912:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD xsum32 (
1913:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE  dat,	/* Data to be sumed */
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sum	/* Previous value */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** )
1916:Middlewares/Third_Party/FatFs/src/ff.c **** {
1917:Middlewares/Third_Party/FatFs/src/ff.c **** 	sum = ((sum & 1) ? 0x80000000 : 0) + (sum >> 1) + dat;
1918:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1919:Middlewares/Third_Party/FatFs/src/ff.c **** }
1920:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 
1923:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1924:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1925:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get object information from a directory block */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 
1928:Middlewares/Third_Party/FatFs/src/ff.c **** static
1929:Middlewares/Third_Party/FatFs/src/ff.c **** void get_xdir_info (
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block 85+C0+C1s */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Buffer to store the extracted file information */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** )
1933:Middlewares/Third_Party/FatFs/src/ff.c **** {
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT di, si;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nc;
1938:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get file name */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** 	di = 0;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 53


1942:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1943:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2; di < dirb[XDIR_NumName]; si += 2, di++) {
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ld_word(dirb + si);					/* Get a character */
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) { di = 0; break; }	/* Buffer overflow --> inaccessible object name */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di] = w;						/* Store it */
1948:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2, nc = 0; nc < dirb[XDIR_NumName]; si += 2, nc++) {
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(ld_word(dirb + si), 0);	/* Get a character and Unicode -> OEM */
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {				/* Is it a double byte char? (always false at SBCS cfg) */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[di++] = (char)(w >> 8);	/* Put 1st byte of the DBC */
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == 0 || di >= _MAX_LFN) { di = 0; break; }	/* Invalid char or buffer overflow --> inaccessi
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di++] = (char)w;
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1959:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) fno->fname[di++] = '?';	/* Inaccessible object name? */
1961:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[di] = 0;						/* Terminate file name */
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[0] = 0;							/* No SFN */
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dirb[XDIR_Attr];					/* Attribute */
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = (fno->fattrib & AM_DIR) ? 0 : ld_qword(dirb + XDIR_FileSize);	/* Size */
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = ld_word(dirb + XDIR_ModTime + 0);	/* Time */
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fdate = ld_word(dirb + XDIR_ModTime + 2);	/* Date */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** }
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 
1970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 
1973:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1974:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get a directry entry block */
1975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** static
1978:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_xdir (	/* FR_INT_ERR: invalid entry block */
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the reading direcotry object pointing the 85 entry */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** )
1981:Middlewares/Third_Party/FatFs/src/ff.c **** {
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, sz_ent;
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the on-memory direcotry entry block 85+C0+C1s */
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load 85 entry */
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0x85) return FR_INT_ERR;
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + 0, dp->dir, SZDIRE);
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_ent = (dirb[XDIR_NumSec] + 1) * SZDIRE;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_ent < 3 * SZDIRE || sz_ent > 19 * SZDIRE) return FR_INT_ERR;
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C0 entry */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_next(dp, 0);
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 54


1999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2000:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0xC0) return FR_INT_ERR;
2001:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + SZDIRE, dp->dir, SZDIRE);
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (MAXDIRB(dirb[XDIR_NumName]) > sz_ent) return FR_INT_ERR;
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C1 entries */
2005:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SZDIRE * 2;	/* C1 offset */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->dir[XDIR_Type] != 0xC1) return FR_INT_ERR;
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < MAXDIRB(_MAX_LFN)) mem_cpy(dirb + i, dp->dir, SZDIRE);
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while ((i += SZDIRE) < sz_ent);
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Sanity check (do it when accessible object name) */
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i <= MAXDIRB(_MAX_LFN)) {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (xdir_sum(dirb) != ld_word(dirb + XDIR_SetSum)) return FR_INT_ERR;
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2020:Middlewares/Third_Party/FatFs/src/ff.c **** }
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 
2023:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY || _FS_RPATH != 0
2024:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2025:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Load the object's directory entry block */
2026:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2027:Middlewares/Third_Party/FatFs/src/ff.c **** static
2028:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_obj_dir (
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Blank directory object to be used to access containing direcotry */
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 	const _FDID* obj	/* Object with its containing directory information */
2031:Middlewares/Third_Party/FatFs/src/ff.c **** )
2032:Middlewares/Third_Party/FatFs/src/ff.c **** {
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Open object containing directory */
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.fs = obj->fs;
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.sclust = obj->c_scl;
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.stat = (BYTE)obj->c_size;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.objsize = obj->c_size & 0xFFFFFF00;
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->blk_ofs = obj->c_ofs;
2041:Middlewares/Third_Party/FatFs/src/ff.c **** 
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);	/* Goto object's entry block */
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_xdir(dp);		/* Load the object's entry block */
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2047:Middlewares/Third_Party/FatFs/src/ff.c **** }
2048:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2052:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2053:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Store the directory block to the media */
2054:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2055:Middlewares/Third_Party/FatFs/src/ff.c **** static
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 55


2056:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT store_xdir (
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Pointer to the direcotry object */
2058:Middlewares/Third_Party/FatFs/src/ff.c **** )
2059:Middlewares/Third_Party/FatFs/src/ff.c **** {
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the direcotry entry block 85+C0+C1s */
2063:Middlewares/Third_Party/FatFs/src/ff.c **** 
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create set sum */
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_SetSum, xdir_sum(dirb));
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = dirb[XDIR_NumSec] + 1;
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Store the set of directory to the volume */
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (res == FR_OK) {
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(dp->dir, dirb, SZDIRE);
2074:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.fs->wflag = 1;
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (--nent == 0) break;
2076:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb += SZDIRE;
2077:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2079:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (res == FR_OK || res == FR_DISK_ERR) ? res : FR_INT_ERR;
2080:Middlewares/Third_Party/FatFs/src/ff.c **** }
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 
2084:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2085:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Create a new directory enrty block */
2086:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 
2088:Middlewares/Third_Party/FatFs/src/ff.c **** static
2089:Middlewares/Third_Party/FatFs/src/ff.c **** void create_xdir (
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block buffer */
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn	/* Pointer to the nul terminated file name */
2092:Middlewares/Third_Party/FatFs/src/ff.c **** )
2093:Middlewares/Third_Party/FatFs/src/ff.c **** {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE nb, nc;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create 85+C0 entry */
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dirb, 0, 2 * SZDIRE);
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type] = 0x85;
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type + SZDIRE] = 0xC0;
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create C1 entries */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	nc = 0; nb = 1; chr = 1; i = SZDIRE * 2;
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb[i++] = 0xC1; dirb[i++] = 0;	/* Entry type C1 */
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill name field */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chr && (chr = lfn[nc]) != 0) nc++;	/* Get a character if exist */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirb + i, chr); 		/* Store it */
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while ((i += 2) % SZDIRE != 0);
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb++;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 56


2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (lfn[nc]);	/* Fill next entry if any char follows */
2114:Middlewares/Third_Party/FatFs/src/ff.c **** 
2115:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumName] = nc;	/* Set name length */
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumSec] = nb;		/* Set block length */
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_NameHash, xname_sum(lfn));	/* Set name hash */
2118:Middlewares/Third_Party/FatFs/src/ff.c **** }
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
2121:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** 
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** 
2125:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
2126:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2127:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 
2130:Middlewares/Third_Party/FatFs/src/ff.c **** static
2131:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
2134:Middlewares/Third_Party/FatFs/src/ff.c **** )
2135:Middlewares/Third_Party/FatFs/src/ff.c **** {
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
2139:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
2141:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2150:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_USE_LABEL && vol) {
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x83) break;	/* Volume label entry? */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x85) {		/* Start of the file entry block? */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->blk_ofs = dp->dptr;	/* Get location of the block */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_xdir(dp);	/* Load the entry block */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->obj.attr = fs->dirbuf[XDIR_Attr] & AM_MASK;	/* Get attribute */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else
2165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 		{	/* On the FAT12/16/32 volume */
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;	/* Get attribute */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == DDEM || c == '.' || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry without valid 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 57


2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (a == AM_LFN) {			/* An LFN entry is found */
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check LFN validity and capture it */
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && pick_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ord || sum != sum_sfn(dp->dir)) {	/* Is there a valid LFN? */
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
2183:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2184:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2186:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2187:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != DDEM && c != '.' && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol) {	/* Is it a 
2189:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2190:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2191:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;		/* Terminate the read operation on error or EOT */
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** }
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 
2205:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2206:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
2207:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 
2209:Middlewares/Third_Party/FatFs/src/ff.c **** static
2210:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (	/* FR_OK(0):succeeded, !=0:error */
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object with the file name */
2212:Middlewares/Third_Party/FatFs/src/ff.c **** )
2213:Middlewares/Third_Party/FatFs/src/ff.c **** {
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
2217:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
2219:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2223:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE nc;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT di, ni;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 58


2227:Middlewares/Third_Party/FatFs/src/ff.c **** 		WORD hash = xname_sum(fs->lfnbuf);		/* Hash value of the name to find */
2228:Middlewares/Third_Party/FatFs/src/ff.c **** 
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((res = dir_read(dp, 0)) == FR_OK) {	/* Read an item */
2230:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 255
2231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->dirbuf[XDIR_NumName] > _MAX_LFN) continue;			/* Skip comparison if inaccessible object n
2232:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->dirbuf + XDIR_NameHash) != hash) continue;	/* Skip comparison if hash mismatched
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (nc = fs->dirbuf[XDIR_NumName], di = SZDIRE * 2, ni = 0; nc; nc--, di += 2, ni++) {	/* Compa
2235:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((di % SZDIRE) == 0) di += 2;
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ff_wtoupper(ld_word(fs->dirbuf + di)) != ff_wtoupper(fs->lfnbuf[ni])) break;
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2238:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nc == 0 && !fs->lfnbuf[ni]) break;	/* Name matched? */
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return res;
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2242:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2243:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2244:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2245:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
2251:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
2252:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && cmp_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0x
2266:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dp->dir)) break;	/* LFN matched? */
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2271:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2272:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2273:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = dp->dir[DIR_Attr] & AM_MASK;
2275:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
2276:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);	/* Next entry */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 
2280:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2281:Middlewares/Third_Party/FatFs/src/ff.c **** }
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 59


2284:Middlewares/Third_Party/FatFs/src/ff.c **** 
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 
2286:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2287:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2288:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
2289:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** static
2292:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:succeeded, FR_DENIED:no free entry or too many SFN collision, FR_DI
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
2294:Middlewares/Third_Party/FatFs/src/ff.c **** )
2295:Middlewares/Third_Party/FatFs/src/ff.c **** {
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2298:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nlen, nent;
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[NSFLAG] & (NS_DOT | NS_NONAME)) return FR_INVALID_NAME;	/* Check name validity */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 
2306:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (nlen + 14) / 15 + 2;	/* Number of entries to allocate (85+C0+C1s) */
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_alloc(dp, nent);		/* Allocate entries */
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->blk_ofs = dp->dptr - SZDIRE * (nent - 1);	/* Set the allocated entry block offset */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.sclust != 0 && (dp->obj.stat & 4)) {	/* Has the sub-directory been stretched? */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.objsize += (DWORD)fs->csize * SS(fs);	/* Increase the directory size by cluster size */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_first_frag(&dp->obj);				/* Fill first fragment on the FAT if needed */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_last_frag(&dp->obj, dp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if neede
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = load_obj_dir(&dj, &dp->obj);				/* Load the object status */
2322:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_FileSize, dp->obj.objsize);		/* Update the allocation status */
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_ValidFileSize, dp->obj.objsize);
2325:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbuf[XDIR_GenFlags] = dp->obj.stat | 1;
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = store_xdir(&dj);							/* Store the object status */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		create_xdir(fs->dirbuf, fs->lfnbuf);	/* Create on-memory directory block to be written later */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, dp->fn, 12);
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 60


2341:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create an SFN with/without LFNs. */
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = (sn[NSFLAG] & NS_LFN) ? (nlen + 12) / 13 + 1 : 1;	/* Number of entries to allocate */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
2365:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
2368:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set SFN entry */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
2378:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2384:Middlewares/Third_Party/FatFs/src/ff.c **** }
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 
2386:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 
2390:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE == 0
2391:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2392:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 
2395:Middlewares/Third_Party/FatFs/src/ff.c **** static
2396:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK:Succeeded, FR_DISK_ERR:A disk error */
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 61


2398:Middlewares/Third_Party/FatFs/src/ff.c **** )
2399:Middlewares/Third_Party/FatFs/src/ff.c **** {
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD last = dp->dptr;
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = (dp->blk_ofs == 0xFFFFFFFF) ? FR_OK : dir_sdi(dp, dp->blk_ofs);	/* Goto top of the entry blo
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* On the FAT12/16/32 volume */
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[DIR_Name] = DDEM;
2415:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
2423:Middlewares/Third_Party/FatFs/src/ff.c **** 
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(fs, dp->sect);
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** 
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2432:Middlewares/Third_Party/FatFs/src/ff.c **** }
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY && _FS_MINIMIZE == 0 */
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
2439:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2442:Middlewares/Third_Party/FatFs/src/ff.c **** 
2443:Middlewares/Third_Party/FatFs/src/ff.c **** static
2444:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
2445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1017              		.loc 1 2448 0
 1018              		.cfi_startproc
 1019              		@ args = 0, pretend = 0, frame = 0
 1020              		@ frame_needed = 0, uses_anonymous_args = 0
 1021              	.LVL125:
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 62


2450:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
2452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, lfv;
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2455:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[0] = 0;		/* Invaidate file info */
 1022              		.loc 1 2458 0
 1023 0000 0023     		movs	r3, #0
 1024 0002 4B72     		strb	r3, [r1, #9]
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 1025              		.loc 1 2459 0
 1026 0004 C369     		ldr	r3, [r0, #28]
 1027 0006 73B3     		cbz	r3, .L109
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 1028              		.loc 1 2448 0
 1029 0008 70B5     		push	{r4, r5, r6, lr}
 1030              	.LCFI16:
 1031              		.cfi_def_cfa_offset 16
 1032              		.cfi_offset 4, -16
 1033              		.cfi_offset 5, -12
 1034              		.cfi_offset 6, -8
 1035              		.cfi_offset 14, -4
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2462:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2463:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_xdir_info(fs->dirbuf, fno);
2465:Middlewares/Third_Party/FatFs/src/ff.c **** 		return;
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2467:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->blk_ofs != 0xFFFFFFFF) {	/* Get LFN if available */
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
2471:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
2472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
2475:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= _MAX_LFN) { i = 0; break; }	/* No LFN if buffer overflow */
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[i] = 0;	/* Terminate the LFN */
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 63


2492:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
2495:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2496:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
2497:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dp->dir[i])) {
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = c << 8 | dp->dir[i++];
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
2502:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->altname[j] = c;
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[j] = c;
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 		j++;
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!lfv) {
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[j] = 0;	/* Terminate the SFN */
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2519:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
 1036              		.loc 1 2519 0
 1037 000a 0022     		movs	r2, #0
 1038 000c 1346     		mov	r3, r2
 1039 000e 05E0     		b	.L102
 1040              	.LVL126:
 1041              	.L104:
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1042              		.loc 1 2524 0
 1043 0010 092C     		cmp	r4, #9
 1044 0012 0ED0     		beq	.L112
 1045              	.L105:
 1046              	.LVL127:
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1047              		.loc 1 2525 0
 1048 0014 8D18     		adds	r5, r1, r2
 1049 0016 6B72     		strb	r3, [r5, #9]
 1050 0018 0132     		adds	r2, r2, #1
 1051              	.LVL128:
 1052              	.L103:
 1053 001a 2346     		mov	r3, r4
 1054              	.LVL129:
 1055              	.L102:
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
 1056              		.loc 1 2520 0
 1057 001c 0A2B     		cmp	r3, #10
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 64


 1058 001e 0DD8     		bhi	.L113
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 1059              		.loc 1 2521 0
 1060 0020 056A     		ldr	r5, [r0, #32]
 1061 0022 5C1C     		adds	r4, r3, #1
 1062              	.LVL130:
 1063 0024 EB5C     		ldrb	r3, [r5, r3]	@ zero_extendqisi2
 1064              	.LVL131:
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 1065              		.loc 1 2522 0
 1066 0026 202B     		cmp	r3, #32
 1067 0028 F7D0     		beq	.L103
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1068              		.loc 1 2523 0
 1069 002a 052B     		cmp	r3, #5
 1070 002c F0D1     		bne	.L104
 1071 002e E523     		movs	r3, #229
 1072              	.LVL132:
 1073 0030 EEE7     		b	.L104
 1074              	.LVL133:
 1075              	.L112:
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1076              		.loc 1 2524 0 discriminator 1
 1077 0032 8D18     		adds	r5, r1, r2
 1078 0034 2E26     		movs	r6, #46
 1079 0036 6E72     		strb	r6, [r5, #9]
 1080 0038 0132     		adds	r2, r2, #1
 1081              	.LVL134:
 1082 003a EBE7     		b	.L105
 1083              	.LVL135:
 1084              	.L113:
 1085 003c 0D46     		mov	r5, r1
 1086 003e 0446     		mov	r4, r0
2526:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2527:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[j] = 0;
 1087              		.loc 1 2527 0
 1088 0040 0A44     		add	r2, r2, r1
 1089              	.LVL136:
 1090 0042 0023     		movs	r3, #0
 1091              	.LVL137:
 1092 0044 5372     		strb	r3, [r2, #9]
2528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dp->dir[DIR_Attr];				/* Attribute */
 1093              		.loc 1 2530 0
 1094 0046 036A     		ldr	r3, [r0, #32]
 1095 0048 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1096 004a 0B72     		strb	r3, [r1, #8]
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 1097              		.loc 1 2531 0
 1098 004c 006A     		ldr	r0, [r0, #32]
 1099              	.LVL138:
 1100 004e 1C30     		adds	r0, r0, #28
 1101 0050 FFF7FEFF 		bl	ld_dword
 1102              	.LVL139:
 1103 0054 2860     		str	r0, [r5]
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 65


 1104              		.loc 1 2532 0
 1105 0056 206A     		ldr	r0, [r4, #32]
 1106 0058 1630     		adds	r0, r0, #22
 1107 005a FFF7FEFF 		bl	ld_dword
 1108              	.LVL140:
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 1109              		.loc 1 2533 0
 1110 005e E880     		strh	r0, [r5, #6]	@ movhi
 1111 0060 000C     		lsrs	r0, r0, #16
 1112              	.LVL141:
 1113 0062 A880     		strh	r0, [r5, #4]	@ movhi
2534:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1114              		.loc 1 2534 0
 1115 0064 70BD     		pop	{r4, r5, r6, pc}
 1116              	.LVL142:
 1117              	.L109:
 1118              	.LCFI17:
 1119              		.cfi_def_cfa_offset 0
 1120              		.cfi_restore 4
 1121              		.cfi_restore 5
 1122              		.cfi_restore 6
 1123              		.cfi_restore 14
 1124 0066 7047     		bx	lr
 1125              		.cfi_endproc
 1126              	.LFE161:
 1128              		.section	.text.create_name,"ax",%progbits
 1129              		.align	1
 1130              		.syntax unified
 1131              		.thumb
 1132              		.thumb_func
 1133              		.fpu fpv4-sp-d16
 1135              	create_name:
 1136              	.LFB162:
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
2541:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2542:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
2543:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2544:Middlewares/Third_Party/FatFs/src/ff.c **** 
2545:Middlewares/Third_Party/FatFs/src/ff.c **** static
2546:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
2547:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
2548:Middlewares/Third_Party/FatFs/src/ff.c **** )
2549:Middlewares/Third_Party/FatFs/src/ff.c **** {
2550:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** 
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2556:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
2557:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr)) {		/* Get DBC 2nd byte if needed */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 66


2559:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
2563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2564:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2566:Middlewares/Third_Party/FatFs/src/ff.c **** }
2567:Middlewares/Third_Party/FatFs/src/ff.c **** 
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 
2569:Middlewares/Third_Party/FatFs/src/ff.c **** static
2570:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* 0:not matched, 1:matched */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** )
2576:Middlewares/Third_Party/FatFs/src/ff.c **** {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc == 0) return 1;	/* Branch matched? (matched at end of both strings) */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
2607:Middlewares/Third_Party/FatFs/src/ff.c **** }
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 
2609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 
2613:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a top segment and create the object name in directory form       */
2615:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 67


2616:Middlewares/Third_Party/FatFs/src/ff.c **** 
2617:Middlewares/Third_Party/FatFs/src/ff.c **** static
2618:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (	/* FR_OK: successful, FR_INVALID_NAME: could not create */
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2620:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** )
2622:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1137              		.loc 1 2622 0
 1138              		.cfi_startproc
 1139              		@ args = 0, pretend = 0, frame = 0
 1140              		@ frame_needed = 0, uses_anonymous_args = 0
 1141              	.LVL143:
 1142 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1143              	.LCFI18:
 1144              		.cfi_def_cfa_offset 40
 1145              		.cfi_offset 3, -40
 1146              		.cfi_offset 4, -36
 1147              		.cfi_offset 5, -32
 1148              		.cfi_offset 6, -28
 1149              		.cfi_offset 7, -24
 1150              		.cfi_offset 8, -20
 1151              		.cfi_offset 9, -16
 1152              		.cfi_offset 10, -12
 1153              		.cfi_offset 11, -8
 1154              		.cfi_offset 14, -4
 1155 0004 8246     		mov	r10, r0
 1156 0006 8B46     		mov	fp, r1
2623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; lfn = dp->obj.fs->lfnbuf; si = di = 0;
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) return FR_INVALID_NAME;	/* Reject too long name */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2640:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b)) return FR_INVALID_NAME;	/* Reject invalid sequence */
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
2648:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) return FR_INVALID_NAME;	/* Reject illegal characters
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 68


2653:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2654:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2655:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') ||
2656:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {	/* Is this segment a dot name? */
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
2658:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)		/* Create dot name for SFN entry */
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2663:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Snip off trailing spaces and dots if exist */
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = b = 0; ni = 8;
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
2694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
2697:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* Is this DBC? (always false at SBCS cfg) */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 69


2710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2717:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with DDEM, replace it
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2739:Middlewares/Third_Party/FatFs/src/ff.c **** 
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 
2741:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* _USE_LFN != 0 : Non-LFN configuration */
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, d, *sfn;
2743:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
2745:Middlewares/Third_Party/FatFs/src/ff.c **** 
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; sfn = dp->fn;
 1157              		.loc 1 2747 0
 1158 0008 0F68     		ldr	r7, [r1]
 1159              	.LVL144:
 1160 000a 00F12409 		add	r9, r0, #36
 1161              	.LVL145:
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
 1162              		.loc 1 2748 0
 1163 000e 0B22     		movs	r2, #11
 1164 0010 2021     		movs	r1, #32
 1165              	.LVL146:
 1166 0012 4846     		mov	r0, r9
 1167              	.LVL147:
 1168 0014 FFF7FEFF 		bl	mem_set
 1169              	.LVL148:
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
 1170              		.loc 1 2749 0
 1171 0018 0026     		movs	r6, #0
 1172 001a 3346     		mov	r3, r6
 1173 001c 4FF00808 		mov	r8, #8
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 70


 1174 0020 2CE0     		b	.L115
 1175              	.LVL149:
 1176              	.L120:
2750:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2754:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2755:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2757:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = p + si;								/* Return pointer to the next segment */
2759:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 1177              		.loc 1 2767 0 discriminator 4
 1178 0022 0135     		adds	r5, r5, #1
 1179              	.LVL150:
 1180              	.L119:
 1181              		.loc 1 2767 0 is_stmt 0 discriminator 1
 1182 0024 7B5D     		ldrb	r3, [r7, r5]	@ zero_extendqisi2
 1183 0026 2F2B     		cmp	r3, #47
 1184 0028 FBD0     		beq	.L120
 1185              		.loc 1 2767 0 discriminator 3
 1186 002a 5C2B     		cmp	r3, #92
 1187 002c F9D0     		beq	.L120
 1188              	.L116:
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {		/* End of body or over size? */
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
2776:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2778:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2779:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII only cfg) */
2781:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2782:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false at SBCS cfg.) */
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c)) return FR_INVALID_NAME;	/* Reject illegal chrs for SFN */
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 71


2792:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2793:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = p + si;						/* Return pointer to the next segment */
 1189              		.loc 1 2795 0 is_stmt 1
 1190 002e 3D44     		add	r5, r5, r7
 1191              	.LVL151:
 1192 0030 CBF80050 		str	r5, [fp]
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
 1193              		.loc 1 2796 0
 1194 0034 002E     		cmp	r6, #0
 1195 0036 43D0     		beq	.L132
2797:Middlewares/Third_Party/FatFs/src/ff.c **** 
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* If the first character collides with DDEM, replace it with 
 1196              		.loc 1 2798 0
 1197 0038 9AF82430 		ldrb	r3, [r10, #36]	@ zero_extendqisi2
 1198 003c E52B     		cmp	r3, #229
 1199 003e 35D0     		beq	.L136
 1200              	.L127:
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 1201              		.loc 1 2799 0
 1202 0040 202C     		cmp	r4, #32
 1203 0042 37D8     		bhi	.L133
 1204 0044 0423     		movs	r3, #4
 1205              	.L128:
 1206              		.loc 1 2799 0 is_stmt 0 discriminator 4
 1207 0046 8AF82F30 		strb	r3, [r10, #47]
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 1208              		.loc 1 2801 0 is_stmt 1 discriminator 4
 1209 004a 0020     		movs	r0, #0
 1210 004c 28E0     		b	.L123
 1211              	.LVL152:
 1212              	.L138:
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 1213              		.loc 1 2772 0
 1214 004e 0826     		movs	r6, #8
 1215              	.LVL153:
 1216 0050 4FF00B08 		mov	r8, #11
 1217              	.LVL154:
 1218 0054 11E0     		b	.L124
 1219              	.LVL155:
 1220              	.L122:
2775:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1221              		.loc 1 2775 0
 1222 0056 14F0800F 		tst	r4, #128
 1223 005a 23D1     		bne	.L137
 1224              	.L125:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 1225              		.loc 1 2790 0
 1226 005c 2146     		mov	r1, r4
 1227 005e 1948     		ldr	r0, .L139
 1228 0060 FFF7FEFF 		bl	chk_chr
 1229              	.LVL156:
 1230 0064 50BB     		cbnz	r0, .L131
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1231              		.loc 1 2791 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 72


 1232 0066 A4F16103 		sub	r3, r4, #97
 1233 006a DBB2     		uxtb	r3, r3
 1234 006c 192B     		cmp	r3, #25
 1235 006e 01D8     		bhi	.L126
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1236              		.loc 1 2791 0 is_stmt 0 discriminator 1
 1237 0070 203C     		subs	r4, r4, #32
 1238              	.LVL157:
 1239 0072 E4B2     		uxtb	r4, r4
 1240              	.LVL158:
 1241              	.L126:
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1242              		.loc 1 2792 0 is_stmt 1
 1243 0074 09F80640 		strb	r4, [r9, r6]
 1244 0078 0136     		adds	r6, r6, #1
 1245              	.LVL159:
 1246              	.L124:
 1247 007a 2B46     		mov	r3, r5
 1248              	.LVL160:
 1249              	.L115:
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 1250              		.loc 1 2764 0
 1251 007c 5D1C     		adds	r5, r3, #1
 1252              	.LVL161:
 1253 007e FC5C     		ldrb	r4, [r7, r3]	@ zero_extendqisi2
 1254              	.LVL162:
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
 1255              		.loc 1 2765 0
 1256 0080 202C     		cmp	r4, #32
 1257 0082 D4D9     		bls	.L116
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 1258              		.loc 1 2766 0
 1259 0084 2F2C     		cmp	r4, #47
 1260 0086 CDD0     		beq	.L119
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 1261              		.loc 1 2766 0 is_stmt 0 discriminator 1
 1262 0088 5C2C     		cmp	r4, #92
 1263 008a CBD0     		beq	.L119
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
 1264              		.loc 1 2770 0 is_stmt 1
 1265 008c 2E2C     		cmp	r4, #46
 1266 008e 01D0     		beq	.L121
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
 1267              		.loc 1 2770 0 is_stmt 0 discriminator 1
 1268 0090 B045     		cmp	r8, r6
 1269 0092 E0D8     		bhi	.L122
 1270              	.L121:
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1271              		.loc 1 2771 0 is_stmt 1
 1272 0094 B8F10B0F 		cmp	r8, #11
 1273 0098 0ED0     		beq	.L129
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1274              		.loc 1 2771 0 is_stmt 0 discriminator 2
 1275 009a 2E2C     		cmp	r4, #46
 1276 009c D7D0     		beq	.L138
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1277              		.loc 1 2771 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 73


 1278 009e 0620     		movs	r0, #6
 1279              	.LVL163:
 1280              	.L123:
2802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LFN != 0 */
2803:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1281              		.loc 1 2803 0 is_stmt 1
 1282 00a0 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1283              	.LVL164:
 1284              	.L137:
2777:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1285              		.loc 1 2777 0
 1286 00a4 803C     		subs	r4, r4, #128
 1287              	.LVL165:
 1288 00a6 084B     		ldr	r3, .L139+4
 1289 00a8 1C5D     		ldrb	r4, [r3, r4]	@ zero_extendqisi2
 1290              	.LVL166:
 1291 00aa D7E7     		b	.L125
 1292              	.LVL167:
 1293              	.L136:
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 1294              		.loc 1 2798 0 discriminator 1
 1295 00ac 0523     		movs	r3, #5
 1296 00ae 8AF82430 		strb	r3, [r10, #36]
 1297 00b2 C5E7     		b	.L127
 1298              	.L133:
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1299              		.loc 1 2799 0
 1300 00b4 0023     		movs	r3, #0
 1301 00b6 C6E7     		b	.L128
 1302              	.LVL168:
 1303              	.L129:
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1304              		.loc 1 2771 0
 1305 00b8 0620     		movs	r0, #6
 1306 00ba F1E7     		b	.L123
 1307              	.L131:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 1308              		.loc 1 2790 0
 1309 00bc 0620     		movs	r0, #6
 1310 00be EFE7     		b	.L123
 1311              	.LVL169:
 1312              	.L132:
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1313              		.loc 1 2796 0
 1314 00c0 0620     		movs	r0, #6
 1315 00c2 EDE7     		b	.L123
 1316              	.L140:
 1317              		.align	2
 1318              	.L139:
 1319 00c4 00000000 		.word	.LC0
 1320 00c8 00000000 		.word	.LANCHOR1
 1321              		.cfi_endproc
 1322              	.LFE162:
 1324              		.section	.text.get_ldnumber,"ax",%progbits
 1325              		.align	1
 1326              		.syntax unified
 1327              		.thumb
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 74


 1328              		.thumb_func
 1329              		.fpu fpv4-sp-d16
 1331              	get_ldnumber:
 1332              	.LFB164:
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 
2806:Middlewares/Third_Party/FatFs/src/ff.c **** 
2807:Middlewares/Third_Party/FatFs/src/ff.c **** 
2808:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2809:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2810:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 
2812:Middlewares/Third_Party/FatFs/src/ff.c **** static
2813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2815:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2816:Middlewares/Third_Party/FatFs/src/ff.c **** )
2817:Middlewares/Third_Party/FatFs/src/ff.c **** {
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2825:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path != '/' && *path != '\\') {	/* Without heading separator */
2826:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2828:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 	{										/* With heading separator */
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*path == '/' || *path == '\\') path++;	/* Strip heading separator */
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2833:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj->n_frag = 0;	/* Invalidate last fragment counter of the object */
2835:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2836:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT && obj->sclust) {	/* Retrieve the sub-directory status if needed */
2837:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_scl = fs->cdc_scl;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_size = fs->cdc_size;
2841:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_ofs = fs->cdc_ofs;
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_obj_dir(&dj, obj);
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->objsize = ld_dword(fs->dirbuf + XDIR_FileSize);
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2846:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2847:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2848:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 75


2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(obj->attr & AM_DIR)) {		/* It is not a sub-directory and cannot follow */
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2877:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2878:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {		/* Save containing directory information for next dir */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_scl = obj->sclust;
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
2881:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_ofs = dp->blk_ofs;
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Open next directory */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
2886:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_clust(fs, fs->win + dp->dptr % SS(fs));	/* Open next directory */
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2894:Middlewares/Third_Party/FatFs/src/ff.c **** }
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 
2899:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2900:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2901:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 
2903:Middlewares/Third_Party/FatFs/src/ff.c **** static
2904:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** )
2907:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1333              		.loc 1 2907 0
 1334              		.cfi_startproc
 1335              		@ args = 0, pretend = 0, frame = 0
 1336              		@ frame_needed = 0, uses_anonymous_args = 0
 1337              		@ link register save eliminated.
 1338              	.LVL170:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 76


2908:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
2911:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const volid[] = {_VOLUME_STRS};
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2916:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 1339              		.loc 1 2919 0
 1340 0000 0168     		ldr	r1, [r0]
 1341 0002 09B1     		cbz	r1, .L155
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 1342              		.loc 1 2920 0
 1343 0004 0A46     		mov	r2, r1
 1344 0006 03E0     		b	.L142
 1345              	.L155:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1346              		.loc 1 2910 0
 1347 0008 4FF0FF33 		mov	r3, #-1
 1348 000c 08E0     		b	.L152
 1349              	.LVL171:
 1350              	.L145:
 1351              		.loc 1 2920 0 discriminator 4
 1352 000e 0132     		adds	r2, r2, #1
 1353              	.LVL172:
 1354              	.L142:
 1355              		.loc 1 2920 0 is_stmt 0 discriminator 1
 1356 0010 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1357 0012 202B     		cmp	r3, #32
 1358 0014 01D9     		bls	.L144
 1359              		.loc 1 2920 0 discriminator 3
 1360 0016 3A2B     		cmp	r3, #58
 1361 0018 F9D1     		bne	.L145
 1362              	.L144:
2921:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 1363              		.loc 1 2921 0 is_stmt 1
 1364 001a 3A2B     		cmp	r3, #58
 1365 001c 02D0     		beq	.L156
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0';
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
2928:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2930:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = volid[i]; tp = *path;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 77


2937:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2940:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2944:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2947:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2948:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 1366              		.loc 1 2951 0
 1367 001e 0023     		movs	r3, #0
 1368              	.LVL173:
 1369              	.L152:
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2954:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2955:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1370              		.loc 1 2955 0
 1371 0020 1846     		mov	r0, r3
 1372              	.LVL174:
 1373 0022 7047     		bx	lr
 1374              	.LVL175:
 1375              	.L156:
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1376              		.loc 1 2907 0
 1377 0024 10B4     		push	{r4}
 1378              	.LCFI19:
 1379              		.cfi_def_cfa_offset 4
 1380              		.cfi_offset 4, -4
 1381              	.LVL176:
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1382              		.loc 1 2923 0
 1383 0026 4C1C     		adds	r4, r1, #1
 1384              	.LVL177:
 1385 0028 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1386 002a 303B     		subs	r3, r3, #48
 1387              	.LVL178:
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1388              		.loc 1 2924 0
 1389 002c 092B     		cmp	r3, #9
 1390 002e 08D8     		bhi	.L148
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1391              		.loc 1 2924 0 is_stmt 0 discriminator 1
 1392 0030 A242     		cmp	r2, r4
 1393 0032 09D1     		bne	.L149
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1394              		.loc 1 2925 0 is_stmt 1
 1395 0034 5BB9     		cbnz	r3, .L150
 1396              	.LVL179:
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1397              		.loc 1 2927 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 78


 1398 0036 0132     		adds	r2, r2, #1
 1399              	.LVL180:
 1400 0038 0260     		str	r2, [r0]
 1401              	.LVL181:
 1402              	.L141:
 1403              		.loc 1 2955 0
 1404 003a 1846     		mov	r0, r3
 1405              	.LVL182:
 1406 003c 5DF8044B 		ldr	r4, [sp], #4
 1407              	.LCFI20:
 1408              		.cfi_remember_state
 1409              		.cfi_restore 4
 1410              		.cfi_def_cfa_offset 0
 1411              	.LVL183:
 1412 0040 7047     		bx	lr
 1413              	.LVL184:
 1414              	.L148:
 1415              	.LCFI21:
 1416              		.cfi_restore_state
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1417              		.loc 1 2910 0
 1418 0042 4FF0FF33 		mov	r3, #-1
 1419              	.LVL185:
 1420 0046 F8E7     		b	.L141
 1421              	.LVL186:
 1422              	.L149:
 1423 0048 4FF0FF33 		mov	r3, #-1
 1424              	.LVL187:
 1425 004c F5E7     		b	.L141
 1426              	.LVL188:
 1427              	.L150:
 1428 004e 4FF0FF33 		mov	r3, #-1
 1429              	.LVL189:
 1430 0052 F2E7     		b	.L141
 1431              		.cfi_endproc
 1432              	.LFE164:
 1434              		.section	.text.putc_init,"ax",%progbits
 1435              		.align	1
 1436              		.syntax unified
 1437              		.thumb
 1438              		.thumb_func
 1439              		.fpu fpv4-sp-d16
 1441              	putc_init:
 1442              	.LFB188:
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 
2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2961:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2962:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2963:Middlewares/Third_Party/FatFs/src/ff.c **** 
2964:Middlewares/Third_Party/FatFs/src/ff.c **** static
2965:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT, 1:exFAT, 2:Valid BS but not FAT, 3:Not a BS, 4:Disk error */
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2967:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to load and check if it is an FAT-VBR or not */
2968:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 79


2969:Middlewares/Third_Party/FatFs/src/ff.c **** {
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
2972:Middlewares/Third_Party/FatFs/src/ff.c **** 
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(fs->win + BS_55AA) != 0xAA55) return 3;	/* Check boot record signature (always placed 
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->win[BS_JmpBoot] == 0xE9 || (fs->win[BS_JmpBoot] == 0xEB && fs->win[BS_JmpBoot + 2] == 0x90
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2979:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!mem_cmp(fs->win + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11)) return 1;
2981:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 2;
2983:Middlewares/Third_Party/FatFs/src/ff.c **** }
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** 
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 
2988:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2989:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2990:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 
2992:Middlewares/Third_Party/FatFs/src/ff.c **** static
2993:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2994:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* !=0: Check write protection for write access */
2997:Middlewares/Third_Party/FatFs/src/ff.c **** )
2998:Middlewares/Third_Party/FatFs/src/ff.c **** {
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
3019:Middlewares/Third_Party/FatFs/src/ff.c **** 
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= (BYTE)~FA_READ;				/* Desired access mode, write access or not */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 80


3026:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && mode && (stat & STA_PROTECT)) { /* Check disk write protection if needed */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3043:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS					/* Get sector size (multiple sector size cfg only) */
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK) return FR_DISK_ERR;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
3046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning rules, FDISK and SFD. */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3056:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);					/* Partition number: 0:auto, 1-4:forced */
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {							/* Find an FAT volume */
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
3062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 4) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found (bsect). Following code initializes the file system object */
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 
3068:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1) {
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 		QWORD maxlba;
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = BPB_ZeroedEx; i < BPB_ZeroedEx + 53 && fs->win[i] == 0; i++) ;	/* Check zero filler */
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < BPB_ZeroedEx + 53) return FR_NO_FILESYSTEM;
3074:Middlewares/Third_Party/FatFs/src/ff.c **** 
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_FSVerEx) != 0x100) return FR_NO_FILESYSTEM;	/* Check exFAT revision (Mu
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 
3077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (1 << fs->win[BPB_BytsPerSecEx] != SS(fs)) {	/* (BPB_BytsPerSecEx must be equal to the physica
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_NO_FILESYSTEM;
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 		maxlba = ld_qword(fs->win + BPB_TotSecEx) + bsect;	/* Last LBA + 1 of the volume */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba >= 0x100000000) return FR_NO_FILESYSTEM;	/* (It cannot be handled in 32-bit LBA) */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 81


3083:Middlewares/Third_Party/FatFs/src/ff.c **** 
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = ld_dword(fs->win + BPB_FatSzEx);	/* Number of sectors per FAT */
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATsEx];			/* Number of FATs */
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1) return FR_NO_FILESYSTEM;	/* (Supports only 1 FAT) */
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = 1 << fs->win[BPB_SecPerClusEx];		/* Cluster size */
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0)	return FR_NO_FILESYSTEM;	/* (Must be 1..32768) */
3091:Middlewares/Third_Party/FatFs/src/ff.c **** 
3092:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = ld_dword(fs->win + BPB_NumClusEx);		/* Number of clusters */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst > MAX_EXFAT) return FR_NO_FILESYSTEM;	/* (Too many clusters) */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3097:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;
3098:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + ld_dword(fs->win + BPB_DataOfsEx);
3099:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + ld_dword(fs->win + BPB_FatOfsEx);
3100:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba < (QWORD)fs->database + nclst * fs->csize) return FR_NO_FILESYSTEM;	/* (Volume size mu
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = ld_dword(fs->win + BPB_RootClusEx);
3102:Middlewares/Third_Party/FatFs/src/ff.c **** 
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Check if bitmap location is in assumption (at the first cluster) */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, clust2sect(fs, fs->dirbase)) != FR_OK) return FR_DISK_ERR;
3105:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < SS(fs); i += SZDIRE) {
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->win[i] == 0x81 && ld_dword(fs->win + i + 20) == 2) break;	/* 81 entry with cluster #2? *
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3108:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == SS(fs)) return FR_NO_FILESYSTEM;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_EXFAT;			/* FAT sub-type */
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_BytsPerSec) != SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_BytsPerSec must
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize = ld_word(fs->win + BPB_FATSz16);		/* Number of sectors per FAT */
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATs];				/* Number of FATs */
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = fs->win[BPB_SecPerClus];			/* Cluster size */
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_rootdir = ld_word(fs->win + BPB_RootEntCnt);	/* Number of root directory entries */
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		tsect = ld_word(fs->win + BPB_TotSec16);		/* Number of sectors on the volume */
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		nrsv = ld_word(fs->win + BPB_RsvdSecCnt);		/* Number of reserved sectors */
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine the FAT sub type */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZDIRE);	/* RSV + FAT + DIR */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 82


3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;						/* Number of FAT entries */
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
3157:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir == 0)	return FR_NO_FILESYSTEM;/* (BPB_RootEntCnt must not be 0) */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_FATSz must not
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3166:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get FSINFO if available */
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
3169:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo32 == 1 */
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst = ld_dword(fs->win + FSI_Free_Count);
3181:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3182:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->last_clst = ld_dword(fs->win + FSI_Nxt_Free);
3184:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3187:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* (_FS_NOFSINFO & 3) != 3 */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;		/* FAT sub-type */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->lfnbuf = LfnBuf;	/* Static LFN working buffer */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->dirbuf = DirBuf;	/* Static directory block scratchpad buuffer */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 83


3197:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3198:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3199:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
3200:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;			/* Initialize current directory */
3201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3202:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0			/* Clear file lock semaphores */
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
3204:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3205:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3206:Middlewares/Third_Party/FatFs/src/ff.c **** }
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 
3211:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3212:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
3213:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 
3215:Middlewares/Third_Party/FatFs/src/ff.c **** static
3216:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* Returns FR_OK or FR_INVALID_OBJECT */
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,		/* Pointer to the _OBJ, the 1st member in the FIL/DIR object, to check validity */
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fs		/* Pointer to pointer to the owner file system object to return */
3219:Middlewares/Third_Party/FatFs/src/ff.c **** )
3220:Middlewares/Third_Party/FatFs/src/ff.c **** {
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj && obj->fs && obj->fs->fs_type && obj->id == obj->fs->id) {	/* Test if the object is valid
3225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (lock_fs(obj->fs)) {	/* Obtain the filesystem object */
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialize
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3229:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3230:Middlewares/Third_Party/FatFs/src/ff.c **** 				unlock_fs(obj->fs, FR_OK);
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_TIMEOUT;
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3235:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialized
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	*fs = (res == FR_OK) ? obj->fs : 0;	/* Corresponding filesystem object */
3242:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3243:Middlewares/Third_Party/FatFs/src/ff.c **** }
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 
3247:Middlewares/Third_Party/FatFs/src/ff.c **** 
3248:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------------------------------------
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions (FatFs API)
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
3252:Middlewares/Third_Party/FatFs/src/ff.c **** ----------------------------------------------------------------------------*/
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 84


3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** 
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* Mode option 0:Do not mount (delayed mount), 1:Mount immediately */
3264:Middlewares/Third_Party/FatFs/src/ff.c **** )
3265:Middlewares/Third_Party/FatFs/src/ff.c **** {
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
3278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
3280:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3281:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
3283:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
3291:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);	/* Force mounted the volume */
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3299:Middlewares/Third_Party/FatFs/src/ff.c **** }
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 
3304:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3305:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
3306:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
3308:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 85


3311:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
3312:Middlewares/Third_Party/FatFs/src/ff.c **** )
3313:Middlewares/Third_Party/FatFs/src/ff.c **** {
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3316:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3317:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl, bcs, clst, sc;
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
3320:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
3325:Middlewares/Third_Party/FatFs/src/ff.c **** 
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= _FS_READONLY ? FA_READ : FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_CREATE_NEW | FA_OPEN_A
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3332:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3342:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3344:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
3348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
3350:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3351:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
3352:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW) res = FR_EXIST;	/* Cannot create as new file */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
3365:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get current allocation info */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 86


3368:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.fs = fs;
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.n_frag = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Initialize directory entry block */
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_CrtTime, dw);	/* Set created time */
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_CrtTime10] = 0;
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, dw);	/* Set modified time */
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_ModTime10] = 0;
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_ARC;				/* Reset attribute */
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, 0);		/* Reset file allocation info */
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_FileSize, 0);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_ValidFileSize, 0);
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 1;
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK && fp->obj.sclust) {		/* Remove the cluster chain if exist */
3385:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&fp->obj, fp->obj.sclust, 0);
3386:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->last_clst = fp->obj.sclust - 1;		/* Reuse the cluster hole */
3387:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3388:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
3389:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3390:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean directory info */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_CrtTime, dw);	/* Set created time */
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3399:Middlewares/Third_Party/FatFs/src/ff.c **** 
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cl) {							/* Remove the cluster chain if exist */
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3408:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Following succeeded */
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dj.obj.attr & AM_RDO)) { /* R/O violation */
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 87


3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
3427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
3430:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3431:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3432:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* R/O configuration */
3433:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3437:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3438:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3439:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3440:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3442:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3445:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_scl = dj.obj.sclust;							/* Get containing directory info */
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_ofs = dj.blk_ofs;
3450:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_clust(fs, dj.dir);					/* Get object allocation info */
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;			/* Disable fast seek mode */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.fs = fs;	 	/* Validate the file object */
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
3468:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3469:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fp->buf, 0, _MAX_SS);	/* Clear sector buffer */
3471:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((mode & FA_SEEKEND) && fp->obj.objsize > 0) {	/* Seek to end of file if FA_OPEN_APPEND is sp
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 88


3482:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->sect = sc + (DWORD)(ofs / SS(fs));
3487:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_read(fs->drv, fp->buf, fp->sect, 1) != RES_OK) res = FR_DISK_ERR;
3489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3493:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) fp->obj.fs = 0;	/* Invalidate file object on error */
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3502:Middlewares/Third_Party/FatFs/src/ff.c **** }
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 
3507:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3508:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
3509:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 
3511:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 	/* Pointer to the file object */
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,	/* Pointer to data buffer */
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,	/* Number of bytes to read */
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br	/* Pointer to number of bytes read */
3516:Middlewares/Third_Party/FatFs/src/ff.c **** )
3517:Middlewares/Third_Party/FatFs/src/ff.c **** {
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 89


3539:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
3540:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
3541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3544:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3546:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, fp->clust);	/* Follow cluster chain on the FAT */
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fs, FR_INT_ERR);
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, rbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3563:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
3564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->wflag && fs->winsect - sect < cc) {
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fs->winsect - sect) * SS(fs)), fs->win, SS(fs));
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3568:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA_DIRTY) && fp->sect - sect < cc) {
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3572:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fs) * cc;				/* Number of bytes transferred */
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3578:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect) {			/* Load data sector if not in cache */
3579:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK)	ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
3592:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fs->win + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3595:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 90


3596:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fp->buf + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3597:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3598:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3601:Middlewares/Third_Party/FatFs/src/ff.c **** }
3602:Middlewares/Third_Party/FatFs/src/ff.c **** 
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 
3606:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3607:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3608:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
3609:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void* buff,	/* Pointer to the data to be written */
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** )
3617:Middlewares/Third_Party/FatFs/src/ff.c **** {
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check fptr wrap-around (file size cannot reach 4GiB on FATxx) */
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((!_FS_EXFAT || fs->fs_type != FS_EXFAT) && (DWORD)(fp->fptr + btw) < (DWORD)fp->fptr) {
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* On the middle or end of the file */
3646:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, fp->clust);	/* Follow or stretch cluster chain on the FAT */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 91


3653:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3661:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->winsect == fp->sect && sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Write-back s
3663:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back sector cache */
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3667:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3668:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, wbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct writ
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fs->win, wbuff + ((fs->winsect - sect) * SS(fs)), SS(fs));
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 0;
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3684:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write *
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3690:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fs) * cc;		/* Number of bytes transferred */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3694:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->obj.objsize) {	/* Avoid silly cache filling on the growing edge */
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->winsect = sect;
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect && 		/* Fill sector cache with file data */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3705:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 92


3710:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fs->win + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
3714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fp->buf + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
3717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA_MODIFIED;				/* Set file change flag */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3723:Middlewares/Third_Party/FatFs/src/ff.c **** }
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 
3728:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3729:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
3730:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 
3732:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3734:Middlewares/Third_Party/FatFs/src/ff.c **** )
3735:Middlewares/Third_Party/FatFs/src/ff.c **** {
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3739:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3740:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3741:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3747:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
3748:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {	/* Write-back cached data if needed */
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3753:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();				/* Modified time */
3756:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_first_frag(&fp->obj);	/* Fill first fragment on the FAT if needed */
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if nee
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 					INIT_NAMBUF(fs);
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_obj_dir(&dj, &fp->obj);	/* Load directory entry block */
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_Attr] |= AM_ARC;				/* Set archive bit */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 93


3767:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_GenFlags] = fp->obj.stat | 1;	/* Update file allocation info */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_FstClus, fp->obj.sclust);
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_FileSize, fp->obj.objsize);
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_ValidFileSize, fp->obj.objsize);
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_ModTime, tm);		/* Update modified time */
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_ModTime10] = 0;
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_AccTime, 0);
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&dj);	/* Restore it to the directory */
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = sync_fs(fs);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag &= (BYTE)~FA_MODIFIED;
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 					FREE_NAMBUF();
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3782:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3784:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, fp->dir_sect);
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3802:Middlewares/Third_Party/FatFs/src/ff.c **** }
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 
3804:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 
3806:Middlewares/Third_Party/FatFs/src/ff.c **** 
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 
3808:Middlewares/Third_Party/FatFs/src/ff.c **** 
3809:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3810:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 
3813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object to be closed */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** )
3816:Middlewares/Third_Party/FatFs/src/ff.c **** {
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 
3820:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3823:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 94


3824:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(&fp->obj, &fs);	/* Lock volume */
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3827:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->obj.lockid);	/* Decrement file open counter */
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
3830:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.fs = 0;			/* Invalidate file object */
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3834:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
3836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3840:Middlewares/Third_Party/FatFs/src/ff.c **** }
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 
3845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3847:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
3848:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3849:Middlewares/Third_Party/FatFs/src/ff.c **** 
3850:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3851:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
3853:Middlewares/Third_Party/FatFs/src/ff.c **** )
3854:Middlewares/Third_Party/FatFs/src/ff.c **** {
3855:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
3860:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3861:Middlewares/Third_Party/FatFs/src/ff.c **** 
3862:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;	/* Set it as current volume */
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3865:Middlewares/Third_Party/FatFs/src/ff.c **** }
3866:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3867:Middlewares/Third_Party/FatFs/src/ff.c **** 
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 
3869:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3871:Middlewares/Third_Party/FatFs/src/ff.c **** )
3872:Middlewares/Third_Party/FatFs/src/ff.c **** {
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 95


3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
3887:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_scl = dj.obj.c_scl;
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_size = dj.obj.c_size;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_ofs = dj.obj.c_ofs;
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {	/* It is a sub-directory */
3896:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_dword(fs->dirbuf + XDIR_FstClus);		/* Sub-directory cluster */
3899:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_scl = dj.obj.sclust;						/* Save containing directory information */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3901:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_ofs = dj.blk_ofs;
3902:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_clust(fs, dj.dir);					/* Sub-directory cluster */
3906:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3907:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3908:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3909:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3910:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3912:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 
3916:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3917:Middlewares/Third_Party/FatFs/src/ff.c **** }
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 
3920:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3921:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3923:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3924:Middlewares/Third_Party/FatFs/src/ff.c **** )
3925:Middlewares/Third_Party/FatFs/src/ff.c **** {
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 
3936:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 96


3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume((const TCHAR**)&buff, &fs, 0);	/* Get current volume */
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root path)
3944:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.sclust = fs->cdir;				/* Start to follow upper directory from current directory */
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3946:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dj.sect);
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {							/* Find the entry links to the child directory */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_read(&dj, 0);
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (res == FR_OK);
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = 0; fno.fname[n]; n++) ;
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (n) buff[--i] = fno.fname[--n];
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3970:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3972:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3974:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3975:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3976:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3979:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3981:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3982:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3989:Middlewares/Third_Party/FatFs/src/ff.c **** }
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 97


3995:Middlewares/Third_Party/FatFs/src/ff.c **** 
3996:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3997:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3998:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 
4001:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
4002:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File pointer from top of file */
4004:Middlewares/Third_Party/FatFs/src/ff.c **** )
4005:Middlewares/Third_Party/FatFs/src/ff.c **** {
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
4017:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && fs->fs_type == FS_EXFAT) {
4018:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if needed
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4020:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 
4023:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fs->n_fatent);	/* Repeat until end of chain */
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->obj.objsize) ofs = fp->obj.objsize;	/* Clip offset at the file size */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 98


4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
4059:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4060:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4066:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fs->drv, fp->buf, dsc, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Load current sec
4067:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sect = dsc;
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4072:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4077:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type != FS_EXFAT && ofs >= 0x100000000) ofs = 0xFFFFFFFF;	/* Clip at 4GiB-1 if at FATx
4079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->obj.objsize && (_FS_READONLY || !(fp->flag & FA_WRITE))) {	/* In read-only mode, cl
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;					/* start from the first cluster */
4094:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4101:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
4107:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 99


4109:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag |= FA_MODIFIED;
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, clst);	/* Follow chain with forceed stretch */
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4118:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, clst);	/* Follow cluster chain if not in write mode */
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
4125:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
4131:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4132:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4133:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_READONLY && fp->fptr > fp->obj.objsize) {		/* Set file change flag if the file size is e
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) && nsect != fp->sect) {	/* Fill sector cache if needed */
4139:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4140:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {			/* Write-back dirty sector cache */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, nsect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
4147:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = nsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4153:Middlewares/Third_Party/FatFs/src/ff.c **** }
4154:Middlewares/Third_Party/FatFs/src/ff.c **** 
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 
4156:Middlewares/Third_Party/FatFs/src/ff.c **** 
4157:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
4158:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4159:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 
4162:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
4165:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 100


4166:Middlewares/Third_Party/FatFs/src/ff.c **** {
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj = &dp->obj;
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_scl = obj->sclust;							/* Get containing directory inforamation */
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_ofs = dp->blk_ofs;
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
4191:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4194:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_clust(fs, dp->dir);	/* Get object allocation info */
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* This object is a file */
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
4205:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = 0;	/* Root directory need not to be locked */
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4214:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) obj->fs = 0;		/* Invalidate the directory object if function faild */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 101


4223:Middlewares/Third_Party/FatFs/src/ff.c **** }
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 
4228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4229:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 
4232:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
4234:Middlewares/Third_Party/FatFs/src/ff.c **** )
4235:Middlewares/Third_Party/FatFs/src/ff.c **** {
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);			/* Check validity of the file object */
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4242:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.lockid) {				/* Decrement sub-directory open counter */
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
4247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.fs = 0;			/* Invalidate directory object */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
4253:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4256:Middlewares/Third_Party/FatFs/src/ff.c **** }
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 
4261:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4262:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
4263:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 
4265:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** )
4269:Middlewares/Third_Party/FatFs/src/ff.c **** {
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);	/* Check validity of the directory object */
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 102


4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_NAMBUF(fs);
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_NAMBUF();
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4292:Middlewares/Third_Party/FatFs/src/ff.c **** }
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 
4296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
4297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find Next File                                                        */
4299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 
4301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** )
4305:Middlewares/Third_Party/FatFs/src/ff.c **** {
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;		/* Test for the file name */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && _USE_FIND == 2
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->altname, 0, 0)) break;	/* Test for alternative name if exist *
4315:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4318:Middlewares/Third_Party/FatFs/src/ff.c **** }
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 
4322:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4323:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find First File                                                       */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** )
4332:Middlewares/Third_Party/FatFs/src/ff.c **** {
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 103


4337:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** }
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 
4344:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 
4348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
4349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4350:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
4351:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 
4353:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4356:Middlewares/Third_Party/FatFs/src/ff.c **** )
4357:Middlewares/Third_Party/FatFs/src/ff.c **** {
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4361:Middlewares/Third_Party/FatFs/src/ff.c **** 
4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &dj.obj.fs, 0);
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.obj.fs, res);
4379:Middlewares/Third_Party/FatFs/src/ff.c **** }
4380:Middlewares/Third_Party/FatFs/src/ff.c **** 
4381:Middlewares/Third_Party/FatFs/src/ff.c **** 
4382:Middlewares/Third_Party/FatFs/src/ff.c **** 
4383:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4384:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4385:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 
4388:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
4389:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
4392:Middlewares/Third_Party/FatFs/src/ff.c **** )
4393:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 104


4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) {
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			nfree = 0;
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4421:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* exFAT: Scan bitmap table */
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 					BYTE bm;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 					UINT b;
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent - 2;
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 					sect = fs->database;
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0;
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0 && (res = move_window(fs, sect++)) != FR_OK) break;
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 						for (b = 8, bm = fs->win[i]; b && clst; b--, clst--) {
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!(bm & 1)) nfree++;
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 							bm >>= 1;
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = (i + 1) % SS(fs);
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (clst);
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 				{	/* FAT16/32: Sector alighed FAT entries */
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent; sect = fs->fatbase;
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_FAT16) {
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 105


4451:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
4452:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							if ((ld_dword(p) & 0x0FFFFFFF) == 0) nfree++;
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
4455:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (--clst);
4457:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = nfree;			/* Return the free clusters */
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4466:Middlewares/Third_Party/FatFs/src/ff.c **** }
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 
4470:Middlewares/Third_Party/FatFs/src/ff.c **** 
4471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
4473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 
4475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
4476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** )
4478:Middlewares/Third_Party/FatFs/src/ff.c **** {
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr < fp->obj.objsize) {	/* Process when fptr is not on the eof */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = get_fat(&fp->obj, fp->clust);
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->obj.objsize = fp->fptr;	/* Set file size to current R/W point */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
4503:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (fp->flag & FA_DIRTY)) {
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 106


4508:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4511:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) ABORT(fs, res);
4513:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4516:Middlewares/Third_Party/FatFs/src/ff.c **** }
4517:Middlewares/Third_Party/FatFs/src/ff.c **** 
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 
4521:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4522:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File/Directory                                               */
4523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 
4525:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
4527:Middlewares/Third_Party/FatFs/src/ff.c **** )
4528:Middlewares/Third_Party/FatFs/src/ff.c **** {
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
4532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4534:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4535:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4536:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
4547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4548:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Check if it is an open object */
4550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_RDO) {
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4559:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj.fs = fs;
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.sclust = dclst = ld_dword(fs->dirbuf + XDIR_FstClus);
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 107


4565:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 					dclst = ld_clust(fs, dj.dir);
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {			/* Is it a sub-directory? */
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == fs->cdir) {		 		/* Is it the current directory? */
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4576:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.fs = fs;						/* Open the sub-directory */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
4580:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_EXFAT) {
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.objsize = obj.objsize;
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.stat = obj.stat;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 0);
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
4598:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4599:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&obj, dclst, 0);
4600:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&dj.obj, dclst, 0);
4602:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4603:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(fs);
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4611:Middlewares/Third_Party/FatFs/src/ff.c **** }
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 
4616:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4617:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
4618:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 108


4622:Middlewares/Third_Party/FatFs/src/ff.c **** )
4623:Middlewares/Third_Party/FatFs/src/ff.c **** {
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
4630:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 109


4679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* Initialize directory entry block */
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, tm);	/* Created time */
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, dcl);	/* Table start cluster */
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FileSize, (DWORD)dj.obj.objsize);	/* File size needs to be valid */
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ValidFileSize, (DWORD)dj.obj.objsize);
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 3;				/* Initialize the object flag (contiguous) */
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_DIR;				/* Attribute */
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = dj.dir;
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(&dj.obj, dcl, 0);		/* Could not register, remove cluster chain */
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4708:Middlewares/Third_Party/FatFs/src/ff.c **** }
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 
4713:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename a File/Directory                                               */
4715:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 
4717:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object name to be renamed */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
4720:Middlewares/Third_Party/FatFs/src/ff.c **** )
4721:Middlewares/Third_Party/FatFs/src/ff.c **** {
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	get_ldnumber(&path_new);						/* Snip drive number of new name off */
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 110


4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
4737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4741:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Object to be renamed is found */
4743:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {	/* At exFAT */
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 				BYTE nf, nn;
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 				WORD nh;
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, fs->dirbuf, SZDIRE * 2);	/* Save 85+C0 entry of old object */
4749:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof djo);
4750:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4751:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4752:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4753:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4754:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4755:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4756:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4757:Middlewares/Third_Party/FatFs/src/ff.c **** 						nf = fs->dirbuf[XDIR_NumSec]; nn = fs->dirbuf[XDIR_NumName];
4758:Middlewares/Third_Party/FatFs/src/ff.c **** 						nh = ld_word(fs->dirbuf + XDIR_NameHash);
4759:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(fs->dirbuf, buf, SZDIRE * 2);
4760:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_NumSec] = nf; fs->dirbuf[XDIR_NumName] = nn;
4761:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_word(fs->dirbuf + XDIR_NameHash, nh);
4762:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4763:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&djn);
4764:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4765:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4767:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4768:Middlewares/Third_Party/FatFs/src/ff.c **** 			{	/* At FAT12/FAT16/FAT32 */
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about the object except name */
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4774:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
4786:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
4787:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(fs, dw);
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 111


4793:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
4794:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
4795:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4796:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4797:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4798:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4803:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4804:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4805:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of the critical section */
4806:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4808:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4809:Middlewares/Third_Party/FatFs/src/ff.c **** 
4810:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4811:Middlewares/Third_Party/FatFs/src/ff.c **** }
4812:Middlewares/Third_Party/FatFs/src/ff.c **** 
4813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4814:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
4815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
4816:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
4817:Middlewares/Third_Party/FatFs/src/ff.c **** 
4818:Middlewares/Third_Party/FatFs/src/ff.c **** 
4819:Middlewares/Third_Party/FatFs/src/ff.c **** 
4820:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_CHMOD && !_FS_READONLY
4821:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
4823:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4824:Middlewares/Third_Party/FatFs/src/ff.c **** 
4825:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
4826:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4827:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
4828:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
4829:Middlewares/Third_Party/FatFs/src/ff.c **** )
4830:Middlewares/Third_Party/FatFs/src/ff.c **** {
4831:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4832:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4834:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4835:Middlewares/Third_Party/FatFs/src/ff.c **** 
4836:Middlewares/Third_Party/FatFs/src/ff.c **** 
4837:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4838:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4839:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4840:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4841:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4842:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4844:Middlewares/Third_Party/FatFs/src/ff.c **** 			mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
4845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4846:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4847:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->dirbuf[XDIR_Attr] = (attr & mask) | (fs->dirbuf[XDIR_Attr] & (BYTE)~mask);	/* Apply attribu
4848:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4849:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 112


4850:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4851:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4852:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[DIR_Attr] = (attr & mask) | (dj.dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change 
4853:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4854:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4855:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4856:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4857:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4858:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4859:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4860:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4861:Middlewares/Third_Party/FatFs/src/ff.c **** 
4862:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4863:Middlewares/Third_Party/FatFs/src/ff.c **** }
4864:Middlewares/Third_Party/FatFs/src/ff.c **** 
4865:Middlewares/Third_Party/FatFs/src/ff.c **** 
4866:Middlewares/Third_Party/FatFs/src/ff.c **** 
4867:Middlewares/Third_Party/FatFs/src/ff.c **** 
4868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
4870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4871:Middlewares/Third_Party/FatFs/src/ff.c **** 
4872:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
4873:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
4874:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
4875:Middlewares/Third_Party/FatFs/src/ff.c **** )
4876:Middlewares/Third_Party/FatFs/src/ff.c **** {
4877:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4878:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4879:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4880:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4881:Middlewares/Third_Party/FatFs/src/ff.c **** 
4882:Middlewares/Third_Party/FatFs/src/ff.c **** 
4883:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4884:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4885:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4886:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4887:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4889:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4890:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4891:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4892:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(fs->dirbuf + XDIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4893:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4895:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4896:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4897:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(dj.dir + DIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4900:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4901:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4902:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4903:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4904:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4906:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 113


4907:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4908:Middlewares/Third_Party/FatFs/src/ff.c **** }
4909:Middlewares/Third_Party/FatFs/src/ff.c **** 
4910:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_CHMOD && !_FS_READONLY */
4911:Middlewares/Third_Party/FatFs/src/ff.c **** 
4912:Middlewares/Third_Party/FatFs/src/ff.c **** 
4913:Middlewares/Third_Party/FatFs/src/ff.c **** 
4914:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
4915:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4916:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Volume Label                                                      */
4917:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4918:Middlewares/Third_Party/FatFs/src/ff.c **** 
4919:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
4920:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4921:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
4922:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
4923:Middlewares/Third_Party/FatFs/src/ff.c **** )
4924:Middlewares/Third_Party/FatFs/src/ff.c **** {
4925:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4926:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4927:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4928:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT si, di;
4929:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE || _FS_EXFAT
4930:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
4931:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4932:Middlewares/Third_Party/FatFs/src/ff.c **** 
4933:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4934:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4935:Middlewares/Third_Party/FatFs/src/ff.c **** 
4936:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
4937:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
4938:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs; dj.obj.sclust = 0;	/* Open root directory */
4939:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
4940:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4941:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	res = dir_read(&dj, 1);			/* Find a volume label entry */
4942:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	if (res == FR_OK) {
4943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4944:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4945:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (si = di = 0; si < dj.dir[XDIR_NumLabel]; si++) {	/* Extract volume label from 83 entry */
4946:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ld_word(dj.dir + XDIR_Label + si * 2);
4947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4948:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = w;
4949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4950:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ff_convert(w, 0);	/* Unicode -> OEM */
4951:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (w == 0) w = '?';	/* Replace wrong character */
4952:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_DF1S && w >= 0x100) label[di++] = (char)(w >> 8);
4953:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = (char)w;
4954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4955:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4956:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[di] = 0;
4957:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4959:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4960:Middlewares/Third_Party/FatFs/src/ff.c **** 					si = di = 0;		/* Extract volume label from AM_VOL entry with code comversion */
4961:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4962:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4963:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = (si < 11) ? dj.dir[si++] : ' ';
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 114


4964:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsDBCS1(w) && si < 11 && IsDBCS2(dj.dir[si])) {
4965:Middlewares/Third_Party/FatFs/src/ff.c **** 							w = w << 8 | dj.dir[si++];
4966:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4967:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = ff_convert(w, 1);	/* OEM -> Unicode */
4968:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4969:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = dj.dir[si++];
4970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4971:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (di < 11);
4972:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {				/* Truncate trailing spaces */
4973:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di] = 0;
4974:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (di == 0) break;
4975:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (label[--di] == ' ');
4976:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4977:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4978:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4979:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {	/* No label entry and return nul string */
4980:Middlewares/Third_Party/FatFs/src/ff.c **** 			label[0] = 0;
4981:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4982:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4983:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4984:Middlewares/Third_Party/FatFs/src/ff.c **** 
4985:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
4986:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
4987:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, fs->volbase);
4988:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4989:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (fs->fs_type) {
4990:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_EXFAT:
4991:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BPB_VolIDEx; break;
4992:Middlewares/Third_Party/FatFs/src/ff.c **** 
4993:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_FAT32:
4994:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID32; break;
4995:Middlewares/Third_Party/FatFs/src/ff.c **** 
4996:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
4997:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID;
4998:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4999:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = ld_dword(fs->win + di);
5000:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5001:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5002:Middlewares/Third_Party/FatFs/src/ff.c **** 
5003:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5004:Middlewares/Third_Party/FatFs/src/ff.c **** }
5005:Middlewares/Third_Party/FatFs/src/ff.c **** 
5006:Middlewares/Third_Party/FatFs/src/ff.c **** 
5007:Middlewares/Third_Party/FatFs/src/ff.c **** 
5008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5009:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5010:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set Volume Label                                                      */
5011:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5012:Middlewares/Third_Party/FatFs/src/ff.c **** 
5013:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
5014:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
5015:Middlewares/Third_Party/FatFs/src/ff.c **** )
5016:Middlewares/Third_Party/FatFs/src/ff.c **** {
5017:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
5019:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5020:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE dirvn[22];
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 115


5021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, slen;
5022:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
5023:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char badchr[] = "\"*+,.:;<=>\?[]|\x7F";
5024:Middlewares/Third_Party/FatFs/src/ff.c **** 
5025:Middlewares/Third_Party/FatFs/src/ff.c **** 
5026:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
5027:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&label, &fs, FA_WRITE);
5028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
5029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
5030:Middlewares/Third_Party/FatFs/src/ff.c **** 
5031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get length of given volume label */
5032:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (slen = 0; (UINT)label[slen] >= ' '; slen++) ;	/* Get name length */
5033:Middlewares/Third_Party/FatFs/src/ff.c **** 
5034:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5035:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
5036:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = j = 0; i < slen; ) {	/* Create volume label in directory form */
5037:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = label[i++];
5038:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
5039:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w)) {
5040:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5041:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5042:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 1);
5043:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w == 0 || chk_chr(badchr, w) || j == 22) {	/* Check validity check validity of the volume la
5045:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(fs, FR_INVALID_NAME);
5046:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5047:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirvn + j, w); j += 2;
5048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5049:Middlewares/Third_Party/FatFs/src/ff.c **** 		slen = j;
5050:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5051:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5052:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
5053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for ( ; slen && label[slen - 1] == ' '; slen--) ;	/* Remove trailing spaces */
5054:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (slen) {		/* Is there a volume label to be set? */
5055:Middlewares/Third_Party/FatFs/src/ff.c **** 			dirvn[0] = 0; i = j = 0;	/* Create volume label in directory form */
5056:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
5057:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5058:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(label[i++]), 0);
5059:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5060:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (BYTE)label[i++];
5061:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsDBCS1(w)) {
5062:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (j < 10 && i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5063:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5064:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
5065:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
5066:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5067:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
5068:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
5069:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
5070:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5071:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
5072:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5074:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5075:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0 || chk_chr(badchr, w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) {	/* Reject invalid ch
5076:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fs, FR_INVALID_NAME);
5077:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 116


5078:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x100) dirvn[j++] = (BYTE)(w >> 8);
5079:Middlewares/Third_Party/FatFs/src/ff.c **** 				dirvn[j++] = (BYTE)w;
5080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (i < slen);
5081:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j < 11) dirvn[j++] = ' ';	/* Fill remaining name field */
5082:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dirvn[0] == DDEM) LEAVE_FF(fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
5083:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5084:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5085:Middlewares/Third_Party/FatFs/src/ff.c **** 
5086:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
5087:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.sclust = 0;		/* Open root directory */
5088:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
5089:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5090:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);	/* Get volume label entry */
5091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
5092:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5093:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);	/* Change the volume label */
5094:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5095:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5096:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {
5097:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dj.dir, dirvn, 11);	/* Change the volume label */
5098:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5099:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Name] = DDEM;	/* Remove the volume label */
5100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5101:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5102:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
5103:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(fs);
5104:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* No volume label entry is found or error */
5105:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
5106:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
5107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {	/* Create a volume label entry */
5108:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry */
5109:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
5110:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZDIRE);	/* Clear the entry */
5111:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5112:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_Type] = 0x83;		/* Create 83 entry */
5113:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);
5114:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5115:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
5116:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[DIR_Attr] = AM_VOL;		/* Create volume label entry */
5117:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir, dirvn, 11);
5118:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
5119:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
5120:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(fs);
5121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5122:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5123:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5124:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5125:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5126:Middlewares/Third_Party/FatFs/src/ff.c **** 
5127:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5128:Middlewares/Third_Party/FatFs/src/ff.c **** }
5129:Middlewares/Third_Party/FatFs/src/ff.c **** 
5130:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
5131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
5132:Middlewares/Third_Party/FatFs/src/ff.c **** 
5133:Middlewares/Third_Party/FatFs/src/ff.c **** 
5134:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 117


5135:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_EXPAND && !_FS_READONLY
5136:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5137:Middlewares/Third_Party/FatFs/src/ff.c **** /* Allocate a Contiguous Blocks to the File                              */
5138:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5139:Middlewares/Third_Party/FatFs/src/ff.c **** 
5140:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_expand (
5141:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
5142:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t fsz,	/* File size to be expanded to */
5143:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt		/* Operation mode 0:Find and prepare or 1:Find and allocate */
5144:Middlewares/Third_Party/FatFs/src/ff.c **** )
5145:Middlewares/Third_Party/FatFs/src/ff.c **** {
5146:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, stcl, scl, ncl, tcl, lclst;
5149:Middlewares/Third_Party/FatFs/src/ff.c **** 
5150:Middlewares/Third_Party/FatFs/src/ff.c **** 
5151:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5152:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5153:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fsz == 0 || fp->obj.objsize != 0 || !(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);
5154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5155:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type != FS_EXFAT && fsz >= 0x100000000) LEAVE_FF(fs, FR_DENIED);	/* Check if in size li
5156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5157:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (DWORD)fs->csize * SS(fs);	/* Cluster size */
5158:Middlewares/Third_Party/FatFs/src/ff.c **** 	tcl = (DWORD)(fsz / n) + ((fsz & (n - 1)) ? 1 : 0);	/* Number of clusters required */
5159:Middlewares/Third_Party/FatFs/src/ff.c **** 	stcl = fs->last_clst; lclst = 0;
5160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stcl < 2 || stcl >= fs->n_fatent) stcl = 2;
5161:Middlewares/Third_Party/FatFs/src/ff.c **** 
5162:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
5164:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = find_bitmap(fs, stcl, tcl);			/* Find a contiguous cluster block */
5165:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0) res = FR_DENIED;				/* No contiguous cluster block was found */
5166:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0xFFFFFFFF) res = FR_DISK_ERR;
5167:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, tcl, 1);	/* Mark the cluster block 'in use' */
5170:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl + tcl - 1;
5171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5172:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5173:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5174:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5175:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5177:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
5178:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst = stcl; ncl = 0;
5179:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {	/* Find a contiguous cluster block */
5180:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = get_fat(&fp->obj, clst);
5181:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (++clst >= fs->n_fatent) clst = 2;
5182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 1) { res = FR_INT_ERR; break; }
5183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
5184:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0) {	/* Is it a free cluster? */
5185:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++ncl == tcl) break;	/* Break if a contiguous cluster block is found */
5186:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5187:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = clst; ncl = 0;		/* Not a free cluster */
5188:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5189:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == stcl) { res = FR_DENIED; break; }	/* No contiguous cluster? */
5190:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5191:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 118


5192:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5193:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (clst = scl, n = tcl; n; clst++, n--) {	/* Create a cluster chain on the FAT */
5194:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fs, clst, (n == 1) ? 0xFFFFFFFF : clst + 1);
5195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
5196:Middlewares/Third_Party/FatFs/src/ff.c **** 					lclst = clst;
5197:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5198:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5199:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5200:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5201:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5202:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5203:Middlewares/Third_Party/FatFs/src/ff.c **** 
5204:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5205:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = lclst;		/* Set suggested start cluster to start next */
5206:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt) {	/* Is it allocated now? */
5207:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = scl;		/* Update object allocation information */
5208:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fsz;
5209:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT) fp->obj.stat = 2;	/* Set status 'contiguous chain' */
5210:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
5211:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clst <= fs->n_fatent - 2) {	/* Update FSINFO */
5212:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst -= tcl;
5213:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
5214:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5215:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5216:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5217:Middlewares/Third_Party/FatFs/src/ff.c **** 
5218:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5219:Middlewares/Third_Party/FatFs/src/ff.c **** }
5220:Middlewares/Third_Party/FatFs/src/ff.c **** 
5221:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_EXPAND && !_FS_READONLY */
5222:Middlewares/Third_Party/FatFs/src/ff.c **** 
5223:Middlewares/Third_Party/FatFs/src/ff.c **** 
5224:Middlewares/Third_Party/FatFs/src/ff.c **** 
5225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD
5226:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5227:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly                                   */
5228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5229:Middlewares/Third_Party/FatFs/src/ff.c **** 
5230:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
5231:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
5232:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
5233:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
5234:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
5235:Middlewares/Third_Party/FatFs/src/ff.c **** )
5236:Middlewares/Third_Party/FatFs/src/ff.c **** {
5237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5238:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5239:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
5240:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
5241:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, csect;
5242:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dbuf;
5243:Middlewares/Third_Party/FatFs/src/ff.c **** 
5244:Middlewares/Third_Party/FatFs/src/ff.c **** 
5245:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
5246:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5247:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5248:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 119


5249:Middlewares/Third_Party/FatFs/src/ff.c **** 
5250:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
5251:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
5252:Middlewares/Third_Party/FatFs/src/ff.c **** 
5253:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream goes busy */
5254:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
5255:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
5256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {				/* On the sector boundary? */
5257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {						/* On the cluster boundary? */
5258:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
5259:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust : get_fat(&fp->obj, fp->clust);
5260:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fs, FR_INT_ERR);
5261:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
5262:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
5263:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5264:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5265:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fs, fp->clust);			/* Get current data sector */
5266:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fs, FR_INT_ERR);
5267:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
5268:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
5269:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window to the file dat
5270:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fs->win;
5271:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5272:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->sect != sect) {		/* Fill sector cache with file data */
5273:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5274:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
5275:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5276:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
5277:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5278:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5281:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fp->buf;
5282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5283:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->sect = sect;
5284:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
5285:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;					/* Clip it by btr if needed */
5286:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(dbuf + ((UINT)fp->fptr % SS(fs)), rcnt);	/* Forward the file data */
5287:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fs, FR_INT_ERR);
5288:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5289:Middlewares/Third_Party/FatFs/src/ff.c **** 
5290:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
5291:Middlewares/Third_Party/FatFs/src/ff.c **** }
5292:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
5293:Middlewares/Third_Party/FatFs/src/ff.c **** 
5294:Middlewares/Third_Party/FatFs/src/ff.c **** 
5295:Middlewares/Third_Party/FatFs/src/ff.c **** 
5296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
5297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create an FAT/exFAT volume                                            */
5299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5300:Middlewares/Third_Party/FatFs/src/ff.c **** 
5301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
5302:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
5303:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt,			/* Format option */
5304:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD au,			/* Size of allocation unit (cluster) [byte] */
5305:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work,			/* Pointer to working buffer */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 120


5306:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len			/* Size of working buffer */
5307:Middlewares/Third_Party/FatFs/src/ff.c **** )
5308:Middlewares/Third_Party/FatFs/src/ff.c **** {
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
5320:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
5322:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tbl[3];
5323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5324:Middlewares/Third_Party/FatFs/src/ff.c **** 
5325:Middlewares/Third_Party/FatFs/src/ff.c **** 
5326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);					/* Get target logical drive */
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
5332:Middlewares/Third_Party/FatFs/src/ff.c **** 
5333:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check physical drive status */
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5337:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
5338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &ss) != RES_OK) return FR_DISK_ERR;
5340:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
5341:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5342:Middlewares/Third_Party/FatFs/src/ff.c **** 	ss = _MAX_SS;
5343:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((au != 0 && au < ss) || au > 0x1000000 || (au & (au - 1))) return FR_INVALID_PARAMETER;	/* Che
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
5346:Middlewares/Third_Party/FatFs/src/ff.c **** 
5347:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get working buffer */
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	buf = (BYTE*)work;		/* Working buffer */
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
5352:Middlewares/Third_Party/FatFs/src/ff.c **** 
5353:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine where the volume to be located (b_vol, sz_vol) */
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {
5355:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
5356:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Load MBR */
5357:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(buf + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;	/* Check if MBR is valid */
5358:Middlewares/Third_Party/FatFs/src/ff.c **** 		pte = buf + (MBR_Table + (part - 1) * SZ_PTE);
5359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!pte[PTE_System]) return FR_MKFS_ABORTED;	/* No partition? */
5360:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = ld_dword(pte + PTE_StLba);		/* Get volume start sector */
5361:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol = ld_dword(pte + PTE_SizLba);	/* Get volume size */
5362:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 121


5363:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a single-partition in this function */
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_vol) != RES_OK) return FR_DISK_ERR;
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
5368:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_vol < 128) return FR_MKFS_ABORTED;	/* Check if volume size is >=128s */
5370:Middlewares/Third_Party/FatFs/src/ff.c **** 
5371:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-determine the FAT type */
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
5374:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
5375:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_EXFAT; break;
5376:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (au > 128) return FR_INVALID_PARAMETER;	/* Too large au for FAT/FAT32 */
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
5382:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5383:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_FAT)) return FR_INVALID_PARAMETER;	/* no-FAT? */
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
5386:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
5387:Middlewares/Third_Party/FatFs/src/ff.c **** 
5388:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5389:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_EXFAT) {	/* Create an exFAT volume */
5390:Middlewares/Third_Party/FatFs/src/ff.c **** 		DWORD szb_bit, szb_case, sum, nb, cl;
5391:Middlewares/Third_Party/FatFs/src/ff.c **** 		WCHAR ch, si;
5392:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT j, st;
5393:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE b;
5394:Middlewares/Third_Party/FatFs/src/ff.c **** 
5395:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x1000) return FR_MKFS_ABORTED;	/* Too small volume? */
5396:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5397:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area may be erased *
5398:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5399:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5400:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine FAT location, data location and number of clusters */
5401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!au) {	/* au auto-selection */
5402:Middlewares/Third_Party/FatFs/src/ff.c **** 			au = 8;
5403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x80000) au = 64;		/* >= 512Ks */
5404:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x4000000) au = 256;	/* >= 64Ms */
5405:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5406:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat = b_vol + 32;										/* FAT start at offset 32 */
5407:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_fat = ((sz_vol / au + 2) * 4 + ss - 1) / ss;			/* Number of FAT sectors */
5408:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_data = (b_fat + sz_fat + sz_blk - 1) & ~(sz_blk - 1);	/* Align data area to the erase block bou
5409:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (b_data >= sz_vol / 2) return FR_MKFS_ABORTED;		/* Too small volume? */
5410:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_clst = (sz_vol - (b_data - b_vol)) / au;				/* Number of clusters */
5411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst <16) return FR_MKFS_ABORTED;					/* Too few clusters? */
5412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst > MAX_EXFAT) return FR_MKFS_ABORTED;			/* Too many clusters? */
5413:Middlewares/Third_Party/FatFs/src/ff.c **** 
5414:Middlewares/Third_Party/FatFs/src/ff.c **** 		szb_bit = (n_clst + 7) / 8;						/* Size of allocation bitmap */
5415:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = (szb_bit + au * ss - 1) / (au * ss);	/* Number of allocation bitmap clusters */
5416:Middlewares/Third_Party/FatFs/src/ff.c **** 
5417:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a compressed up-case table */
5418:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * tbl[0];	/* Table start sector */
5419:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = 0;						/* Table checksum to be stored in the 82 entry */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 122


5420:Middlewares/Third_Party/FatFs/src/ff.c **** 		st = si = i = j = szb_case = 0;
5421:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5422:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (st) {
5423:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 0:
5424:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = ff_wtoupper(si);	/* Get an up-case char */
5425:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ch != si) {
5426:Middlewares/Third_Party/FatFs/src/ff.c **** 					si++; break;		/* Store the up-case char if exist */
5427:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5428:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (j = 1; (WCHAR)(si + j) && (WCHAR)(si + j) == ff_wtoupper((WCHAR)(si + j)); j++) ;	/* Get r
5429:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (j >= 128) {
5430:Middlewares/Third_Party/FatFs/src/ff.c **** 					ch = 0xFFFF; st = 2; break;	/* Compress the no-case block if run is >= 128 */
5431:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5432:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 1;			/* Do not compress short run */
5433:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* go to next case */
5434:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 1:
5435:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = si++;		/* Fill the short run */
5436:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--j == 0) st = 0;
5437:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
5438:Middlewares/Third_Party/FatFs/src/ff.c **** 
5439:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
5440:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = (WCHAR)j; si += j;	/* Number of chars to skip */
5441:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 0;
5442:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5443:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 0] = (BYTE)ch, sum);		/* Put it into the write buffer */
5444:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 1] = (BYTE)(ch >> 8), sum);
5445:Middlewares/Third_Party/FatFs/src/ff.c **** 			i += 2; szb_case += 2;
5446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!si || i == szb_buf) {		/* Write buffered data when buffer full or end of process */
5447:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (i + ss - 1) / ss;
5448:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5449:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; i = 0;
5450:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5451:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (si);
5452:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[1] = (szb_case + au * ss - 1) / (au * ss);	/* Number of up-case table clusters */
5453:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[2] = 1;										/* Number of root dir clusters */
5454:Middlewares/Third_Party/FatFs/src/ff.c **** 
5455:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the allocation bitmap */
5456:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data; nsect = (szb_bit + ss - 1) / ss;	/* Start of bitmap and number of sectors */
5457:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb = tbl[0] + tbl[1] + tbl[2];					/* Number of clusters in-use by system */
5458:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5459:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf);
5460:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; nb >= 8 && i < szb_buf; buf[i++] = 0xFF, nb -= 8) ;
5461:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (b = 1; nb && i < szb_buf; buf[i] |= b, b <<= 1, nb--) ;
5462:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;		/* Write the buffered data */
5463:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5464:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5465:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5466:Middlewares/Third_Party/FatFs/src/ff.c **** 
5467:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the FAT */
5468:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat; nsect = sz_fat;	/* Start of FAT and number of FAT sectors */
5469:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = nb = cl = 0;
5470:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5471:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf); i = 0;	/* Clear work area and reset write index */
5472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl == 0) {	/* Set entry 0 and 1 */
5473:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFF8); i += 4; cl++;
5474:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFFF); i += 4; cl++;
5475:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5476:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {			/* Create chains of bitmap, up-case and root dir */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 123


5477:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (nb && i < szb_buf) {			/* Create a chain */
5478:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(buf + i, (nb > 1) ? cl + 1 : 0xFFFFFFFF);
5479:Middlewares/Third_Party/FatFs/src/ff.c **** 					i += 4; cl++; nb--;
5480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!nb && j < 3) nb = tbl[j++];	/* Next chain */
5482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nb && i < szb_buf);
5483:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;	/* Write the buffered data */
5484:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5485:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5486:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5487:Middlewares/Third_Party/FatFs/src/ff.c **** 
5488:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the root directory */
5489:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, szb_buf);
5490:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 0 + 0] = 0x83;		/* 83 entry (volume label) */
5491:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 1 + 0] = 0x81;		/* 81 entry (allocation bitmap) */
5492:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 20, 2);
5493:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 24, szb_bit);
5494:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 2 + 0] = 0x82;		/* 82 entry (up-case table) */
5495:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 4, sum);
5496:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 20, 2 + tbl[0]);
5497:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 24, szb_case);
5498:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * (tbl[0] + tbl[1]);	nsect = au;	/* Start of the root directory and number of 
5499:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill root directory sectors */
5500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5502:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5503:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5504:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5505:Middlewares/Third_Party/FatFs/src/ff.c **** 
5506:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create two set of the exFAT VBR blocks */
5507:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_vol;
5508:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; n < 2; n++) {
5509:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Main record (+0) */
5510:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5511:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11);	/* Boot jump code (x86), OEM name */
5512:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolOfsEx, b_vol);					/* Volume offset in the physical drive [sector] */
5513:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSecEx, sz_vol);					/* Volume size [sector] */
5514:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatOfsEx, b_fat - b_vol);			/* FAT offset [sector] */
5515:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatSzEx, sz_fat);					/* FAT size [sector] */
5516:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_DataOfsEx, b_data - b_vol);			/* Data offset [sector] */
5517:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_NumClusEx, n_clst);					/* Number of clusters */
5518:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClusEx, 2 + tbl[0] + tbl[1]);	/* Root dir cluster # */
5519:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolIDEx, GET_FATTIME());				/* VSN */
5520:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSVerEx, 0x100);						/* File system version (1.00) */
5521:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_BytsPerSecEx] = 0, i = ss; i >>= 1; buf[BPB_BytsPerSecEx]++) ;	/* Log2 of sector si
5522:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_SecPerClusEx] = 0, i = au; i >>= 1; buf[BPB_SecPerClusEx]++) ;	/* Log2 of cluster s
5523:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_NumFATsEx] = 1;					/* Number of FATs */
5524:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_DrvNumEx] = 0x80;				/* Drive number (for int13) */
5525:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_BootCodeEx, 0xFEEB);	/* Boot code (x86) */
5526:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);			/* Signature (placed here regardless of sector size) */
5527:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = sum = 0; i < ss; i++) {		/* VBR checksum */
5528:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i != BPB_VolFlagEx && i != BPB_VolFlagEx + 1 && i != BPB_PercInUseEx) sum = xsum32(buf[i], 
5529:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5530:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5531:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Extended bootstrap record (+1..+8) */
5532:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5533:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + ss - 2, 0xAA55);	/* Signature (placed at end of sector) */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 124


5534:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 1; j < 9; j++) {
5535:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5536:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5537:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5538:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* OEM/Reserved record (+9..+10) */
5539:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5540:Middlewares/Third_Party/FatFs/src/ff.c **** 			for ( ; j < 11; j++) {
5541:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5542:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5543:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5544:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Sum record (+11) */
5545:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < ss; i += 4) st_dword(buf + i, sum);		/* Fill with checksum value */
5546:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5548:Middlewares/Third_Party/FatFs/src/ff.c **** 
5549:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
5551:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* Create an FAT12/16/32 volume */
5552:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
5554:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {	/* FAT32 volume */
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5559:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;	/* Number of clusters */
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
5565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
5573:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					fmt = FS_FAT12;
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
5576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n + ss - 1) / ss;		/* FAT size [sector] */
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
5580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_fat = b_vol + sz_rsv;						/* FAT base */
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
5583:Middlewares/Third_Party/FatFs/src/ff.c **** 
5584:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Align data base to erase block boundary (for flash memory media) */
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = ((b_data + sz_blk - 1) & ~(sz_blk - 1)) - b_data;	/* Next nearest erase block from current d
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
5588:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat += n / n_fats;
5590:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 125


5591:Middlewares/Third_Party/FatFs/src/ff.c **** 
5592:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Determine number of clusters and final check of validity of the FAT sub-type */
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol < b_data + pau * 16 - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5599:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5600:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT16) {
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
5605:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((opt & FM_FAT32)) {
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
5608:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5611:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 				if  (n_clst <= MAX_FAT12) {	/* Too few clusters for FAT16 */
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5615:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5616:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT12 && n_clst > MAX_FAT12) return FR_MKFS_ABORTED;	/* Too many clusters for FAT1
5618:Middlewares/Third_Party/FatFs/src/ff.c **** 
5619:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Ok, it is the valid cluster configuration */
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
5621:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
5622:Middlewares/Third_Party/FatFs/src/ff.c **** 
5623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5624:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area can be erased *
5625:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5626:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5627:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FAT VBR */
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, ss);
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
5637:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSec32, sz_vol);		/* Volume size in 32-bit LBA */
5639:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_Media] = 0xF8;							/* Media descriptor byte */
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 126


5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
5653:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID, GET_FATTIME());	/* VSN */
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
5659:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BS_55AA, 0xAA55);					/* Signature (offset is fixed here regardless of sector size)
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
5662:Middlewares/Third_Party/FatFs/src/ff.c **** 
5663:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FSINFO record if needed */
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
5674:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5675:Middlewares/Third_Party/FatFs/src/ff.c **** 
5676:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize FAT area */
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, (UINT)szb_buf);
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
5684:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, (fmt == FS_FAT12) ? 0xFFFFF8 : 0xFFFFFFF8);	/* Entry 0 and 1 */
5686:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5687:Middlewares/Third_Party/FatFs/src/ff.c **** 			nsect = sz_fat;		/* Number of FAT sectors */
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {	/* Fill FAT sectors */
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
5694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5695:Middlewares/Third_Party/FatFs/src/ff.c **** 
5696:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize root directory (fill with zero) */
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		nsect = (fmt == FS_FAT32) ? pau : sz_dir;	/* Number of root directory sectors */
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5703:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5704:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 127


5705:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_EXFAT && fmt == FS_EXFAT) {
5707:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
5708:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
5711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x10000) {
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
5714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = (fmt == FS_FAT16) ? 0x04 : 0x01;	/* FAT16 (<64KS) : FAT12 (<64KS) */
5716:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5717:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5719:Middlewares/Third_Party/FatFs/src/ff.c **** 
5720:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Update partition information */
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {	/* Created in the existing partition */
5722:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
5723:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Read the MBR */
5724:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[MBR_Table + (part - 1) * SZ_PTE + PTE_System] = sys;		/* Set system ID */
5725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it back to the MBR */
5726:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Created as a new single partition */
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_SFD)) {	/* Create partition table if in FDISK format */
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
5743:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5744:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5745:Middlewares/Third_Party/FatFs/src/ff.c **** 
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) return FR_DISK_ERR;
5747:Middlewares/Third_Party/FatFs/src/ff.c **** 
5748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
5749:Middlewares/Third_Party/FatFs/src/ff.c **** }
5750:Middlewares/Third_Party/FatFs/src/ff.c **** 
5751:Middlewares/Third_Party/FatFs/src/ff.c **** 
5752:Middlewares/Third_Party/FatFs/src/ff.c **** 
5753:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
5754:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5755:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
5756:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5757:Middlewares/Third_Party/FatFs/src/ff.c **** 
5758:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
5759:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
5760:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD* szt,	/* Pointer to the size table for each partitions */
5761:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 128


5762:Middlewares/Third_Party/FatFs/src/ff.c **** )
5763:Middlewares/Third_Party/FatFs/src/ff.c **** {
5764:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
5765:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
5766:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
5768:Middlewares/Third_Party/FatFs/src/ff.c **** 
5769:Middlewares/Third_Party/FatFs/src/ff.c **** 
5770:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5771:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5772:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5773:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
5774:Middlewares/Third_Party/FatFs/src/ff.c **** 
5775:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the CHS without any consideration of the drive geometry */
5776:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
5777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
5778:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
5779:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
5780:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
5781:Middlewares/Third_Party/FatFs/src/ff.c **** 
5782:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
5783:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
5784:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
5785:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
5786:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;	/* Number of cylinder
5787:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
5788:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
5789:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
5790:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
5791:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
5792:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
5793:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5794:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
5795:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5796:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;	/* End cylinder */
5797:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
5798:Middlewares/Third_Party/FatFs/src/ff.c **** 
5799:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
5800:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
5801:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
5802:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
5803:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x07;						/* System type (temporary setting) */
5804:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
5805:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
5806:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
5807:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 8, s_part);			/* Start sector in LBA */
5808:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 12, sz_part);			/* Number of sectors */
5809:Middlewares/Third_Party/FatFs/src/ff.c **** 
5810:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
5811:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
5812:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5813:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(p, 0xAA55);
5814:Middlewares/Third_Party/FatFs/src/ff.c **** 
5815:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
5816:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
5817:Middlewares/Third_Party/FatFs/src/ff.c **** }
5818:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 129


5819:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
5820:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
5821:Middlewares/Third_Party/FatFs/src/ff.c **** 
5822:Middlewares/Third_Party/FatFs/src/ff.c **** 
5823:Middlewares/Third_Party/FatFs/src/ff.c **** 
5824:Middlewares/Third_Party/FatFs/src/ff.c **** 
5825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
5826:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5827:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
5828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5829:Middlewares/Third_Party/FatFs/src/ff.c **** 
5830:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
5831:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
5832:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
5833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
5834:Middlewares/Third_Party/FatFs/src/ff.c **** )
5835:Middlewares/Third_Party/FatFs/src/ff.c **** {
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
5840:Middlewares/Third_Party/FatFs/src/ff.c **** 
5841:Middlewares/Third_Party/FatFs/src/ff.c **** 
5842:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
5843:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5844:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
5845:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5846:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5847:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5848:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
5849:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
5850:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence (0x80-0x7FF) */
5851:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
5852:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
5853:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
5854:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';	/* Reject invalid code range */
5855:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5856:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence (0x800-0xFFFF) */
5857:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
5858:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
5859:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
5860:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';	/* Reject invalid code range */
5861:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
5862:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
5863:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5864:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5865:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5866:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
5867:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5868:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5869:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
5870:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
5871:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5872:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5873:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
5874:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
5875:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 130


5876:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5877:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
5879:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
5880:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
5881:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
5882:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5883:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
5884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
5885:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5886:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5889:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5890:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
5895:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
5897:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
5898:Middlewares/Third_Party/FatFs/src/ff.c **** }
5899:Middlewares/Third_Party/FatFs/src/ff.c **** 
5900:Middlewares/Third_Party/FatFs/src/ff.c **** 
5901:Middlewares/Third_Party/FatFs/src/ff.c **** 
5902:Middlewares/Third_Party/FatFs/src/ff.c **** 
5903:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5904:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
5905:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5906:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
5907:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5908:Middlewares/Third_Party/FatFs/src/ff.c **** 
5909:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
5910:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp;		/* Ptr to the writing file */
5911:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;	/* Write index of buf[] (-1:error), number of chars written */
5912:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];	/* Write buffer */
5913:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
5914:Middlewares/Third_Party/FatFs/src/ff.c **** 
5915:Middlewares/Third_Party/FatFs/src/ff.c **** 
5916:Middlewares/Third_Party/FatFs/src/ff.c **** static
5917:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (		/* Buffered write with code conversion */
5918:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5919:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
5920:Middlewares/Third_Party/FatFs/src/ff.c **** )
5921:Middlewares/Third_Party/FatFs/src/ff.c **** {
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
5924:Middlewares/Third_Party/FatFs/src/ff.c **** 
5925:Middlewares/Third_Party/FatFs/src/ff.c **** 
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n') {	 /* LF -> CRLF conversion */
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
5928:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5929:Middlewares/Third_Party/FatFs/src/ff.c **** 
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;		/* Write index of pb->buf[] */
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
5932:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 131


5933:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5934:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
5935:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
5936:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
5937:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5938:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
5939:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
5940:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
5941:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
5942:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
5943:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5944:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
5945:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5946:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
5947:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5948:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5949:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
5950:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5951:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5952:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
5953:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
5954:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
5955:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
5956:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
5957:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5959:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
5960:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5962:Middlewares/Third_Party/FatFs/src/ff.c **** 
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
5966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
5968:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
5969:Middlewares/Third_Party/FatFs/src/ff.c **** }
5970:Middlewares/Third_Party/FatFs/src/ff.c **** 
5971:Middlewares/Third_Party/FatFs/src/ff.c **** 
5972:Middlewares/Third_Party/FatFs/src/ff.c **** static
5973:Middlewares/Third_Party/FatFs/src/ff.c **** int putc_flush (		/* Flush left characters in the buffer */
5974:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb
5975:Middlewares/Third_Party/FatFs/src/ff.c **** )
5976:Middlewares/Third_Party/FatFs/src/ff.c **** {
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
5978:Middlewares/Third_Party/FatFs/src/ff.c **** 
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb->idx >= 0	/* Flush buffered characters to the file */
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
5982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
5983:Middlewares/Third_Party/FatFs/src/ff.c **** }
5984:Middlewares/Third_Party/FatFs/src/ff.c **** 
5985:Middlewares/Third_Party/FatFs/src/ff.c **** 
5986:Middlewares/Third_Party/FatFs/src/ff.c **** static
5987:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_init (		/* Initialize write buffer */
5988:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5989:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 132


5990:Middlewares/Third_Party/FatFs/src/ff.c **** )
5991:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1443              		.loc 1 5991 0
 1444              		.cfi_startproc
 1445              		@ args = 0, pretend = 0, frame = 0
 1446              		@ frame_needed = 0, uses_anonymous_args = 0
 1447              		@ link register save eliminated.
 1448              	.LVL190:
5992:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->fp = fp;
 1449              		.loc 1 5992 0
 1450 0000 0160     		str	r1, [r0]
5993:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr = pb->idx = 0;
 1451              		.loc 1 5993 0
 1452 0002 0023     		movs	r3, #0
 1453 0004 4360     		str	r3, [r0, #4]
 1454 0006 8360     		str	r3, [r0, #8]
5994:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1455              		.loc 1 5994 0
 1456 0008 7047     		bx	lr
 1457              		.cfi_endproc
 1458              	.LFE188:
 1460              		.section	.text.validate,"ax",%progbits
 1461              		.align	1
 1462              		.syntax unified
 1463              		.thumb
 1464              		.thumb_func
 1465              		.fpu fpv4-sp-d16
 1467              	validate:
 1468              	.LFB167:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1469              		.loc 1 3220 0
 1470              		.cfi_startproc
 1471              		@ args = 0, pretend = 0, frame = 0
 1472              		@ frame_needed = 0, uses_anonymous_args = 0
 1473              	.LVL191:
 1474 0000 38B5     		push	{r3, r4, r5, lr}
 1475              	.LCFI22:
 1476              		.cfi_def_cfa_offset 16
 1477              		.cfi_offset 3, -16
 1478              		.cfi_offset 4, -12
 1479              		.cfi_offset 5, -8
 1480              		.cfi_offset 14, -4
 1481 0002 0D46     		mov	r5, r1
 1482              	.LVL192:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1483              		.loc 1 3224 0
 1484 0004 A8B1     		cbz	r0, .L160
 1485 0006 0446     		mov	r4, r0
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1486              		.loc 1 3224 0 is_stmt 0 discriminator 1
 1487 0008 0368     		ldr	r3, [r0]
 1488 000a ABB1     		cbz	r3, .L161
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1489              		.loc 1 3224 0 discriminator 2
 1490 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1491 000e AAB1     		cbz	r2, .L162
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 133


 1492              		.loc 1 3224 0 discriminator 3
 1493 0010 8188     		ldrh	r1, [r0, #4]
 1494              	.LVL193:
 1495 0012 DA88     		ldrh	r2, [r3, #6]
 1496 0014 9142     		cmp	r1, r2
 1497 0016 03D0     		beq	.L166
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1498              		.loc 1 3221 0 is_stmt 1
 1499 0018 0920     		movs	r0, #9
 1500              	.LVL194:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1501              		.loc 1 3241 0
 1502 001a 0023     		movs	r3, #0
 1503              	.LVL195:
 1504              	.L159:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1505              		.loc 1 3241 0 is_stmt 0 discriminator 4
 1506 001c 2B60     		str	r3, [r5]
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1507              		.loc 1 3243 0 is_stmt 1 discriminator 4
 1508 001e 38BD     		pop	{r3, r4, r5, pc}
 1509              	.LVL196:
 1510              	.L166:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1511              		.loc 1 3236 0
 1512 0020 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1513              	.LVL197:
 1514 0022 FFF7FEFF 		bl	disk_status
 1515              	.LVL198:
 1516 0026 10F0010F 		tst	r0, #1
 1517 002a 0AD1     		bne	.L164
 1518              	.LVL199:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1519              		.loc 1 3241 0
 1520 002c 2368     		ldr	r3, [r4]
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1521              		.loc 1 3237 0
 1522 002e 0020     		movs	r0, #0
 1523 0030 F4E7     		b	.L159
 1524              	.LVL200:
 1525              	.L160:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1526              		.loc 1 3221 0
 1527 0032 0920     		movs	r0, #9
 1528              	.LVL201:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1529              		.loc 1 3241 0
 1530 0034 0023     		movs	r3, #0
 1531 0036 F1E7     		b	.L159
 1532              	.LVL202:
 1533              	.L161:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1534              		.loc 1 3221 0
 1535 0038 0920     		movs	r0, #9
 1536              	.LVL203:
 1537 003a EFE7     		b	.L159
 1538              	.LVL204:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 134


 1539              	.L162:
 1540 003c 0920     		movs	r0, #9
 1541              	.LVL205:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1542              		.loc 1 3241 0
 1543 003e 0023     		movs	r3, #0
 1544 0040 ECE7     		b	.L159
 1545              	.LVL206:
 1546              	.L164:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1547              		.loc 1 3221 0
 1548 0042 0920     		movs	r0, #9
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1549              		.loc 1 3241 0
 1550 0044 0023     		movs	r3, #0
 1551 0046 E9E7     		b	.L159
 1552              		.cfi_endproc
 1553              	.LFE167:
 1555              		.section	.text.sync_window,"ax",%progbits
 1556              		.align	1
 1557              		.syntax unified
 1558              		.thumb
 1559              		.thumb_func
 1560              		.fpu fpv4-sp-d16
 1562              	sync_window:
 1563              	.LFB143:
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1564              		.loc 1 886 0
 1565              		.cfi_startproc
 1566              		@ args = 0, pretend = 0, frame = 0
 1567              		@ frame_needed = 0, uses_anonymous_args = 0
 1568              	.LVL207:
 1569 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1570              	.LCFI23:
 1571              		.cfi_def_cfa_offset 24
 1572              		.cfi_offset 3, -24
 1573              		.cfi_offset 4, -20
 1574              		.cfi_offset 5, -16
 1575              		.cfi_offset 6, -12
 1576              		.cfi_offset 7, -8
 1577              		.cfi_offset 14, -4
 1578              	.LVL208:
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1579              		.loc 1 892 0
 1580 0002 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 1581 0004 0BB9     		cbnz	r3, .L175
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1582              		.loc 1 889 0
 1583 0006 0020     		movs	r0, #0
 1584              	.LVL209:
 1585              	.L168:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1586              		.loc 1 907 0
 1587 0008 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1588              	.LVL210:
 1589              	.L175:
 1590 000a 0446     		mov	r4, r0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 135


 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 1591              		.loc 1 893 0
 1592 000c 056B     		ldr	r5, [r0, #48]
 1593              	.LVL211:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1594              		.loc 1 894 0
 1595 000e 00F13407 		add	r7, r0, #52
 1596 0012 0123     		movs	r3, #1
 1597 0014 2A46     		mov	r2, r5
 1598 0016 3946     		mov	r1, r7
 1599 0018 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 1600              	.LVL212:
 1601 001a FFF7FEFF 		bl	disk_write
 1602              	.LVL213:
 1603 001e A8B9     		cbnz	r0, .L172
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1604              		.loc 1 897 0
 1605 0020 0023     		movs	r3, #0
 1606 0022 E370     		strb	r3, [r4, #3]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1607              		.loc 1 898 0
 1608 0024 636A     		ldr	r3, [r4, #36]
 1609 0026 EB1A     		subs	r3, r5, r3
 1610 0028 E269     		ldr	r2, [r4, #28]
 1611 002a 9342     		cmp	r3, r2
 1612 002c 10D2     		bcs	.L173
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1613              		.loc 1 899 0
 1614 002e A678     		ldrb	r6, [r4, #2]	@ zero_extendqisi2
 1615              	.LVL214:
 1616              	.L169:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1617              		.loc 1 899 0 is_stmt 0 discriminator 1
 1618 0030 012E     		cmp	r6, #1
 1619 0032 09D9     		bls	.L176
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 1620              		.loc 1 900 0 is_stmt 1 discriminator 3
 1621 0034 E369     		ldr	r3, [r4, #28]
 1622 0036 1D44     		add	r5, r5, r3
 1623              	.LVL215:
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1624              		.loc 1 901 0 discriminator 3
 1625 0038 0123     		movs	r3, #1
 1626 003a 2A46     		mov	r2, r5
 1627 003c 3946     		mov	r1, r7
 1628 003e 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 1629 0040 FFF7FEFF 		bl	disk_write
 1630              	.LVL216:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1631              		.loc 1 899 0 discriminator 3
 1632 0044 013E     		subs	r6, r6, #1
 1633              	.LVL217:
 1634 0046 F3E7     		b	.L169
 1635              	.L176:
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1636              		.loc 1 889 0
 1637 0048 0020     		movs	r0, #0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 136


 1638 004a DDE7     		b	.L168
 1639              	.LVL218:
 1640              	.L172:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1641              		.loc 1 895 0
 1642 004c 0120     		movs	r0, #1
 1643 004e DBE7     		b	.L168
 1644              	.L173:
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1645              		.loc 1 889 0
 1646 0050 0020     		movs	r0, #0
 1647 0052 D9E7     		b	.L168
 1648              		.cfi_endproc
 1649              	.LFE143:
 1651              		.section	.text.move_window,"ax",%progbits
 1652              		.align	1
 1653              		.syntax unified
 1654              		.thumb
 1655              		.thumb_func
 1656              		.fpu fpv4-sp-d16
 1658              	move_window:
 1659              	.LFB144:
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1660              		.loc 1 916 0
 1661              		.cfi_startproc
 1662              		@ args = 0, pretend = 0, frame = 0
 1663              		@ frame_needed = 0, uses_anonymous_args = 0
 1664              	.LVL219:
 1665 0000 70B5     		push	{r4, r5, r6, lr}
 1666              	.LCFI24:
 1667              		.cfi_def_cfa_offset 16
 1668              		.cfi_offset 4, -16
 1669              		.cfi_offset 5, -12
 1670              		.cfi_offset 6, -8
 1671              		.cfi_offset 14, -4
 1672              	.LVL220:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1673              		.loc 1 920 0
 1674 0002 036B     		ldr	r3, [r0, #48]
 1675 0004 8B42     		cmp	r3, r1
 1676 0006 12D0     		beq	.L180
 1677 0008 0446     		mov	r4, r0
 1678 000a 0D46     		mov	r5, r1
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1679              		.loc 1 922 0
 1680 000c FFF7FEFF 		bl	sync_window
 1681              	.LVL221:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 1682              		.loc 1 924 0
 1683 0010 0646     		mov	r6, r0
 1684 0012 68B9     		cbnz	r0, .L178
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1685              		.loc 1 925 0
 1686 0014 0123     		movs	r3, #1
 1687 0016 2A46     		mov	r2, r5
 1688 0018 04F13401 		add	r1, r4, #52
 1689 001c 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 137


 1690              	.LVL222:
 1691 001e FFF7FEFF 		bl	disk_read
 1692              	.LVL223:
 1693 0022 10B1     		cbz	r0, .L179
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 1694              		.loc 1 927 0
 1695 0024 0126     		movs	r6, #1
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 1696              		.loc 1 926 0
 1697 0026 4FF0FF35 		mov	r5, #-1
 1698              	.LVL224:
 1699              	.L179:
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1700              		.loc 1 929 0
 1701 002a 2563     		str	r5, [r4, #48]
 1702 002c 00E0     		b	.L178
 1703              	.LVL225:
 1704              	.L180:
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1705              		.loc 1 917 0
 1706 002e 0026     		movs	r6, #0
 1707              	.LVL226:
 1708              	.L178:
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1709              		.loc 1 933 0
 1710 0030 3046     		mov	r0, r6
 1711 0032 70BD     		pop	{r4, r5, r6, pc}
 1712              		.cfi_endproc
 1713              	.LFE144:
 1715              		.section	.text.check_fs,"ax",%progbits
 1716              		.align	1
 1717              		.syntax unified
 1718              		.thumb
 1719              		.thumb_func
 1720              		.fpu fpv4-sp-d16
 1722              	check_fs:
 1723              	.LFB165:
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 1724              		.loc 1 2969 0
 1725              		.cfi_startproc
 1726              		@ args = 0, pretend = 0, frame = 0
 1727              		@ frame_needed = 0, uses_anonymous_args = 0
 1728              	.LVL227:
 1729 0000 10B5     		push	{r4, lr}
 1730              	.LCFI25:
 1731              		.cfi_def_cfa_offset 8
 1732              		.cfi_offset 4, -8
 1733              		.cfi_offset 14, -4
 1734 0002 0446     		mov	r4, r0
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 1735              		.loc 1 2970 0
 1736 0004 0023     		movs	r3, #0
 1737 0006 C370     		strb	r3, [r0, #3]
 1738 0008 4FF0FF33 		mov	r3, #-1
 1739 000c 0363     		str	r3, [r0, #48]
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1740              		.loc 1 2971 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 138


 1741 000e FFF7FEFF 		bl	move_window
 1742              	.LVL228:
 1743 0012 18BB     		cbnz	r0, .L186
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1744              		.loc 1 2973 0
 1745 0014 04F23220 		addw	r0, r4, #562
 1746 0018 FFF7FEFF 		bl	ld_word
 1747              	.LVL229:
 1748 001c 4AF65523 		movw	r3, #43605
 1749 0020 9842     		cmp	r0, r3
 1750 0022 1DD1     		bne	.L187
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 1751              		.loc 1 2975 0
 1752 0024 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 1753 0028 E92B     		cmp	r3, #233
 1754 002a 05D0     		beq	.L185
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 1755              		.loc 1 2975 0 is_stmt 0 discriminator 1
 1756 002c 636B     		ldr	r3, [r4, #52]
 1757 002e 03F0FF13 		and	r3, r3, #16711935
 1758 0032 0F4A     		ldr	r2, .L192
 1759 0034 9342     		cmp	r3, r2
 1760 0036 15D1     		bne	.L188
 1761              	.L185:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 1762              		.loc 1 2976 0 is_stmt 1
 1763 0038 04F16A00 		add	r0, r4, #106
 1764 003c FFF7FEFF 		bl	ld_dword
 1765              	.LVL230:
 1766 0040 20F07F40 		bic	r0, r0, #-16777216
 1767 0044 0B4B     		ldr	r3, .L192+4
 1768 0046 9842     		cmp	r0, r3
 1769 0048 0ED0     		beq	.L189
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 1770              		.loc 1 2977 0
 1771 004a 04F18600 		add	r0, r4, #134
 1772 004e FFF7FEFF 		bl	ld_dword
 1773              	.LVL231:
 1774 0052 094B     		ldr	r3, .L192+8
 1775 0054 9842     		cmp	r0, r3
 1776 0056 09D1     		bne	.L190
 1777 0058 0020     		movs	r0, #0
 1778 005a 02E0     		b	.L184
 1779              	.L186:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1780              		.loc 1 2971 0
 1781 005c 0420     		movs	r0, #4
 1782 005e 00E0     		b	.L184
 1783              	.L187:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1784              		.loc 1 2973 0
 1785 0060 0320     		movs	r0, #3
 1786              	.L184:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1787              		.loc 1 2983 0
 1788 0062 10BD     		pop	{r4, pc}
 1789              	.LVL232:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 139


 1790              	.L188:
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1791              		.loc 1 2982 0
 1792 0064 0220     		movs	r0, #2
 1793 0066 FCE7     		b	.L184
 1794              	.L189:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 1795              		.loc 1 2976 0
 1796 0068 0020     		movs	r0, #0
 1797 006a FAE7     		b	.L184
 1798              	.L190:
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1799              		.loc 1 2982 0
 1800 006c 0220     		movs	r0, #2
 1801 006e F8E7     		b	.L184
 1802              	.L193:
 1803              		.align	2
 1804              	.L192:
 1805 0070 EB009000 		.word	9437419
 1806 0074 46415400 		.word	5521734
 1807 0078 46415433 		.word	861159750
 1808              		.cfi_endproc
 1809              	.LFE165:
 1811              		.section	.text.find_volume,"ax",%progbits
 1812              		.align	1
 1813              		.syntax unified
 1814              		.thumb
 1815              		.thumb_func
 1816              		.fpu fpv4-sp-d16
 1818              	find_volume:
 1819              	.LFB166:
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 1820              		.loc 1 2998 0
 1821              		.cfi_startproc
 1822              		@ args = 0, pretend = 0, frame = 24
 1823              		@ frame_needed = 0, uses_anonymous_args = 0
 1824              	.LVL233:
 1825 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1826              	.LCFI26:
 1827              		.cfi_def_cfa_offset 36
 1828              		.cfi_offset 4, -36
 1829              		.cfi_offset 5, -32
 1830              		.cfi_offset 6, -28
 1831              		.cfi_offset 7, -24
 1832              		.cfi_offset 8, -20
 1833              		.cfi_offset 9, -16
 1834              		.cfi_offset 10, -12
 1835              		.cfi_offset 11, -8
 1836              		.cfi_offset 14, -4
 1837 0004 87B0     		sub	sp, sp, #28
 1838              	.LCFI27:
 1839              		.cfi_def_cfa_offset 64
 1840 0006 0F46     		mov	r7, r1
 1841 0008 1646     		mov	r6, r2
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 1842              		.loc 1 3009 0
 1843 000a 0023     		movs	r3, #0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 140


 1844 000c 0B60     		str	r3, [r1]
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 1845              		.loc 1 3010 0
 1846 000e FFF7FEFF 		bl	get_ldnumber
 1847              	.LVL234:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1848              		.loc 1 3011 0
 1849 0012 051E     		subs	r5, r0, #0
 1850 0014 C0F26681 		blt	.L212
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 1851              		.loc 1 3014 0
 1852 0018 C84B     		ldr	r3, .L246
 1853 001a 53F82540 		ldr	r4, [r3, r5, lsl #2]
 1854              	.LVL235:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1855              		.loc 1 3015 0
 1856 001e 002C     		cmp	r4, #0
 1857 0020 00F06481 		beq	.L213
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1858              		.loc 1 3018 0
 1859 0024 3C60     		str	r4, [r7]
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 1860              		.loc 1 3020 0
 1861 0026 06F0FE06 		and	r6, r6, #254
 1862              	.LVL236:
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 1863              		.loc 1 3021 0
 1864 002a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1865 002c 73B1     		cbz	r3, .L196
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 1866              		.loc 1 3022 0
 1867 002e 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 1868              	.LVL237:
 1869 0030 FFF7FEFF 		bl	disk_status
 1870              	.LVL238:
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 1871              		.loc 1 3023 0
 1872 0034 10F0010F 		tst	r0, #1
 1873 0038 08D1     		bne	.L196
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 1874              		.loc 1 3024 0
 1875 003a 002E     		cmp	r6, #0
 1876 003c 00F05881 		beq	.L214
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 1877              		.loc 1 3024 0 is_stmt 0 discriminator 1
 1878 0040 10F0040F 		tst	r0, #4
 1879 0044 40F05681 		bne	.L215
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1880              		.loc 1 3027 0 is_stmt 1
 1881 0048 0020     		movs	r0, #0
 1882              	.LVL239:
 1883 004a 4CE1     		b	.L195
 1884              	.L196:
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 1885              		.loc 1 3034 0
 1886 004c 0023     		movs	r3, #0
 1887 004e 2370     		strb	r3, [r4]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 141


3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 1888              		.loc 1 3035 0
 1889 0050 E8B2     		uxtb	r0, r5
 1890 0052 6070     		strb	r0, [r4, #1]
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 1891              		.loc 1 3036 0
 1892 0054 FFF7FEFF 		bl	disk_initialize
 1893              	.LVL240:
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 1894              		.loc 1 3037 0
 1895 0058 10F0010F 		tst	r0, #1
 1896 005c 40F04C81 		bne	.L216
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 1897              		.loc 1 3040 0
 1898 0060 1EB1     		cbz	r6, .L197
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 1899              		.loc 1 3040 0 is_stmt 0 discriminator 1
 1900 0062 10F0040F 		tst	r0, #4
 1901 0066 40F04981 		bne	.L217
 1902              	.L197:
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 1903              		.loc 1 3044 0 is_stmt 1
 1904 006a 04F10C02 		add	r2, r4, #12
 1905 006e 0221     		movs	r1, #2
 1906 0070 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 1907              	.LVL241:
 1908 0072 FFF7FEFF 		bl	disk_ioctl
 1909              	.LVL242:
 1910 0076 0028     		cmp	r0, #0
 1911 0078 40F04281 		bne	.L218
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1912              		.loc 1 3045 0
 1913 007c A289     		ldrh	r2, [r4, #12]
 1914 007e A2F50073 		sub	r3, r2, #512
 1915 0082 9BB2     		uxth	r3, r3
 1916 0084 B3F5606F 		cmp	r3, #3584
 1917 0088 00F23C81 		bhi	.L219
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1918              		.loc 1 3045 0 is_stmt 0 discriminator 2
 1919 008c 531E     		subs	r3, r2, #1
 1920 008e 1A42     		tst	r2, r3
 1921 0090 01D0     		beq	.L241
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1922              		.loc 1 3045 0
 1923 0092 0120     		movs	r0, #1
 1924 0094 27E1     		b	.L195
 1925              	.L241:
 1926              	.LVL243:
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 1927              		.loc 1 3050 0 is_stmt 1
 1928 0096 0021     		movs	r1, #0
 1929 0098 2046     		mov	r0, r4
 1930 009a FFF7FEFF 		bl	check_fs
 1931              	.LVL244:
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 1932              		.loc 1 3051 0
 1933 009e 0228     		cmp	r0, #2
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 142


 1934 00a0 00F0A080 		beq	.L221
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 1935              		.loc 1 3049 0
 1936 00a4 0025     		movs	r5, #0
 1937              	.LVL245:
 1938              	.L199:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 1939              		.loc 1 3063 0
 1940 00a6 0428     		cmp	r0, #4
 1941 00a8 00F02E81 		beq	.L224
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1942              		.loc 1 3064 0
 1943 00ac 0128     		cmp	r0, #1
 1944 00ae 00F22D81 		bhi	.L225
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1945              		.loc 1 3116 0
 1946 00b2 04F13F00 		add	r0, r4, #63
 1947              	.LVL246:
 1948 00b6 FFF7FEFF 		bl	ld_word
 1949              	.LVL247:
 1950 00ba A789     		ldrh	r7, [r4, #12]
 1951              	.LVL248:
 1952 00bc B842     		cmp	r0, r7
 1953 00be 40F02781 		bne	.L226
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 1954              		.loc 1 3118 0
 1955 00c2 04F14A00 		add	r0, r4, #74
 1956 00c6 FFF7FEFF 		bl	ld_word
 1957              	.LVL249:
 1958 00ca 8046     		mov	r8, r0
 1959              	.LVL250:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 1960              		.loc 1 3119 0
 1961 00cc 20B9     		cbnz	r0, .L204
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 1962              		.loc 1 3119 0 is_stmt 0 discriminator 1
 1963 00ce 04F15800 		add	r0, r4, #88
 1964              	.LVL251:
 1965 00d2 FFF7FEFF 		bl	ld_dword
 1966              	.LVL252:
 1967 00d6 8046     		mov	r8, r0
 1968              	.LVL253:
 1969              	.L204:
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1970              		.loc 1 3120 0 is_stmt 1
 1971 00d8 C4F81C80 		str	r8, [r4, #28]
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 1972              		.loc 1 3122 0
 1973 00dc 94F84460 		ldrb	r6, [r4, #68]	@ zero_extendqisi2
 1974 00e0 A670     		strb	r6, [r4, #2]
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 1975              		.loc 1 3123 0
 1976 00e2 731E     		subs	r3, r6, #1
 1977 00e4 DBB2     		uxtb	r3, r3
 1978 00e6 012B     		cmp	r3, #1
 1979 00e8 00F21481 		bhi	.L227
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 143


 1980              		.loc 1 3124 0
 1981 00ec 08FB06F6 		mul	r6, r8, r6
 1982              	.LVL254:
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 1983              		.loc 1 3126 0
 1984 00f0 94F84190 		ldrb	r9, [r4, #65]	@ zero_extendqisi2
 1985 00f4 A4F80A90 		strh	r9, [r4, #10]	@ movhi
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1986              		.loc 1 3127 0
 1987 00f8 B9F1000F 		cmp	r9, #0
 1988 00fc 00F00C81 		beq	.L228
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1989              		.loc 1 3127 0 is_stmt 0 discriminator 2
 1990 0100 09F1FF33 		add	r3, r9, #-1
 1991 0104 19EA030F 		tst	r9, r3
 1992 0108 40F00881 		bne	.L229
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 1993              		.loc 1 3129 0 is_stmt 1
 1994 010c 04F14500 		add	r0, r4, #69
 1995 0110 FFF7FEFF 		bl	ld_word
 1996              	.LVL255:
 1997 0114 8246     		mov	r10, r0
 1998 0116 2081     		strh	r0, [r4, #8]	@ movhi
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1999              		.loc 1 3130 0
 2000 0118 4FEA571B 		lsr	fp, r7, #5
 2001 011c B0FBFBF3 		udiv	r3, r0, fp
 2002 0120 0BFB1303 		mls	r3, fp, r3, r0
 2003 0124 9BB2     		uxth	r3, r3
 2004 0126 002B     		cmp	r3, #0
 2005 0128 40F0FA80 		bne	.L230
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2006              		.loc 1 3132 0
 2007 012c 04F14700 		add	r0, r4, #71
 2008 0130 FFF7FEFF 		bl	ld_word
 2009              	.LVL256:
 2010 0134 0190     		str	r0, [sp, #4]
 2011              	.LVL257:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2012              		.loc 1 3133 0
 2013 0136 20B9     		cbnz	r0, .L205
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2014              		.loc 1 3133 0 is_stmt 0 discriminator 1
 2015 0138 04F15400 		add	r0, r4, #84
 2016              	.LVL258:
 2017 013c FFF7FEFF 		bl	ld_dword
 2018              	.LVL259:
 2019 0140 0190     		str	r0, [sp, #4]
 2020              	.LVL260:
 2021              	.L205:
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2022              		.loc 1 3135 0 is_stmt 1
 2023 0142 04F14200 		add	r0, r4, #66
 2024 0146 FFF7FEFF 		bl	ld_word
 2025              	.LVL261:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2026              		.loc 1 3136 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 144


 2027 014a 0146     		mov	r1, r0
 2028 014c 0028     		cmp	r0, #0
 2029 014e 00F0E980 		beq	.L231
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2030              		.loc 1 3139 0
 2031 0152 8219     		adds	r2, r0, r6
 2032 0154 BAFBFBFB 		udiv	fp, r10, fp
 2033 0158 5A44     		add	r2, r2, fp
 2034              	.LVL262:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2035              		.loc 1 3140 0
 2036 015a 019B     		ldr	r3, [sp, #4]
 2037 015c 9342     		cmp	r3, r2
 2038 015e C0F0E380 		bcc	.L232
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2039              		.loc 1 3141 0
 2040 0162 9B1A     		subs	r3, r3, r2
 2041 0164 B3FBF9F9 		udiv	r9, r3, r9
 2042              	.LVL263:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2043              		.loc 1 3142 0
 2044 0168 B9F1000F 		cmp	r9, #0
 2045 016c 00F0DE80 		beq	.L233
 2046              	.LVL264:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2047              		.loc 1 3144 0
 2048 0170 4FF6F573 		movw	r3, #65525
 2049 0174 9945     		cmp	r9, r3
 2050 0176 4DD9     		bls	.L234
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2051              		.loc 1 3143 0
 2052 0178 4FF0030B 		mov	fp, #3
 2053              	.L206:
 2054              	.LVL265:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2055              		.loc 1 3145 0
 2056 017c 40F6F573 		movw	r3, #4085
 2057 0180 9945     		cmp	r9, r3
 2058 0182 01D8     		bhi	.L207
 2059 0184 4FF0010B 		mov	fp, #1
 2060              	.LVL266:
 2061              	.L207:
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2062              		.loc 1 3148 0
 2063 0188 09F10209 		add	r9, r9, #2
 2064              	.LVL267:
 2065 018c C4F81890 		str	r9, [r4, #24]
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2066              		.loc 1 3149 0
 2067 0190 2562     		str	r5, [r4, #32]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2068              		.loc 1 3150 0
 2069 0192 4B19     		adds	r3, r1, r5
 2070 0194 6362     		str	r3, [r4, #36]
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2071              		.loc 1 3151 0
 2072 0196 2A44     		add	r2, r2, r5
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 145


 2073              	.LVL268:
 2074 0198 E262     		str	r2, [r4, #44]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2075              		.loc 1 3152 0
 2076 019a BBF1030F 		cmp	fp, #3
 2077 019e 3CD0     		beq	.L242
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2078              		.loc 1 3158 0
 2079 01a0 BAF1000F 		cmp	r10, #0
 2080 01a4 00F0C880 		beq	.L238
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2081              		.loc 1 3159 0
 2082 01a8 3344     		add	r3, r3, r6
 2083 01aa A362     		str	r3, [r4, #40]
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2084              		.loc 1 3161 0
 2085 01ac BBF1020F 		cmp	fp, #2
 2086 01b0 68D1     		bne	.L210
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2087              		.loc 1 3161 0 is_stmt 0 discriminator 1
 2088 01b2 4FEA4909 		lsl	r9, r9, #1
 2089              	.LVL269:
 2090 01b6 42E0     		b	.L209
 2091              	.LVL270:
 2092              	.L222:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2093              		.loc 1 3054 0 is_stmt 1
 2094 01b8 0020     		movs	r0, #0
 2095              	.LVL271:
 2096              	.L200:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2097              		.loc 1 3054 0 is_stmt 0 discriminator 4
 2098 01ba 06AB     		add	r3, sp, #24
 2099 01bc 03EB8503 		add	r3, r3, r5, lsl #2
 2100 01c0 43F8100C 		str	r0, [r3, #-16]
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2101              		.loc 1 3052 0 is_stmt 1 discriminator 4
 2102 01c4 0135     		adds	r5, r5, #1
 2103              	.LVL272:
 2104              	.L198:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2105              		.loc 1 3052 0 is_stmt 0 discriminator 2
 2106 01c6 032D     		cmp	r5, #3
 2107 01c8 0ED8     		bhi	.L243
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2108              		.loc 1 3053 0 is_stmt 1
 2109 01ca 04F13400 		add	r0, r4, #52
 2110 01ce 2B01     		lsls	r3, r5, #4
 2111 01d0 03F5DF73 		add	r3, r3, #446
 2112 01d4 1844     		add	r0, r0, r3
 2113              	.LVL273:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2114              		.loc 1 3054 0
 2115 01d6 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 2116 01d8 002B     		cmp	r3, #0
 2117 01da EDD0     		beq	.L222
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 146


 2118              		.loc 1 3054 0 is_stmt 0 discriminator 1
 2119 01dc 0830     		adds	r0, r0, #8
 2120              	.LVL274:
 2121 01de FFF7FEFF 		bl	ld_dword
 2122              	.LVL275:
 2123 01e2 EAE7     		b	.L200
 2124              	.LVL276:
 2125              	.L221:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2126              		.loc 1 3052 0 is_stmt 1
 2127 01e4 0025     		movs	r5, #0
 2128              	.LVL277:
 2129 01e6 EEE7     		b	.L198
 2130              	.LVL278:
 2131              	.L243:
 2132 01e8 0026     		movs	r6, #0
 2133              	.LVL279:
 2134 01ea 0AE0     		b	.L203
 2135              	.LVL280:
 2136              	.L244:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2137              		.loc 1 3060 0 discriminator 1
 2138 01ec 2946     		mov	r1, r5
 2139 01ee 2046     		mov	r0, r4
 2140 01f0 FFF7FEFF 		bl	check_fs
 2141              	.LVL281:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2142              		.loc 1 3061 0 discriminator 1
 2143 01f4 0128     		cmp	r0, #1
 2144 01f6 7FF656AF 		bls	.L199
 2145              	.LVL282:
 2146              	.L202:
 2147 01fa 0136     		adds	r6, r6, #1
 2148              	.LVL283:
 2149 01fc 032E     		cmp	r6, #3
 2150 01fe 3FF652AF 		bhi	.L199
 2151              	.LVL284:
 2152              	.L203:
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2153              		.loc 1 3059 0
 2154 0202 06AB     		add	r3, sp, #24
 2155 0204 03EB8603 		add	r3, r3, r6, lsl #2
 2156 0208 53F8105C 		ldr	r5, [r3, #-16]
 2157              	.LVL285:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2158              		.loc 1 3060 0
 2159 020c 002D     		cmp	r5, #0
 2160 020e EDD1     		bne	.L244
 2161 0210 0320     		movs	r0, #3
 2162 0212 F2E7     		b	.L202
 2163              	.LVL286:
 2164              	.L234:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2165              		.loc 1 3144 0
 2166 0214 4FF0020B 		mov	fp, #2
 2167 0218 B0E7     		b	.L206
 2168              	.LVL287:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 147


 2169              	.L242:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2170              		.loc 1 3153 0
 2171 021a 04F15E00 		add	r0, r4, #94
 2172              	.LVL288:
 2173 021e FFF7FEFF 		bl	ld_word
 2174              	.LVL289:
 2175 0222 0028     		cmp	r0, #0
 2176 0224 40F08480 		bne	.L236
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2177              		.loc 1 3154 0
 2178 0228 BAF1000F 		cmp	r10, #0
 2179 022c 40F08280 		bne	.L237
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2180              		.loc 1 3155 0
 2181 0230 04F16000 		add	r0, r4, #96
 2182 0234 FFF7FEFF 		bl	ld_dword
 2183              	.LVL290:
 2184 0238 A062     		str	r0, [r4, #40]
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2185              		.loc 1 3156 0
 2186 023a 4FEA8909 		lsl	r9, r9, #2
 2187              	.LVL291:
 2188              	.L209:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2189              		.loc 1 3163 0
 2190 023e B944     		add	r9, r9, r7
 2191              	.LVL292:
 2192 0240 09F1FF33 		add	r3, r9, #-1
 2193 0244 B3FBF7F7 		udiv	r7, r3, r7
 2194 0248 4745     		cmp	r7, r8
 2195 024a 7FD8     		bhi	.L239
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2196              		.loc 1 3167 0
 2197 024c 4FF0FF33 		mov	r3, #-1
 2198 0250 6361     		str	r3, [r4, #20]
 2199 0252 2361     		str	r3, [r4, #16]
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2200              		.loc 1 3168 0
 2201 0254 8023     		movs	r3, #128
 2202 0256 2371     		strb	r3, [r4, #4]
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2203              		.loc 1 3170 0
 2204 0258 BBF1030F 		cmp	fp, #3
 2205 025c 05D1     		bne	.L211
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 2206              		.loc 1 3171 0
 2207 025e 04F16400 		add	r0, r4, #100
 2208 0262 FFF7FEFF 		bl	ld_word
 2209              	.LVL293:
 2210 0266 0128     		cmp	r0, #1
 2211 0268 13D0     		beq	.L245
 2212              	.L211:
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2213              		.loc 1 3191 0
 2214 026a 84F800B0 		strb	fp, [r4]
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 148


 2215              		.loc 1 3192 0
 2216 026e 344A     		ldr	r2, .L246+4
 2217 0270 1388     		ldrh	r3, [r2]
 2218 0272 0133     		adds	r3, r3, #1
 2219 0274 9BB2     		uxth	r3, r3
 2220 0276 1380     		strh	r3, [r2]	@ movhi
 2221 0278 E380     		strh	r3, [r4, #6]	@ movhi
3203:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2222              		.loc 1 3203 0
 2223 027a 2046     		mov	r0, r4
 2224 027c FFF7FEFF 		bl	clear_lock
 2225              	.LVL294:
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2226              		.loc 1 3205 0
 2227 0280 0020     		movs	r0, #0
 2228 0282 30E0     		b	.L195
 2229              	.LVL295:
 2230              	.L210:
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2231              		.loc 1 3161 0 discriminator 2
 2232 0284 09EB4903 		add	r3, r9, r9, lsl #1
 2233 0288 09F00109 		and	r9, r9, #1
 2234              	.LVL296:
 2235 028c 09EB5309 		add	r9, r9, r3, lsr #1
 2236 0290 D5E7     		b	.L209
 2237              	.LVL297:
 2238              	.L245:
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2239              		.loc 1 3172 0
 2240 0292 691C     		adds	r1, r5, #1
 2241 0294 2046     		mov	r0, r4
 2242 0296 FFF7FEFF 		bl	move_window
 2243              	.LVL298:
 2244 029a 0028     		cmp	r0, #0
 2245 029c E5D1     		bne	.L211
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2246              		.loc 1 3174 0
 2247 029e 0023     		movs	r3, #0
 2248 02a0 2371     		strb	r3, [r4, #4]
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2249              		.loc 1 3175 0
 2250 02a2 04F23220 		addw	r0, r4, #562
 2251 02a6 FFF7FEFF 		bl	ld_word
 2252              	.LVL299:
 2253 02aa 4AF65523 		movw	r3, #43605
 2254 02ae 9842     		cmp	r0, r3
 2255 02b0 DBD1     		bne	.L211
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2256              		.loc 1 3176 0
 2257 02b2 04F13400 		add	r0, r4, #52
 2258 02b6 FFF7FEFF 		bl	ld_dword
 2259              	.LVL300:
 2260 02ba 224B     		ldr	r3, .L246+8
 2261 02bc 9842     		cmp	r0, r3
 2262 02be D4D1     		bne	.L211
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2263              		.loc 1 3177 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 149


 2264 02c0 04F50670 		add	r0, r4, #536
 2265 02c4 FFF7FEFF 		bl	ld_dword
 2266              	.LVL301:
 2267 02c8 1F4B     		ldr	r3, .L246+12
 2268 02ca 9842     		cmp	r0, r3
 2269 02cc CDD1     		bne	.L211
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2270              		.loc 1 3180 0
 2271 02ce 04F50770 		add	r0, r4, #540
 2272 02d2 FFF7FEFF 		bl	ld_dword
 2273              	.LVL302:
 2274 02d6 6061     		str	r0, [r4, #20]
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2275              		.loc 1 3183 0
 2276 02d8 04F50870 		add	r0, r4, #544
 2277 02dc FFF7FEFF 		bl	ld_dword
 2278              	.LVL303:
 2279 02e0 2061     		str	r0, [r4, #16]
 2280 02e2 C2E7     		b	.L211
 2281              	.LVL304:
 2282              	.L212:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2283              		.loc 1 3011 0
 2284 02e4 0B20     		movs	r0, #11
 2285              	.LVL305:
 2286              	.L195:
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2287              		.loc 1 3206 0
 2288 02e6 07B0     		add	sp, sp, #28
 2289              	.LCFI28:
 2290              		.cfi_remember_state
 2291              		.cfi_def_cfa_offset 36
 2292              		@ sp needed
 2293 02e8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2294              	.LVL306:
 2295              	.L213:
 2296              	.LCFI29:
 2297              		.cfi_restore_state
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2298              		.loc 1 3015 0
 2299 02ec 0C20     		movs	r0, #12
 2300              	.LVL307:
 2301 02ee FAE7     		b	.L195
 2302              	.LVL308:
 2303              	.L214:
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2304              		.loc 1 3027 0
 2305 02f0 0020     		movs	r0, #0
 2306              	.LVL309:
 2307 02f2 F8E7     		b	.L195
 2308              	.LVL310:
 2309              	.L215:
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2310              		.loc 1 3025 0
 2311 02f4 0A20     		movs	r0, #10
 2312              	.LVL311:
 2313 02f6 F6E7     		b	.L195
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 150


 2314              	.LVL312:
 2315              	.L216:
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2316              		.loc 1 3038 0
 2317 02f8 0320     		movs	r0, #3
 2318              	.LVL313:
 2319 02fa F4E7     		b	.L195
 2320              	.LVL314:
 2321              	.L217:
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2322              		.loc 1 3041 0
 2323 02fc 0A20     		movs	r0, #10
 2324              	.LVL315:
 2325 02fe F2E7     		b	.L195
 2326              	.L218:
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2327              		.loc 1 3044 0
 2328 0300 0120     		movs	r0, #1
 2329 0302 F0E7     		b	.L195
 2330              	.L219:
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2331              		.loc 1 3045 0
 2332 0304 0120     		movs	r0, #1
 2333 0306 EEE7     		b	.L195
 2334              	.LVL316:
 2335              	.L224:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2336              		.loc 1 3063 0
 2337 0308 0120     		movs	r0, #1
 2338              	.LVL317:
 2339 030a ECE7     		b	.L195
 2340              	.LVL318:
 2341              	.L225:
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2342              		.loc 1 3064 0
 2343 030c 0D20     		movs	r0, #13
 2344              	.LVL319:
 2345 030e EAE7     		b	.L195
 2346              	.LVL320:
 2347              	.L226:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2348              		.loc 1 3116 0
 2349 0310 0D20     		movs	r0, #13
 2350 0312 E8E7     		b	.L195
 2351              	.LVL321:
 2352              	.L227:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2353              		.loc 1 3123 0
 2354 0314 0D20     		movs	r0, #13
 2355              	.LVL322:
 2356 0316 E6E7     		b	.L195
 2357              	.LVL323:
 2358              	.L228:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2359              		.loc 1 3127 0
 2360 0318 0D20     		movs	r0, #13
 2361 031a E4E7     		b	.L195
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 151


 2362              	.L229:
 2363 031c 0D20     		movs	r0, #13
 2364 031e E2E7     		b	.L195
 2365              	.L230:
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2366              		.loc 1 3130 0
 2367 0320 0D20     		movs	r0, #13
 2368 0322 E0E7     		b	.L195
 2369              	.LVL324:
 2370              	.L231:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2371              		.loc 1 3136 0
 2372 0324 0D20     		movs	r0, #13
 2373              	.LVL325:
 2374 0326 DEE7     		b	.L195
 2375              	.LVL326:
 2376              	.L232:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2377              		.loc 1 3140 0
 2378 0328 0D20     		movs	r0, #13
 2379              	.LVL327:
 2380 032a DCE7     		b	.L195
 2381              	.LVL328:
 2382              	.L233:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2383              		.loc 1 3142 0
 2384 032c 0D20     		movs	r0, #13
 2385              	.LVL329:
 2386 032e DAE7     		b	.L195
 2387              	.LVL330:
 2388              	.L236:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2389              		.loc 1 3153 0
 2390 0330 0D20     		movs	r0, #13
 2391 0332 D8E7     		b	.L195
 2392              	.L237:
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2393              		.loc 1 3154 0
 2394 0334 0D20     		movs	r0, #13
 2395 0336 D6E7     		b	.L195
 2396              	.LVL331:
 2397              	.L238:
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2398              		.loc 1 3158 0
 2399 0338 0D20     		movs	r0, #13
 2400              	.LVL332:
 2401 033a D4E7     		b	.L195
 2402              	.L247:
 2403              		.align	2
 2404              	.L246:
 2405 033c 00000000 		.word	.LANCHOR2
 2406 0340 00000000 		.word	.LANCHOR3
 2407 0344 52526141 		.word	1096897106
 2408 0348 72724161 		.word	1631679090
 2409              	.LVL333:
 2410              	.L239:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 152


 2411              		.loc 1 3163 0
 2412 034c 0D20     		movs	r0, #13
 2413 034e CAE7     		b	.L195
 2414              		.cfi_endproc
 2415              	.LFE166:
 2417              		.section	.text.put_fat,"ax",%progbits
 2418              		.align	1
 2419              		.syntax unified
 2420              		.thumb
 2421              		.thumb_func
 2422              		.fpu fpv4-sp-d16
 2424              	put_fat:
 2425              	.LFB148:
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 2426              		.loc 1 1086 0
 2427              		.cfi_startproc
 2428              		@ args = 0, pretend = 0, frame = 0
 2429              		@ frame_needed = 0, uses_anonymous_args = 0
 2430              	.LVL334:
 2431 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2432              	.LCFI30:
 2433              		.cfi_def_cfa_offset 32
 2434              		.cfi_offset 4, -32
 2435              		.cfi_offset 5, -28
 2436              		.cfi_offset 6, -24
 2437              		.cfi_offset 7, -20
 2438              		.cfi_offset 8, -16
 2439              		.cfi_offset 9, -12
 2440              		.cfi_offset 10, -8
 2441              		.cfi_offset 14, -4
 2442              	.LVL335:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2443              		.loc 1 1091 0
 2444 0004 0129     		cmp	r1, #1
 2445 0006 40F29280 		bls	.L257
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2446              		.loc 1 1091 0 is_stmt 0 discriminator 1
 2447 000a 8369     		ldr	r3, [r0, #24]
 2448 000c 8B42     		cmp	r3, r1
 2449 000e 40F29080 		bls	.L258
 2450 0012 1746     		mov	r7, r2
 2451 0014 0D46     		mov	r5, r1
 2452 0016 0446     		mov	r4, r0
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 2453              		.loc 1 1092 0 is_stmt 1
 2454 0018 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 2455 001a 022B     		cmp	r3, #2
 2456 001c 4DD0     		beq	.L250
 2457 001e 032B     		cmp	r3, #3
 2458 0020 64D0     		beq	.L251
 2459 0022 012B     		cmp	r3, #1
 2460 0024 01D0     		beq	.L262
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2461              		.loc 1 1089 0
 2462 0026 0226     		movs	r6, #2
 2463 0028 84E0     		b	.L249
 2464              	.L262:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 153


 2465              	.LVL336:
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2466              		.loc 1 1094 0
 2467 002a 01EB5108 		add	r8, r1, r1, lsr #1
 2468              	.LVL337:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2469              		.loc 1 1095 0
 2470 002e 416A     		ldr	r1, [r0, #36]
 2471              	.LVL338:
 2472 0030 8389     		ldrh	r3, [r0, #12]
 2473 0032 B8FBF3F3 		udiv	r3, r8, r3
 2474 0036 1944     		add	r1, r1, r3
 2475 0038 FFF7FEFF 		bl	move_window
 2476              	.LVL339:
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 2477              		.loc 1 1096 0
 2478 003c 0646     		mov	r6, r0
 2479 003e 0028     		cmp	r0, #0
 2480 0040 78D1     		bne	.L249
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2481              		.loc 1 1097 0
 2482 0042 04F13409 		add	r9, r4, #52
 2483 0046 08F1010A 		add	r10, r8, #1
 2484              	.LVL340:
 2485 004a A289     		ldrh	r2, [r4, #12]
 2486 004c B8FBF2F3 		udiv	r3, r8, r2
 2487 0050 02FB1388 		mls	r8, r2, r3, r8
 2488              	.LVL341:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2489              		.loc 1 1098 0
 2490 0054 15F00105 		ands	r5, r5, #1
 2491              	.LVL342:
 2492 0058 24D0     		beq	.L253
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2493              		.loc 1 1098 0 is_stmt 0 discriminator 1
 2494 005a 19F90830 		ldrsb	r3, [r9, r8]
 2495 005e 03F00F03 		and	r3, r3, #15
 2496 0062 3A01     		lsls	r2, r7, #4
 2497 0064 02F47F62 		and	r2, r2, #4080
 2498 0068 1343     		orrs	r3, r3, r2
 2499 006a DBB2     		uxtb	r3, r3
 2500              	.L254:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2501              		.loc 1 1098 0 discriminator 4
 2502 006c 09F80830 		strb	r3, [r9, r8]
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2503              		.loc 1 1099 0 is_stmt 1 discriminator 4
 2504 0070 0123     		movs	r3, #1
 2505 0072 E370     		strb	r3, [r4, #3]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2506              		.loc 1 1100 0 discriminator 4
 2507 0074 616A     		ldr	r1, [r4, #36]
 2508 0076 A389     		ldrh	r3, [r4, #12]
 2509 0078 BAFBF3F3 		udiv	r3, r10, r3
 2510 007c 1944     		add	r1, r1, r3
 2511 007e 2046     		mov	r0, r4
 2512              	.LVL343:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 154


 2513 0080 FFF7FEFF 		bl	move_window
 2514              	.LVL344:
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 2515              		.loc 1 1101 0 discriminator 4
 2516 0084 0646     		mov	r6, r0
 2517 0086 0028     		cmp	r0, #0
 2518 0088 54D1     		bne	.L249
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 2519              		.loc 1 1102 0
 2520 008a A289     		ldrh	r2, [r4, #12]
 2521 008c BAFBF2F3 		udiv	r3, r10, r2
 2522 0090 02FB13AA 		mls	r10, r2, r3, r10
 2523              	.LVL345:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2524              		.loc 1 1103 0
 2525 0094 45B1     		cbz	r5, .L255
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2526              		.loc 1 1103 0 is_stmt 0 discriminator 1
 2527 0096 C7F30712 		ubfx	r2, r7, #4, #8
 2528              	.LVL346:
 2529              	.L256:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2530              		.loc 1 1103 0 discriminator 4
 2531 009a 09F80A20 		strb	r2, [r9, r10]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2532              		.loc 1 1104 0 is_stmt 1 discriminator 4
 2533 009e 0123     		movs	r3, #1
 2534 00a0 E370     		strb	r3, [r4, #3]
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2535              		.loc 1 1105 0 discriminator 4
 2536 00a2 47E0     		b	.L249
 2537              	.LVL347:
 2538              	.L253:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2539              		.loc 1 1098 0 discriminator 2
 2540 00a4 FBB2     		uxtb	r3, r7
 2541 00a6 E1E7     		b	.L254
 2542              	.LVL348:
 2543              	.L255:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2544              		.loc 1 1103 0 discriminator 2
 2545 00a8 19F90A20 		ldrsb	r2, [r9, r10]
 2546 00ac 22F00F02 		bic	r2, r2, #15
 2547 00b0 C7F30327 		ubfx	r7, r7, #8, #4
 2548              	.LVL349:
 2549 00b4 3A43     		orrs	r2, r2, r7
 2550 00b6 D2B2     		uxtb	r2, r2
 2551 00b8 EFE7     		b	.L256
 2552              	.LVL350:
 2553              	.L250:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2554              		.loc 1 1108 0
 2555 00ba 416A     		ldr	r1, [r0, #36]
 2556              	.LVL351:
 2557 00bc 8389     		ldrh	r3, [r0, #12]
 2558 00be 5B08     		lsrs	r3, r3, #1
 2559 00c0 B5FBF3F3 		udiv	r3, r5, r3
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 155


 2560 00c4 1944     		add	r1, r1, r3
 2561 00c6 FFF7FEFF 		bl	move_window
 2562              	.LVL352:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 2563              		.loc 1 1109 0
 2564 00ca 0646     		mov	r6, r0
 2565 00cc 90BB     		cbnz	r0, .L249
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2566              		.loc 1 1110 0
 2567 00ce 04F13400 		add	r0, r4, #52
 2568              	.LVL353:
 2569 00d2 6D00     		lsls	r5, r5, #1
 2570              	.LVL354:
 2571 00d4 A289     		ldrh	r2, [r4, #12]
 2572 00d6 B5FBF2F3 		udiv	r3, r5, r2
 2573 00da 02FB1355 		mls	r5, r2, r3, r5
 2574 00de B9B2     		uxth	r1, r7
 2575 00e0 2844     		add	r0, r0, r5
 2576 00e2 FFF7FEFF 		bl	st_word
 2577              	.LVL355:
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2578              		.loc 1 1111 0
 2579 00e6 0123     		movs	r3, #1
 2580 00e8 E370     		strb	r3, [r4, #3]
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2581              		.loc 1 1112 0
 2582 00ea 23E0     		b	.L249
 2583              	.LVL356:
 2584              	.L251:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2585              		.loc 1 1118 0
 2586 00ec 416A     		ldr	r1, [r0, #36]
 2587              	.LVL357:
 2588 00ee 8389     		ldrh	r3, [r0, #12]
 2589 00f0 9B08     		lsrs	r3, r3, #2
 2590 00f2 B5FBF3F3 		udiv	r3, r5, r3
 2591 00f6 1944     		add	r1, r1, r3
 2592 00f8 FFF7FEFF 		bl	move_window
 2593              	.LVL358:
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 2594              		.loc 1 1119 0
 2595 00fc 0646     		mov	r6, r0
 2596 00fe C8B9     		cbnz	r0, .L249
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2597              		.loc 1 1121 0
 2598 0100 27F07047 		bic	r7, r7, #-268435456
 2599              	.LVL359:
 2600 0104 04F13403 		add	r3, r4, #52
 2601 0108 A900     		lsls	r1, r5, #2
 2602 010a A289     		ldrh	r2, [r4, #12]
 2603 010c B1FBF2F5 		udiv	r5, r1, r2
 2604              	.LVL360:
 2605 0110 02FB1515 		mls	r5, r2, r5, r1
 2606 0114 1D44     		add	r5, r5, r3
 2607 0116 2846     		mov	r0, r5
 2608              	.LVL361:
 2609 0118 FFF7FEFF 		bl	ld_dword
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 156


 2610              	.LVL362:
 2611 011c 00F07041 		and	r1, r0, #-268435456
 2612              	.LVL363:
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2613              		.loc 1 1123 0
 2614 0120 3943     		orrs	r1, r1, r7
 2615              	.LVL364:
 2616 0122 2846     		mov	r0, r5
 2617 0124 FFF7FEFF 		bl	st_dword
 2618              	.LVL365:
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2619              		.loc 1 1124 0
 2620 0128 0123     		movs	r3, #1
 2621 012a E370     		strb	r3, [r4, #3]
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2622              		.loc 1 1125 0
 2623 012c 02E0     		b	.L249
 2624              	.LVL366:
 2625              	.L257:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2626              		.loc 1 1089 0
 2627 012e 0226     		movs	r6, #2
 2628 0130 00E0     		b	.L249
 2629              	.L258:
 2630 0132 0226     		movs	r6, #2
 2631              	.LVL367:
 2632              	.L249:
1129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2633              		.loc 1 1129 0
 2634 0134 3046     		mov	r0, r6
 2635 0136 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2636              		.cfi_endproc
 2637              	.LFE148:
 2639              		.section	.text.get_fat,"ax",%progbits
 2640              		.align	1
 2641              		.syntax unified
 2642              		.thumb
 2643              		.thumb_func
 2644              		.fpu fpv4-sp-d16
 2646              	get_fat:
 2647              	.LFB147:
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 2648              		.loc 1 1005 0
 2649              		.cfi_startproc
 2650              		@ args = 0, pretend = 0, frame = 0
 2651              		@ frame_needed = 0, uses_anonymous_args = 0
 2652              	.LVL368:
 2653 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2654              	.LCFI31:
 2655              		.cfi_def_cfa_offset 24
 2656              		.cfi_offset 3, -24
 2657              		.cfi_offset 4, -20
 2658              		.cfi_offset 5, -16
 2659              		.cfi_offset 6, -12
 2660              		.cfi_offset 7, -8
 2661              		.cfi_offset 14, -4
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 157


 2662              		.loc 1 1008 0
 2663 0002 0668     		ldr	r6, [r0]
 2664              	.LVL369:
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2665              		.loc 1 1011 0
 2666 0004 0129     		cmp	r1, #1
 2667 0006 6AD9     		bls	.L269
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2668              		.loc 1 1011 0 is_stmt 0 discriminator 1
 2669 0008 B369     		ldr	r3, [r6, #24]
 2670 000a 8B42     		cmp	r3, r1
 2671 000c 69D9     		bls	.L270
 2672 000e 0C46     		mov	r4, r1
 2673              	.LVL370:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 2674              		.loc 1 1017 0 is_stmt 1
 2675 0010 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 2676 0012 022B     		cmp	r3, #2
 2677 0014 35D0     		beq	.L265
 2678 0016 032B     		cmp	r3, #3
 2679 0018 49D0     		beq	.L266
 2680 001a 012B     		cmp	r3, #1
 2681 001c 01D0     		beq	.L278
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2682              		.loc 1 1065 0
 2683 001e 0120     		movs	r0, #1
 2684              	.LVL371:
 2685 0020 5EE0     		b	.L263
 2686              	.LVL372:
 2687              	.L278:
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2688              		.loc 1 1019 0
 2689 0022 01EB5105 		add	r5, r1, r1, lsr #1
 2690              	.LVL373:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 2691              		.loc 1 1020 0
 2692 0026 716A     		ldr	r1, [r6, #36]
 2693              	.LVL374:
 2694 0028 B389     		ldrh	r3, [r6, #12]
 2695 002a B5FBF3F3 		udiv	r3, r5, r3
 2696 002e 1944     		add	r1, r1, r3
 2697 0030 3046     		mov	r0, r6
 2698              	.LVL375:
 2699 0032 FFF7FEFF 		bl	move_window
 2700              	.LVL376:
 2701 0036 0028     		cmp	r0, #0
 2702 0038 55D1     		bne	.L272
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 2703              		.loc 1 1021 0
 2704 003a 6F1C     		adds	r7, r5, #1
 2705              	.LVL377:
 2706 003c B389     		ldrh	r3, [r6, #12]
 2707 003e B5FBF3F2 		udiv	r2, r5, r3
 2708 0042 03FB1255 		mls	r5, r3, r2, r5
 2709 0046 3544     		add	r5, r5, r6
 2710 0048 95F83450 		ldrb	r5, [r5, #52]	@ zero_extendqisi2
 2711              	.LVL378:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 158


1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 2712              		.loc 1 1022 0
 2713 004c 716A     		ldr	r1, [r6, #36]
 2714 004e B7FBF3F3 		udiv	r3, r7, r3
 2715 0052 1944     		add	r1, r1, r3
 2716 0054 3046     		mov	r0, r6
 2717 0056 FFF7FEFF 		bl	move_window
 2718              	.LVL379:
 2719 005a 0028     		cmp	r0, #0
 2720 005c 46D1     		bne	.L273
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 2721              		.loc 1 1023 0
 2722 005e B289     		ldrh	r2, [r6, #12]
 2723 0060 B7FBF2F3 		udiv	r3, r7, r2
 2724 0064 02FB1377 		mls	r7, r2, r3, r7
 2725              	.LVL380:
 2726 0068 3E44     		add	r6, r6, r7
 2727              	.LVL381:
 2728 006a 96F83400 		ldrb	r0, [r6, #52]	@ zero_extendqisi2
 2729 006e 45EA0020 		orr	r0, r5, r0, lsl #8
 2730              	.LVL382:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2731              		.loc 1 1024 0
 2732 0072 14F0010F 		tst	r4, #1
 2733 0076 01D0     		beq	.L268
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2734              		.loc 1 1024 0 is_stmt 0 discriminator 1
 2735 0078 0009     		lsrs	r0, r0, #4
 2736              	.LVL383:
 2737 007a 31E0     		b	.L263
 2738              	.LVL384:
 2739              	.L268:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2740              		.loc 1 1024 0 discriminator 2
 2741 007c C0F30B00 		ubfx	r0, r0, #0, #12
 2742              	.LVL385:
 2743 0080 2EE0     		b	.L263
 2744              	.LVL386:
 2745              	.L265:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 2746              		.loc 1 1028 0 is_stmt 1
 2747 0082 716A     		ldr	r1, [r6, #36]
 2748              	.LVL387:
 2749 0084 B389     		ldrh	r3, [r6, #12]
 2750 0086 5B08     		lsrs	r3, r3, #1
 2751 0088 B4FBF3F3 		udiv	r3, r4, r3
 2752 008c 1944     		add	r1, r1, r3
 2753 008e 3046     		mov	r0, r6
 2754              	.LVL388:
 2755 0090 FFF7FEFF 		bl	move_window
 2756              	.LVL389:
 2757 0094 68BB     		cbnz	r0, .L274
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2758              		.loc 1 1029 0
 2759 0096 06F13400 		add	r0, r6, #52
 2760 009a 6100     		lsls	r1, r4, #1
 2761 009c B289     		ldrh	r2, [r6, #12]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 159


 2762 009e B1FBF2F3 		udiv	r3, r1, r2
 2763 00a2 02FB1311 		mls	r1, r2, r3, r1
 2764 00a6 0844     		add	r0, r0, r1
 2765 00a8 FFF7FEFF 		bl	ld_word
 2766              	.LVL390:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2767              		.loc 1 1030 0
 2768 00ac 18E0     		b	.L263
 2769              	.LVL391:
 2770              	.L266:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 2771              		.loc 1 1033 0
 2772 00ae 716A     		ldr	r1, [r6, #36]
 2773              	.LVL392:
 2774 00b0 B389     		ldrh	r3, [r6, #12]
 2775 00b2 9B08     		lsrs	r3, r3, #2
 2776 00b4 B4FBF3F3 		udiv	r3, r4, r3
 2777 00b8 1944     		add	r1, r1, r3
 2778 00ba 3046     		mov	r0, r6
 2779              	.LVL393:
 2780 00bc FFF7FEFF 		bl	move_window
 2781              	.LVL394:
 2782 00c0 D0B9     		cbnz	r0, .L275
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2783              		.loc 1 1034 0
 2784 00c2 06F13400 		add	r0, r6, #52
 2785 00c6 A100     		lsls	r1, r4, #2
 2786 00c8 B389     		ldrh	r3, [r6, #12]
 2787 00ca B1FBF3F4 		udiv	r4, r1, r3
 2788              	.LVL395:
 2789 00ce 03FB1411 		mls	r1, r3, r4, r1
 2790 00d2 0844     		add	r0, r0, r1
 2791 00d4 FFF7FEFF 		bl	ld_dword
 2792              	.LVL396:
 2793 00d8 20F07040 		bic	r0, r0, #-268435456
 2794              	.LVL397:
1035:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 2795              		.loc 1 1035 0
 2796 00dc 00E0     		b	.L263
 2797              	.LVL398:
 2798              	.L269:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2799              		.loc 1 1012 0
 2800 00de 0120     		movs	r0, #1
 2801              	.LVL399:
 2802              	.L263:
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2803              		.loc 1 1070 0
 2804 00e0 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2805              	.LVL400:
 2806              	.L270:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2807              		.loc 1 1012 0
 2808 00e2 0120     		movs	r0, #1
 2809              	.LVL401:
 2810 00e4 FCE7     		b	.L263
 2811              	.LVL402:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 160


 2812              	.L272:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2813              		.loc 1 1015 0
 2814 00e6 4FF0FF30 		mov	r0, #-1
 2815 00ea F9E7     		b	.L263
 2816              	.LVL403:
 2817              	.L273:
 2818 00ec 4FF0FF30 		mov	r0, #-1
 2819 00f0 F6E7     		b	.L263
 2820              	.LVL404:
 2821              	.L274:
 2822 00f2 4FF0FF30 		mov	r0, #-1
 2823 00f6 F3E7     		b	.L263
 2824              	.L275:
 2825 00f8 4FF0FF30 		mov	r0, #-1
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2826              		.loc 1 1069 0
 2827 00fc F0E7     		b	.L263
 2828              		.cfi_endproc
 2829              	.LFE147:
 2831              		.section	.text.dir_sdi,"ax",%progbits
 2832              		.align	1
 2833              		.syntax unified
 2834              		.thumb
 2835              		.thumb_func
 2836              		.fpu fpv4-sp-d16
 2838              	dir_sdi:
 2839              	.LFB152:
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 2840              		.loc 1 1474 0
 2841              		.cfi_startproc
 2842              		@ args = 0, pretend = 0, frame = 0
 2843              		@ frame_needed = 0, uses_anonymous_args = 0
 2844              	.LVL405:
 2845 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2846              	.LCFI32:
 2847              		.cfi_def_cfa_offset 24
 2848              		.cfi_offset 4, -24
 2849              		.cfi_offset 5, -20
 2850              		.cfi_offset 6, -16
 2851              		.cfi_offset 7, -12
 2852              		.cfi_offset 8, -8
 2853              		.cfi_offset 14, -4
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2854              		.loc 1 1476 0
 2855 0004 0768     		ldr	r7, [r0]
 2856              	.LVL406:
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 2857              		.loc 1 1479 0
 2858 0006 B1F5001F 		cmp	r1, #2097152
 2859 000a 43D2     		bcs	.L286
 2860 000c 0646     		mov	r6, r0
 2861 000e 0D46     		mov	r5, r1
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 2862              		.loc 1 1479 0 is_stmt 0 discriminator 1
 2863 0010 11F01F0F 		tst	r1, #31
 2864 0014 41D1     		bne	.L287
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 161


1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 2865              		.loc 1 1482 0 is_stmt 1
 2866 0016 7161     		str	r1, [r6, #20]
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 2867              		.loc 1 1483 0
 2868 0018 8468     		ldr	r4, [r0, #8]
 2869              	.LVL407:
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 2870              		.loc 1 1484 0
 2871 001a 1CB9     		cbnz	r4, .L281
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 2872              		.loc 1 1484 0 is_stmt 0 discriminator 1
 2873 001c 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 2874 001e 022B     		cmp	r3, #2
 2875 0020 00D9     		bls	.L281
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 2876              		.loc 1 1485 0 is_stmt 1
 2877 0022 BC6A     		ldr	r4, [r7, #40]
 2878              	.LVL408:
 2879              	.L281:
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 2880              		.loc 1 1489 0
 2881 0024 CCB9     		cbnz	r4, .L282
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 2882              		.loc 1 1490 0
 2883 0026 3B89     		ldrh	r3, [r7, #8]
 2884 0028 B3EB551F 		cmp	r3, r5, lsr #5
 2885 002c 37D9     		bls	.L288
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2886              		.loc 1 1491 0
 2887 002e BB6A     		ldr	r3, [r7, #40]
 2888 0030 F361     		str	r3, [r6, #28]
 2889              	.LVL409:
 2890              	.L283:
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 2891              		.loc 1 1503 0
 2892 0032 B461     		str	r4, [r6, #24]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 2893              		.loc 1 1504 0
 2894 0034 F369     		ldr	r3, [r6, #28]
 2895 0036 002B     		cmp	r3, #0
 2896 0038 39D0     		beq	.L292
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 2897              		.loc 1 1505 0
 2898 003a BA89     		ldrh	r2, [r7, #12]
 2899 003c B5FBF2F2 		udiv	r2, r5, r2
 2900 0040 1344     		add	r3, r3, r2
 2901 0042 F361     		str	r3, [r6, #28]
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2902              		.loc 1 1506 0
 2903 0044 07F13403 		add	r3, r7, #52
 2904 0048 B989     		ldrh	r1, [r7, #12]
 2905 004a B5FBF1F2 		udiv	r2, r5, r1
 2906 004e 01FB1255 		mls	r5, r1, r2, r5
 2907              	.LVL410:
 2908 0052 1D44     		add	r5, r5, r3
 2909 0054 3562     		str	r5, [r6, #32]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 162


1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2910              		.loc 1 1508 0
 2911 0056 0020     		movs	r0, #0
 2912 0058 1DE0     		b	.L280
 2913              	.LVL411:
 2914              	.L282:
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 2915              		.loc 1 1494 0
 2916 005a 7B89     		ldrh	r3, [r7, #10]
 2917 005c B7F80C80 		ldrh	r8, [r7, #12]
 2918 0060 08FB03F8 		mul	r8, r8, r3
 2919              	.LVL412:
 2920              	.L284:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 2921              		.loc 1 1495 0
 2922 0064 4545     		cmp	r5, r8
 2923 0066 0FD3     		bcc	.L294
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 2924              		.loc 1 1496 0
 2925 0068 2146     		mov	r1, r4
 2926 006a 3046     		mov	r0, r6
 2927 006c FFF7FEFF 		bl	get_fat
 2928              	.LVL413:
 2929 0070 0446     		mov	r4, r0
 2930              	.LVL414:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 2931              		.loc 1 1497 0
 2932 0072 B0F1FF3F 		cmp	r0, #-1
 2933 0076 14D0     		beq	.L289
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 2934              		.loc 1 1498 0
 2935 0078 0128     		cmp	r0, #1
 2936 007a 14D9     		bls	.L290
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 2937              		.loc 1 1498 0 is_stmt 0 discriminator 2
 2938 007c BB69     		ldr	r3, [r7, #24]
 2939 007e 8342     		cmp	r3, r0
 2940 0080 13D9     		bls	.L291
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2941              		.loc 1 1499 0 is_stmt 1
 2942 0082 A5EB0805 		sub	r5, r5, r8
 2943              	.LVL415:
 2944 0086 EDE7     		b	.L284
 2945              	.LVL416:
 2946              	.L294:
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2947              		.loc 1 1501 0
 2948 0088 2146     		mov	r1, r4
 2949 008a 3846     		mov	r0, r7
 2950 008c FFF7FEFF 		bl	clust2sect
 2951              	.LVL417:
 2952 0090 F061     		str	r0, [r6, #28]
 2953 0092 CEE7     		b	.L283
 2954              	.LVL418:
 2955              	.L286:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2956              		.loc 1 1480 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 163


 2957 0094 0220     		movs	r0, #2
 2958              	.LVL419:
 2959              	.L280:
1509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2960              		.loc 1 1509 0
 2961 0096 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2962              	.LVL420:
 2963              	.L287:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2964              		.loc 1 1480 0
 2965 009a 0220     		movs	r0, #2
 2966              	.LVL421:
 2967 009c FBE7     		b	.L280
 2968              	.LVL422:
 2969              	.L288:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 2970              		.loc 1 1490 0
 2971 009e 0220     		movs	r0, #2
 2972              	.LVL423:
 2973 00a0 F9E7     		b	.L280
 2974              	.LVL424:
 2975              	.L289:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 2976              		.loc 1 1497 0
 2977 00a2 0120     		movs	r0, #1
 2978              	.LVL425:
 2979 00a4 F7E7     		b	.L280
 2980              	.LVL426:
 2981              	.L290:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 2982              		.loc 1 1498 0
 2983 00a6 0220     		movs	r0, #2
 2984              	.LVL427:
 2985 00a8 F5E7     		b	.L280
 2986              	.LVL428:
 2987              	.L291:
 2988 00aa 0220     		movs	r0, #2
 2989              	.LVL429:
 2990 00ac F3E7     		b	.L280
 2991              	.LVL430:
 2992              	.L292:
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 2993              		.loc 1 1504 0
 2994 00ae 0220     		movs	r0, #2
 2995 00b0 F1E7     		b	.L280
 2996              		.cfi_endproc
 2997              	.LFE152:
 2999              		.section	.text.create_chain,"ax",%progbits
 3000              		.align	1
 3001              		.syntax unified
 3002              		.thumb
 3003              		.thumb_func
 3004              		.fpu fpv4-sp-d16
 3006              	create_chain:
 3007              	.LFB150:
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3008              		.loc 1 1355 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 164


 3009              		.cfi_startproc
 3010              		@ args = 0, pretend = 0, frame = 0
 3011              		@ frame_needed = 0, uses_anonymous_args = 0
 3012              	.LVL431:
 3013 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3014              	.LCFI33:
 3015              		.cfi_def_cfa_offset 24
 3016              		.cfi_offset 4, -24
 3017              		.cfi_offset 5, -20
 3018              		.cfi_offset 6, -16
 3019              		.cfi_offset 7, -12
 3020              		.cfi_offset 8, -8
 3021              		.cfi_offset 14, -4
 3022 0004 0746     		mov	r7, r0
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3023              		.loc 1 1358 0
 3024 0006 0668     		ldr	r6, [r0]
 3025              	.LVL432:
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3026              		.loc 1 1361 0
 3027 0008 8846     		mov	r8, r1
 3028 000a 31B9     		cbnz	r1, .L296
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3029              		.loc 1 1362 0
 3030 000c 3569     		ldr	r5, [r6, #16]
 3031              	.LVL433:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3032              		.loc 1 1363 0
 3033 000e 8DB1     		cbz	r5, .L305
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3034              		.loc 1 1363 0 is_stmt 0 discriminator 2
 3035 0010 B369     		ldr	r3, [r6, #24]
 3036 0012 AB42     		cmp	r3, r5
 3037 0014 0FD8     		bhi	.L297
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3038              		.loc 1 1363 0
 3039 0016 0125     		movs	r5, #1
 3040              	.LVL434:
 3041 0018 0DE0     		b	.L297
 3042              	.LVL435:
 3043              	.L296:
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3044              		.loc 1 1366 0 is_stmt 1
 3045 001a FFF7FEFF 		bl	get_fat
 3046              	.LVL436:
 3047 001e 0346     		mov	r3, r0
 3048              	.LVL437:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3049              		.loc 1 1367 0
 3050 0020 0128     		cmp	r0, #1
 3051 0022 47D9     		bls	.L307
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3052              		.loc 1 1368 0
 3053 0024 B0F1FF3F 		cmp	r0, #-1
 3054 0028 49D0     		beq	.L295
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3055              		.loc 1 1369 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 165


 3056 002a B269     		ldr	r2, [r6, #24]
 3057 002c 8242     		cmp	r2, r0
 3058 002e 46D8     		bhi	.L295
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3059              		.loc 1 1370 0
 3060 0030 4546     		mov	r5, r8
 3061 0032 00E0     		b	.L297
 3062              	.LVL438:
 3063              	.L305:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3064              		.loc 1 1363 0
 3065 0034 0125     		movs	r5, #1
 3066              	.LVL439:
 3067              	.L297:
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3068              		.loc 1 1400 0
 3069 0036 2C46     		mov	r4, r5
 3070 0038 0CE0     		b	.L301
 3071              	.LVL440:
 3072              	.L299:
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3073              		.loc 1 1407 0
 3074 003a 2146     		mov	r1, r4
 3075 003c 3846     		mov	r0, r7
 3076 003e FFF7FEFF 		bl	get_fat
 3077              	.LVL441:
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 3078              		.loc 1 1408 0
 3079 0042 0346     		mov	r3, r0
 3080 0044 70B1     		cbz	r0, .L300
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3081              		.loc 1 1409 0
 3082 0046 0128     		cmp	r0, #1
 3083 0048 39D0     		beq	.L295
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3084              		.loc 1 1409 0 is_stmt 0 discriminator 2
 3085 004a B0F1FF3F 		cmp	r0, #-1
 3086 004e 36D0     		beq	.L295
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3087              		.loc 1 1410 0 is_stmt 1
 3088 0050 AC42     		cmp	r4, r5
 3089 0052 33D0     		beq	.L312
 3090              	.LVL442:
 3091              	.L301:
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 3092              		.loc 1 1402 0
 3093 0054 0134     		adds	r4, r4, #1
 3094              	.LVL443:
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3095              		.loc 1 1403 0
 3096 0056 B369     		ldr	r3, [r6, #24]
 3097 0058 A342     		cmp	r3, r4
 3098 005a EED8     		bhi	.L299
 3099              	.LVL444:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3100              		.loc 1 1405 0
 3101 005c 012D     		cmp	r5, #1
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 166


 3102 005e 2BD9     		bls	.L308
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 3103              		.loc 1 1404 0
 3104 0060 0224     		movs	r4, #2
 3105 0062 EAE7     		b	.L299
 3106              	.LVL445:
 3107              	.L300:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3108              		.loc 1 1412 0
 3109 0064 4FF0FF32 		mov	r2, #-1
 3110 0068 2146     		mov	r1, r4
 3111 006a 3046     		mov	r0, r6
 3112              	.LVL446:
 3113 006c FFF7FEFF 		bl	put_fat
 3114              	.LVL447:
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3115              		.loc 1 1413 0
 3116 0070 0346     		mov	r3, r0
 3117 0072 10B9     		cbnz	r0, .L302
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3118              		.loc 1 1413 0 is_stmt 0 discriminator 1
 3119 0074 B8F1000F 		cmp	r8, #0
 3120 0078 0ED1     		bne	.L313
 3121              	.LVL448:
 3122              	.L302:
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 3123              		.loc 1 1418 0 is_stmt 1
 3124 007a A3B9     		cbnz	r3, .L303
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 3125              		.loc 1 1419 0
 3126 007c 3461     		str	r4, [r6, #16]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3127              		.loc 1 1420 0
 3128 007e 7269     		ldr	r2, [r6, #20]
 3129 0080 B369     		ldr	r3, [r6, #24]
 3130              	.LVL449:
 3131 0082 023B     		subs	r3, r3, #2
 3132 0084 9A42     		cmp	r2, r3
 3133 0086 01D8     		bhi	.L304
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3134              		.loc 1 1420 0 is_stmt 0 discriminator 1
 3135 0088 013A     		subs	r2, r2, #1
 3136 008a 7261     		str	r2, [r6, #20]
 3137              	.L304:
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3138              		.loc 1 1421 0 is_stmt 1
 3139 008c 3379     		ldrb	r3, [r6, #4]	@ zero_extendqisi2
 3140 008e 43F00103 		orr	r3, r3, #1
 3141 0092 3371     		strb	r3, [r6, #4]
 3142 0094 2346     		mov	r3, r4
 3143 0096 12E0     		b	.L295
 3144              	.LVL450:
 3145              	.L313:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3146              		.loc 1 1414 0
 3147 0098 2246     		mov	r2, r4
 3148 009a 4146     		mov	r1, r8
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 167


 3149 009c 3046     		mov	r0, r6
 3150              	.LVL451:
 3151 009e FFF7FEFF 		bl	put_fat
 3152              	.LVL452:
 3153 00a2 0346     		mov	r3, r0
 3154              	.LVL453:
 3155 00a4 E9E7     		b	.L302
 3156              	.L303:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3157              		.loc 1 1423 0
 3158 00a6 012B     		cmp	r3, #1
 3159 00a8 01D0     		beq	.L314
 3160 00aa 0123     		movs	r3, #1
 3161              	.LVL454:
 3162 00ac 07E0     		b	.L295
 3163              	.LVL455:
 3164              	.L314:
 3165 00ae 4FF0FF33 		mov	r3, #-1
 3166              	.LVL456:
 3167 00b2 04E0     		b	.L295
 3168              	.LVL457:
 3169              	.L307:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3170              		.loc 1 1367 0
 3171 00b4 0123     		movs	r3, #1
 3172 00b6 02E0     		b	.L295
 3173              	.LVL458:
 3174              	.L308:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3175              		.loc 1 1405 0
 3176 00b8 0023     		movs	r3, #0
 3177 00ba 00E0     		b	.L295
 3178              	.LVL459:
 3179              	.L312:
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3180              		.loc 1 1410 0
 3181 00bc 0023     		movs	r3, #0
 3182              	.LVL460:
 3183              	.L295:
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3184              		.loc 1 1427 0
 3185 00be 1846     		mov	r0, r3
 3186 00c0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3187              		.cfi_endproc
 3188              	.LFE150:
 3190              		.section	.text.remove_chain,"ax",%progbits
 3191              		.align	1
 3192              		.syntax unified
 3193              		.thumb
 3194              		.thumb_func
 3195              		.fpu fpv4-sp-d16
 3197              	remove_chain:
 3198              	.LFB149:
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 3199              		.loc 1 1276 0
 3200              		.cfi_startproc
 3201              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 168


 3202              		@ frame_needed = 0, uses_anonymous_args = 0
 3203              	.LVL461:
 3204 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3205              	.LCFI34:
 3206              		.cfi_def_cfa_offset 24
 3207              		.cfi_offset 3, -24
 3208              		.cfi_offset 4, -20
 3209              		.cfi_offset 5, -16
 3210              		.cfi_offset 6, -12
 3211              		.cfi_offset 7, -8
 3212              		.cfi_offset 14, -4
 3213 0002 0E46     		mov	r6, r1
 3214              	.LVL462:
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 3215              		.loc 1 1279 0
 3216 0004 0568     		ldr	r5, [r0]
 3217              	.LVL463:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3218              		.loc 1 1287 0
 3219 0006 0129     		cmp	r1, #1
 3220 0008 2ED9     		bls	.L320
 3221 000a 0746     		mov	r7, r0
 3222 000c 1146     		mov	r1, r2
 3223              	.LVL464:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3224              		.loc 1 1287 0 is_stmt 0 discriminator 2
 3225 000e AB69     		ldr	r3, [r5, #24]
 3226 0010 B342     		cmp	r3, r6
 3227 0012 2CD9     		bls	.L321
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 3228              		.loc 1 1290 0 is_stmt 1
 3229 0014 52B1     		cbz	r2, .L319
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 3230              		.loc 1 1291 0
 3231 0016 4FF0FF32 		mov	r2, #-1
 3232              	.LVL465:
 3233 001a 2846     		mov	r0, r5
 3234              	.LVL466:
 3235 001c FFF7FEFF 		bl	put_fat
 3236              	.LVL467:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3237              		.loc 1 1292 0
 3238 0020 8446     		mov	ip, r0
 3239 0022 18B1     		cbz	r0, .L319
 3240 0024 25E0     		b	.L316
 3241              	.LVL468:
 3242              	.L318:
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
 3243              		.loc 1 1327 0
 3244 0026 2646     		mov	r6, r4
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3245              		.loc 1 1328 0
 3246 0028 A242     		cmp	r2, r4
 3247 002a 22D9     		bls	.L316
 3248              	.LVL469:
 3249              	.L319:
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 169


 3250              		.loc 1 1297 0
 3251 002c 3146     		mov	r1, r6
 3252 002e 3846     		mov	r0, r7
 3253 0030 FFF7FEFF 		bl	get_fat
 3254              	.LVL470:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 3255              		.loc 1 1298 0
 3256 0034 0446     		mov	r4, r0
 3257 0036 F0B1     		cbz	r0, .L322
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 3258              		.loc 1 1299 0
 3259 0038 0128     		cmp	r0, #1
 3260 003a 1FD0     		beq	.L323
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3261              		.loc 1 1300 0
 3262 003c B0F1FF3F 		cmp	r0, #-1
 3263 0040 1FD0     		beq	.L324
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 3264              		.loc 1 1302 0
 3265 0042 0022     		movs	r2, #0
 3266 0044 3146     		mov	r1, r6
 3267 0046 2846     		mov	r0, r5
 3268              	.LVL471:
 3269 0048 FFF7FEFF 		bl	put_fat
 3270              	.LVL472:
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3271              		.loc 1 1303 0
 3272 004c 8446     		mov	ip, r0
 3273 004e 80B9     		cbnz	r0, .L316
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3274              		.loc 1 1305 0
 3275 0050 6B69     		ldr	r3, [r5, #20]
 3276 0052 AA69     		ldr	r2, [r5, #24]
 3277 0054 911E     		subs	r1, r2, #2
 3278 0056 8B42     		cmp	r3, r1
 3279 0058 E5D2     		bcs	.L318
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3280              		.loc 1 1306 0
 3281 005a 0133     		adds	r3, r3, #1
 3282 005c 6B61     		str	r3, [r5, #20]
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3283              		.loc 1 1307 0
 3284 005e 2B79     		ldrb	r3, [r5, #4]	@ zero_extendqisi2
 3285 0060 43F00103 		orr	r3, r3, #1
 3286 0064 2B71     		strb	r3, [r5, #4]
 3287 0066 DEE7     		b	.L318
 3288              	.LVL473:
 3289              	.L320:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3290              		.loc 1 1287 0
 3291 0068 4FF0020C 		mov	ip, #2
 3292 006c 01E0     		b	.L316
 3293              	.LVL474:
 3294              	.L321:
 3295 006e 4FF0020C 		mov	ip, #2
 3296              	.LVL475:
 3297              	.L316:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 170


1342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3298              		.loc 1 1342 0
 3299 0072 6046     		mov	r0, ip
 3300 0074 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3301              	.LVL476:
 3302              	.L322:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3303              		.loc 1 1341 0
 3304 0076 4FF0000C 		mov	ip, #0
 3305 007a FAE7     		b	.L316
 3306              	.L323:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 3307              		.loc 1 1299 0
 3308 007c 4FF0020C 		mov	ip, #2
 3309 0080 F7E7     		b	.L316
 3310              	.L324:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3311              		.loc 1 1300 0
 3312 0082 4FF0010C 		mov	ip, #1
 3313 0086 F4E7     		b	.L316
 3314              		.cfi_endproc
 3315              	.LFE149:
 3317              		.section	.text.dir_remove,"ax",%progbits
 3318              		.align	1
 3319              		.syntax unified
 3320              		.thumb
 3321              		.thumb_func
 3322              		.fpu fpv4-sp-d16
 3324              	dir_remove:
 3325              	.LFB160:
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3326              		.loc 1 2399 0
 3327              		.cfi_startproc
 3328              		@ args = 0, pretend = 0, frame = 0
 3329              		@ frame_needed = 0, uses_anonymous_args = 0
 3330              	.LVL477:
 3331 0000 38B5     		push	{r3, r4, r5, lr}
 3332              	.LCFI35:
 3333              		.cfi_def_cfa_offset 16
 3334              		.cfi_offset 3, -16
 3335              		.cfi_offset 4, -12
 3336              		.cfi_offset 5, -8
 3337              		.cfi_offset 14, -4
 3338 0002 0446     		mov	r4, r0
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 3339              		.loc 1 2401 0
 3340 0004 0568     		ldr	r5, [r0]
 3341              	.LVL478:
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3342              		.loc 1 2424 0
 3343 0006 C169     		ldr	r1, [r0, #28]
 3344 0008 2846     		mov	r0, r5
 3345              	.LVL479:
 3346 000a FFF7FEFF 		bl	move_window
 3347              	.LVL480:
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
 3348              		.loc 1 2425 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 171


 3349 000e 0346     		mov	r3, r0
 3350 0010 20B9     		cbnz	r0, .L327
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
 3351              		.loc 1 2426 0
 3352 0012 226A     		ldr	r2, [r4, #32]
 3353 0014 E521     		movs	r1, #229
 3354 0016 1170     		strb	r1, [r2]
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3355              		.loc 1 2427 0
 3356 0018 0122     		movs	r2, #1
 3357 001a EA70     		strb	r2, [r5, #3]
 3358              	.L327:
2432:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3359              		.loc 1 2432 0
 3360 001c 1846     		mov	r0, r3
 3361              	.LVL481:
 3362 001e 38BD     		pop	{r3, r4, r5, pc}
 3363              		.cfi_endproc
 3364              	.LFE160:
 3366              		.section	.text.dir_next,"ax",%progbits
 3367              		.align	1
 3368              		.syntax unified
 3369              		.thumb
 3370              		.thumb_func
 3371              		.fpu fpv4-sp-d16
 3373              	dir_next:
 3374              	.LFB153:
1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 3375              		.loc 1 1523 0
 3376              		.cfi_startproc
 3377              		@ args = 0, pretend = 0, frame = 0
 3378              		@ frame_needed = 0, uses_anonymous_args = 0
 3379              	.LVL482:
 3380 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3381              	.LCFI36:
 3382              		.cfi_def_cfa_offset 24
 3383              		.cfi_offset 4, -24
 3384              		.cfi_offset 5, -20
 3385              		.cfi_offset 6, -16
 3386              		.cfi_offset 7, -12
 3387              		.cfi_offset 8, -8
 3388              		.cfi_offset 14, -4
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3389              		.loc 1 1525 0
 3390 0004 0668     		ldr	r6, [r0]
 3391              	.LVL483:
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 3392              		.loc 1 1530 0
 3393 0006 4569     		ldr	r5, [r0, #20]
 3394              	.LVL484:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3395              		.loc 1 1531 0
 3396 0008 C369     		ldr	r3, [r0, #28]
 3397 000a 002B     		cmp	r3, #0
 3398 000c 72D0     		beq	.L337
 3399 000e 2035     		adds	r5, r5, #32
 3400              	.LVL485:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 172


1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3401              		.loc 1 1531 0 is_stmt 0 discriminator 2
 3402 0010 B5F5001F 		cmp	r5, #2097152
 3403 0014 70D2     		bcs	.L338
 3404 0016 0F46     		mov	r7, r1
 3405 0018 0446     		mov	r4, r0
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 3406              		.loc 1 1533 0 is_stmt 1
 3407 001a B189     		ldrh	r1, [r6, #12]
 3408              	.LVL486:
 3409 001c B5FBF1F2 		udiv	r2, r5, r1
 3410 0020 01FB1252 		mls	r2, r1, r2, r5
 3411 0024 3AB9     		cbnz	r2, .L331
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3412              		.loc 1 1534 0
 3413 0026 0133     		adds	r3, r3, #1
 3414 0028 C361     		str	r3, [r0, #28]
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 3415              		.loc 1 1536 0
 3416 002a 8169     		ldr	r1, [r0, #24]
 3417 002c A1B9     		cbnz	r1, .L332
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 3418              		.loc 1 1537 0
 3419 002e 3389     		ldrh	r3, [r6, #8]
 3420 0030 B3EB551F 		cmp	r3, r5, lsr #5
 3421 0034 0CD9     		bls	.L347
 3422              	.LVL487:
 3423              	.L331:
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 3424              		.loc 1 1574 0
 3425 0036 6561     		str	r5, [r4, #20]
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3426              		.loc 1 1575 0
 3427 0038 06F13403 		add	r3, r6, #52
 3428 003c B189     		ldrh	r1, [r6, #12]
 3429 003e B5FBF1F2 		udiv	r2, r5, r1
 3430 0042 01FB1255 		mls	r5, r1, r2, r5
 3431              	.LVL488:
 3432 0046 1D44     		add	r5, r5, r3
 3433 0048 2562     		str	r5, [r4, #32]
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3434              		.loc 1 1577 0
 3435 004a 0020     		movs	r0, #0
 3436              	.LVL489:
 3437              	.L330:
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3438              		.loc 1 1578 0
 3439 004c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3440              	.LVL490:
 3441              	.L347:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3442              		.loc 1 1538 0
 3443 0050 0023     		movs	r3, #0
 3444 0052 C361     		str	r3, [r0, #28]
 3445 0054 0420     		movs	r0, #4
 3446              	.LVL491:
 3447 0056 F9E7     		b	.L330
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 173


 3448              	.LVL492:
 3449              	.L332:
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 3450              		.loc 1 1542 0
 3451 0058 B289     		ldrh	r2, [r6, #12]
 3452 005a B5FBF2F2 		udiv	r2, r5, r2
 3453 005e 7389     		ldrh	r3, [r6, #10]
 3454 0060 013B     		subs	r3, r3, #1
 3455 0062 1A42     		tst	r2, r3
 3456 0064 E7D1     		bne	.L331
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 3457              		.loc 1 1543 0
 3458 0066 FFF7FEFF 		bl	get_fat
 3459              	.LVL493:
 3460 006a 8046     		mov	r8, r0
 3461              	.LVL494:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 3462              		.loc 1 1544 0
 3463 006c 0128     		cmp	r0, #1
 3464 006e 45D9     		bls	.L339
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 3465              		.loc 1 1545 0
 3466 0070 B0F1FF3F 		cmp	r0, #-1
 3467 0074 44D0     		beq	.L340
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3468              		.loc 1 1546 0
 3469 0076 B369     		ldr	r3, [r6, #24]
 3470 0078 8342     		cmp	r3, r0
 3471 007a 33D8     		bhi	.L333
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 3472              		.loc 1 1548 0
 3473 007c 8FB1     		cbz	r7, .L348
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 3474              		.loc 1 1551 0
 3475 007e A169     		ldr	r1, [r4, #24]
 3476 0080 2046     		mov	r0, r4
 3477              	.LVL495:
 3478 0082 FFF7FEFF 		bl	create_chain
 3479              	.LVL496:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 3480              		.loc 1 1552 0
 3481 0086 8046     		mov	r8, r0
 3482 0088 0028     		cmp	r0, #0
 3483 008a 3BD0     		beq	.L341
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3484              		.loc 1 1553 0
 3485 008c 0128     		cmp	r0, #1
 3486 008e 3BD0     		beq	.L342
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 3487              		.loc 1 1554 0
 3488 0090 B0F1FF3F 		cmp	r0, #-1
 3489 0094 3AD0     		beq	.L343
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 3490              		.loc 1 1557 0
 3491 0096 3046     		mov	r0, r6
 3492              	.LVL497:
 3493 0098 FFF7FEFF 		bl	sync_window
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 174


 3494              	.LVL498:
 3495 009c 28B1     		cbz	r0, .L349
 3496 009e 0120     		movs	r0, #1
 3497 00a0 D4E7     		b	.L330
 3498              	.LVL499:
 3499              	.L348:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 3500              		.loc 1 1549 0
 3501 00a2 0023     		movs	r3, #0
 3502 00a4 E361     		str	r3, [r4, #28]
 3503 00a6 0420     		movs	r0, #4
 3504              	.LVL500:
 3505 00a8 D0E7     		b	.L330
 3506              	.L349:
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 3507              		.loc 1 1558 0
 3508 00aa B289     		ldrh	r2, [r6, #12]
 3509 00ac 0021     		movs	r1, #0
 3510 00ae 06F13400 		add	r0, r6, #52
 3511 00b2 FFF7FEFF 		bl	mem_set
 3512              	.LVL501:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 3513              		.loc 1 1559 0
 3514 00b6 4146     		mov	r1, r8
 3515 00b8 3046     		mov	r0, r6
 3516 00ba FFF7FEFF 		bl	clust2sect
 3517              	.LVL502:
 3518 00be 3063     		str	r0, [r6, #48]
 3519 00c0 0027     		movs	r7, #0
 3520              	.LVL503:
 3521              	.L335:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 3522              		.loc 1 1559 0 is_stmt 0 discriminator 1
 3523 00c2 7389     		ldrh	r3, [r6, #10]
 3524 00c4 9F42     		cmp	r7, r3
 3525 00c6 0AD2     		bcs	.L350
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 3526              		.loc 1 1560 0 is_stmt 1
 3527 00c8 0123     		movs	r3, #1
 3528 00ca F370     		strb	r3, [r6, #3]
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 3529              		.loc 1 1561 0
 3530 00cc 3046     		mov	r0, r6
 3531 00ce FFF7FEFF 		bl	sync_window
 3532              	.LVL504:
 3533 00d2 E8B9     		cbnz	r0, .L345
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 3534              		.loc 1 1559 0 discriminator 2
 3535 00d4 0137     		adds	r7, r7, #1
 3536              	.LVL505:
 3537 00d6 336B     		ldr	r3, [r6, #48]
 3538 00d8 0133     		adds	r3, r3, #1
 3539 00da 3363     		str	r3, [r6, #48]
 3540 00dc F1E7     		b	.L335
 3541              	.L350:
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 3542              		.loc 1 1563 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 175


 3543 00de 336B     		ldr	r3, [r6, #48]
 3544 00e0 DB1B     		subs	r3, r3, r7
 3545 00e2 3363     		str	r3, [r6, #48]
 3546              	.LVL506:
 3547              	.L333:
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 3548              		.loc 1 1569 0
 3549 00e4 C4F81880 		str	r8, [r4, #24]
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3550              		.loc 1 1570 0
 3551 00e8 4146     		mov	r1, r8
 3552 00ea 3046     		mov	r0, r6
 3553 00ec FFF7FEFF 		bl	clust2sect
 3554              	.LVL507:
 3555 00f0 E061     		str	r0, [r4, #28]
 3556 00f2 A0E7     		b	.L331
 3557              	.LVL508:
 3558              	.L337:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3559              		.loc 1 1531 0
 3560 00f4 0420     		movs	r0, #4
 3561              	.LVL509:
 3562 00f6 A9E7     		b	.L330
 3563              	.LVL510:
 3564              	.L338:
 3565 00f8 0420     		movs	r0, #4
 3566              	.LVL511:
 3567 00fa A7E7     		b	.L330
 3568              	.LVL512:
 3569              	.L339:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 3570              		.loc 1 1544 0
 3571 00fc 0220     		movs	r0, #2
 3572              	.LVL513:
 3573 00fe A5E7     		b	.L330
 3574              	.LVL514:
 3575              	.L340:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 3576              		.loc 1 1545 0
 3577 0100 0120     		movs	r0, #1
 3578              	.LVL515:
 3579 0102 A3E7     		b	.L330
 3580              	.LVL516:
 3581              	.L341:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 3582              		.loc 1 1552 0
 3583 0104 0720     		movs	r0, #7
 3584              	.LVL517:
 3585 0106 A1E7     		b	.L330
 3586              	.LVL518:
 3587              	.L342:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3588              		.loc 1 1553 0
 3589 0108 0220     		movs	r0, #2
 3590              	.LVL519:
 3591 010a 9FE7     		b	.L330
 3592              	.LVL520:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 176


 3593              	.L343:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 3594              		.loc 1 1554 0
 3595 010c 0120     		movs	r0, #1
 3596              	.LVL521:
 3597 010e 9DE7     		b	.L330
 3598              	.LVL522:
 3599              	.L345:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 3600              		.loc 1 1561 0
 3601 0110 0120     		movs	r0, #1
 3602 0112 9BE7     		b	.L330
 3603              		.cfi_endproc
 3604              	.LFE153:
 3606              		.section	.text.dir_find,"ax",%progbits
 3607              		.align	1
 3608              		.syntax unified
 3609              		.thumb
 3610              		.thumb_func
 3611              		.fpu fpv4-sp-d16
 3613              	dir_find:
 3614              	.LFB158:
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3615              		.loc 1 2213 0
 3616              		.cfi_startproc
 3617              		@ args = 0, pretend = 0, frame = 0
 3618              		@ frame_needed = 0, uses_anonymous_args = 0
 3619              	.LVL523:
 3620 0000 70B5     		push	{r4, r5, r6, lr}
 3621              	.LCFI37:
 3622              		.cfi_def_cfa_offset 16
 3623              		.cfi_offset 4, -16
 3624              		.cfi_offset 5, -12
 3625              		.cfi_offset 6, -8
 3626              		.cfi_offset 14, -4
 3627 0002 0446     		mov	r4, r0
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 3628              		.loc 1 2215 0
 3629 0004 0668     		ldr	r6, [r0]
 3630              	.LVL524:
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 3631              		.loc 1 2221 0
 3632 0006 0021     		movs	r1, #0
 3633 0008 FFF7FEFF 		bl	dir_sdi
 3634              	.LVL525:
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 3635              		.loc 1 2222 0
 3636 000c 0546     		mov	r5, r0
 3637 000e 40B1     		cbz	r0, .L354
 3638              	.LVL526:
 3639              	.L352:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3640              		.loc 1 2281 0
 3641 0010 2846     		mov	r0, r5
 3642 0012 70BD     		pop	{r4, r5, r6, pc}
 3643              	.LVL527:
 3644              	.L353:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 177


2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 3645              		.loc 1 2277 0
 3646 0014 0021     		movs	r1, #0
 3647 0016 2046     		mov	r0, r4
 3648 0018 FFF7FEFF 		bl	dir_next
 3649              	.LVL528:
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3650              		.loc 1 2278 0
 3651 001c 0546     		mov	r5, r0
 3652 001e 0028     		cmp	r0, #0
 3653 0020 F6D1     		bne	.L352
 3654              	.L354:
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 3655              		.loc 1 2248 0
 3656 0022 E169     		ldr	r1, [r4, #28]
 3657 0024 3046     		mov	r0, r6
 3658              	.LVL529:
 3659 0026 FFF7FEFF 		bl	move_window
 3660              	.LVL530:
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 3661              		.loc 1 2249 0
 3662 002a 0546     		mov	r5, r0
 3663 002c 0028     		cmp	r0, #0
 3664 002e EFD1     		bne	.L352
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 3665              		.loc 1 2250 0
 3666 0030 206A     		ldr	r0, [r4, #32]
 3667              	.LVL531:
 3668 0032 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 3669              	.LVL532:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 3670              		.loc 1 2251 0
 3671 0034 7BB1     		cbz	r3, .L355
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
 3672              		.loc 1 2274 0
 3673 0036 C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
 3674              	.LVL533:
 3675 0038 03F03F03 		and	r3, r3, #63
 3676 003c A371     		strb	r3, [r4, #6]
 3677              	.LVL534:
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 3678              		.loc 1 2275 0
 3679 003e C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
 3680 0040 13F0080F 		tst	r3, #8
 3681 0044 E6D1     		bne	.L353
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 3682              		.loc 1 2275 0 is_stmt 0 discriminator 1
 3683 0046 0B22     		movs	r2, #11
 3684 0048 04F12401 		add	r1, r4, #36
 3685 004c FFF7FEFF 		bl	mem_cmp
 3686              	.LVL535:
 3687 0050 0028     		cmp	r0, #0
 3688 0052 DFD1     		bne	.L353
 3689 0054 DCE7     		b	.L352
 3690              	.LVL536:
 3691              	.L355:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 178


 3692              		.loc 1 2251 0 is_stmt 1
 3693 0056 0425     		movs	r5, #4
 3694 0058 DAE7     		b	.L352
 3695              		.cfi_endproc
 3696              	.LFE158:
 3698              		.section	.text.follow_path,"ax",%progbits
 3699              		.align	1
 3700              		.syntax unified
 3701              		.thumb
 3702              		.thumb_func
 3703              		.fpu fpv4-sp-d16
 3705              	follow_path:
 3706              	.LFB163:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3707              		.loc 1 2817 0
 3708              		.cfi_startproc
 3709              		@ args = 0, pretend = 0, frame = 8
 3710              		@ frame_needed = 0, uses_anonymous_args = 0
 3711              	.LVL537:
 3712 0000 30B5     		push	{r4, r5, lr}
 3713              	.LCFI38:
 3714              		.cfi_def_cfa_offset 12
 3715              		.cfi_offset 4, -12
 3716              		.cfi_offset 5, -8
 3717              		.cfi_offset 14, -4
 3718 0002 83B0     		sub	sp, sp, #12
 3719              	.LCFI39:
 3720              		.cfi_def_cfa_offset 24
 3721 0004 0446     		mov	r4, r0
 3722 0006 0191     		str	r1, [sp, #4]
 3723              	.LVL538:
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3724              		.loc 1 2821 0
 3725 0008 0568     		ldr	r5, [r0]
 3726              	.LVL539:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 3727              		.loc 1 2830 0
 3728 000a 01E0     		b	.L358
 3729              	.L359:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 3730              		.loc 1 2830 0 is_stmt 0 discriminator 4
 3731 000c 0133     		adds	r3, r3, #1
 3732 000e 0193     		str	r3, [sp, #4]
 3733              	.L358:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 3734              		.loc 1 2830 0 discriminator 1
 3735 0010 019B     		ldr	r3, [sp, #4]
 3736 0012 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3737 0014 2F2A     		cmp	r2, #47
 3738 0016 F9D0     		beq	.L359
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 3739              		.loc 1 2830 0 discriminator 3
 3740 0018 5C2A     		cmp	r2, #92
 3741 001a F7D0     		beq	.L359
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3742              		.loc 1 2831 0 is_stmt 1
 3743 001c 0022     		movs	r2, #0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 179


 3744 001e A260     		str	r2, [r4, #8]
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 3745              		.loc 1 2850 0
 3746 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3747 0022 1F2B     		cmp	r3, #31
 3748 0024 21D9     		bls	.L366
 3749              	.LVL540:
 3750              	.L360:
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3751              		.loc 1 2856 0
 3752 0026 01A9     		add	r1, sp, #4
 3753 0028 2046     		mov	r0, r4
 3754 002a FFF7FEFF 		bl	create_name
 3755              	.LVL541:
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 3756              		.loc 1 2857 0
 3757 002e 0346     		mov	r3, r0
 3758 0030 18BB     		cbnz	r0, .L361
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 3759              		.loc 1 2858 0
 3760 0032 2046     		mov	r0, r4
 3761              	.LVL542:
 3762 0034 FFF7FEFF 		bl	dir_find
 3763              	.LVL543:
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 3764              		.loc 1 2859 0
 3765 0038 94F82F20 		ldrb	r2, [r4, #47]	@ zero_extendqisi2
 3766              	.LVL544:
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 3767              		.loc 1 2860 0
 3768 003c 0346     		mov	r3, r0
 3769 003e F8B9     		cbnz	r0, .L367
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 3770              		.loc 1 2872 0
 3771 0040 12F0040F 		tst	r2, #4
 3772 0044 19D1     		bne	.L361
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 3773              		.loc 1 2874 0
 3774 0046 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 3775 0048 13F0100F 		tst	r3, #16
 3776 004c 1FD0     		beq	.L364
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3777              		.loc 1 2888 0
 3778 004e 05F13401 		add	r1, r5, #52
 3779 0052 6069     		ldr	r0, [r4, #20]
 3780              	.LVL545:
 3781 0054 AA89     		ldrh	r2, [r5, #12]
 3782              	.LVL546:
 3783 0056 B0FBF2F3 		udiv	r3, r0, r2
 3784 005a 02FB1303 		mls	r3, r2, r3, r0
 3785 005e 1944     		add	r1, r1, r3
 3786 0060 2846     		mov	r0, r5
 3787 0062 FFF7FEFF 		bl	ld_clust
 3788              	.LVL547:
 3789 0066 A060     		str	r0, [r4, #8]
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3790              		.loc 1 2856 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 180


 3791 0068 DDE7     		b	.L360
 3792              	.LVL548:
 3793              	.L366:
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 3794              		.loc 1 2851 0
 3795 006a 8023     		movs	r3, #128
 3796 006c 84F82F30 		strb	r3, [r4, #47]
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3797              		.loc 1 2852 0
 3798 0070 1146     		mov	r1, r2
 3799              	.LVL549:
 3800 0072 2046     		mov	r0, r4
 3801              	.LVL550:
 3802 0074 FFF7FEFF 		bl	dir_sdi
 3803              	.LVL551:
 3804 0078 0346     		mov	r3, r0
 3805              	.LVL552:
 3806              	.L361:
2894:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3807              		.loc 1 2894 0
 3808 007a 1846     		mov	r0, r3
 3809 007c 03B0     		add	sp, sp, #12
 3810              	.LCFI40:
 3811              		.cfi_remember_state
 3812              		.cfi_def_cfa_offset 12
 3813              		@ sp needed
 3814 007e 30BD     		pop	{r4, r5, pc}
 3815              	.LVL553:
 3816              	.L367:
 3817              	.LCFI41:
 3818              		.cfi_restore_state
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 3819              		.loc 1 2861 0
 3820 0080 0428     		cmp	r0, #4
 3821 0082 FAD1     		bne	.L361
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 3822              		.loc 1 2867 0
 3823 0084 12F0040F 		tst	r2, #4
 3824 0088 F7D1     		bne	.L361
 3825 008a 0523     		movs	r3, #5
 3826 008c F5E7     		b	.L361
 3827              	.L364:
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3828              		.loc 1 2875 0
 3829 008e 0523     		movs	r3, #5
 3830 0090 F3E7     		b	.L361
 3831              		.cfi_endproc
 3832              	.LFE163:
 3834              		.section	.text.dir_alloc,"ax",%progbits
 3835              		.align	1
 3836              		.syntax unified
 3837              		.thumb
 3838              		.thumb_func
 3839              		.fpu fpv4-sp-d16
 3841              	dir_alloc:
 3842              	.LFB154:
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 181


 3843              		.loc 1 1593 0
 3844              		.cfi_startproc
 3845              		@ args = 0, pretend = 0, frame = 0
 3846              		@ frame_needed = 0, uses_anonymous_args = 0
 3847              	.LVL554:
 3848 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3849              	.LCFI42:
 3850              		.cfi_def_cfa_offset 24
 3851              		.cfi_offset 3, -24
 3852              		.cfi_offset 4, -20
 3853              		.cfi_offset 5, -16
 3854              		.cfi_offset 6, -12
 3855              		.cfi_offset 7, -8
 3856              		.cfi_offset 14, -4
 3857 0002 0446     		mov	r4, r0
 3858 0004 0F46     		mov	r7, r1
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3859              		.loc 1 1596 0
 3860 0006 0668     		ldr	r6, [r0]
 3861              	.LVL555:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3862              		.loc 1 1599 0
 3863 0008 0021     		movs	r1, #0
 3864              	.LVL556:
 3865 000a FFF7FEFF 		bl	dir_sdi
 3866              	.LVL557:
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 3867              		.loc 1 1600 0
 3868 000e 0346     		mov	r3, r0
 3869 0010 C0B9     		cbnz	r0, .L369
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 3870              		.loc 1 1601 0
 3871 0012 0025     		movs	r5, #0
 3872 0014 08E0     		b	.L372
 3873              	.LVL558:
 3874              	.L370:
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 3875              		.loc 1 1610 0
 3876 0016 0135     		adds	r5, r5, #1
 3877              	.LVL559:
 3878 0018 BD42     		cmp	r5, r7
 3879 001a 13D0     		beq	.L369
 3880              	.LVL560:
 3881              	.L371:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 3882              		.loc 1 1614 0
 3883 001c 0121     		movs	r1, #1
 3884 001e 2046     		mov	r0, r4
 3885              	.LVL561:
 3886 0020 FFF7FEFF 		bl	dir_next
 3887              	.LVL562:
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3888              		.loc 1 1615 0
 3889 0024 0346     		mov	r3, r0
 3890 0026 68B9     		cbnz	r0, .L369
 3891              	.LVL563:
 3892              	.L372:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 182


1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3893              		.loc 1 1603 0
 3894 0028 E169     		ldr	r1, [r4, #28]
 3895 002a 3046     		mov	r0, r6
 3896              	.LVL564:
 3897 002c FFF7FEFF 		bl	move_window
 3898              	.LVL565:
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 3899              		.loc 1 1604 0
 3900 0030 0346     		mov	r3, r0
 3901 0032 38B9     		cbnz	r0, .L369
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 3902              		.loc 1 1608 0
 3903 0034 226A     		ldr	r2, [r4, #32]
 3904 0036 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3905 0038 E52A     		cmp	r2, #229
 3906 003a ECD0     		beq	.L370
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 3907              		.loc 1 1608 0 is_stmt 0 discriminator 1
 3908 003c 002A     		cmp	r2, #0
 3909 003e EAD0     		beq	.L370
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3910              		.loc 1 1612 0 is_stmt 1
 3911 0040 0025     		movs	r5, #0
 3912              	.LVL566:
 3913 0042 EBE7     		b	.L371
 3914              	.L369:
 3915              	.LVL567:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 3916              		.loc 1 1618 0
 3917 0044 042B     		cmp	r3, #4
 3918 0046 01D0     		beq	.L377
 3919              	.LVL568:
 3920              	.L373:
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3921              		.loc 1 1620 0
 3922 0048 1846     		mov	r0, r3
 3923 004a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3924              	.LVL569:
 3925              	.L377:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 3926              		.loc 1 1618 0
 3927 004c 0723     		movs	r3, #7
 3928              	.LVL570:
 3929 004e FBE7     		b	.L373
 3930              		.cfi_endproc
 3931              	.LFE154:
 3933              		.section	.text.dir_register,"ax",%progbits
 3934              		.align	1
 3935              		.syntax unified
 3936              		.thumb
 3937              		.thumb_func
 3938              		.fpu fpv4-sp-d16
 3940              	dir_register:
 3941              	.LFB159:
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3942              		.loc 1 2295 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 183


 3943              		.cfi_startproc
 3944              		@ args = 0, pretend = 0, frame = 0
 3945              		@ frame_needed = 0, uses_anonymous_args = 0
 3946              	.LVL571:
 3947 0000 70B5     		push	{r4, r5, r6, lr}
 3948              	.LCFI43:
 3949              		.cfi_def_cfa_offset 16
 3950              		.cfi_offset 4, -16
 3951              		.cfi_offset 5, -12
 3952              		.cfi_offset 6, -8
 3953              		.cfi_offset 14, -4
 3954 0002 0446     		mov	r4, r0
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 3955              		.loc 1 2297 0
 3956 0004 0668     		ldr	r6, [r0]
 3957              	.LVL572:
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3958              		.loc 1 2366 0
 3959 0006 0121     		movs	r1, #1
 3960 0008 FFF7FEFF 		bl	dir_alloc
 3961              	.LVL573:
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 3962              		.loc 1 2371 0
 3963 000c 0546     		mov	r5, r0
 3964 000e 08B1     		cbz	r0, .L381
 3965              	.LVL574:
 3966              	.L379:
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3967              		.loc 1 2384 0
 3968 0010 2846     		mov	r0, r5
 3969 0012 70BD     		pop	{r4, r5, r6, pc}
 3970              	.LVL575:
 3971              	.L381:
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3972              		.loc 1 2372 0
 3973 0014 E169     		ldr	r1, [r4, #28]
 3974 0016 3046     		mov	r0, r6
 3975              	.LVL576:
 3976 0018 FFF7FEFF 		bl	move_window
 3977              	.LVL577:
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 3978              		.loc 1 2373 0
 3979 001c 0546     		mov	r5, r0
 3980 001e 0028     		cmp	r0, #0
 3981 0020 F6D1     		bne	.L379
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 3982              		.loc 1 2374 0
 3983 0022 2022     		movs	r2, #32
 3984 0024 0021     		movs	r1, #0
 3985 0026 206A     		ldr	r0, [r4, #32]
 3986              	.LVL578:
 3987 0028 FFF7FEFF 		bl	mem_set
 3988              	.LVL579:
2375:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 3989              		.loc 1 2375 0
 3990 002c 0B22     		movs	r2, #11
 3991 002e 04F12401 		add	r1, r4, #36
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 184


 3992 0032 206A     		ldr	r0, [r4, #32]
 3993 0034 FFF7FEFF 		bl	mem_cpy
 3994              	.LVL580:
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3995              		.loc 1 2379 0
 3996 0038 0123     		movs	r3, #1
 3997 003a F370     		strb	r3, [r6, #3]
 3998 003c E8E7     		b	.L379
 3999              		.cfi_endproc
 4000              	.LFE159:
 4002              		.section	.text.dir_read,"ax",%progbits
 4003              		.align	1
 4004              		.syntax unified
 4005              		.thumb
 4006              		.thumb_func
 4007              		.fpu fpv4-sp-d16
 4009              	dir_read:
 4010              	.LFB157:
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 4011              		.loc 1 2135 0
 4012              		.cfi_startproc
 4013              		@ args = 0, pretend = 0, frame = 0
 4014              		@ frame_needed = 0, uses_anonymous_args = 0
 4015              	.LVL581:
 4016 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4017              	.LCFI44:
 4018              		.cfi_def_cfa_offset 24
 4019              		.cfi_offset 3, -24
 4020              		.cfi_offset 4, -20
 4021              		.cfi_offset 5, -16
 4022              		.cfi_offset 6, -12
 4023              		.cfi_offset 7, -8
 4024              		.cfi_offset 14, -4
 4025 0002 0446     		mov	r4, r0
 4026 0004 0E46     		mov	r6, r1
 4027              	.LVL582:
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 4028              		.loc 1 2137 0
 4029 0006 0568     		ldr	r5, [r0]
 4030              	.LVL583:
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4031              		.loc 1 2136 0
 4032 0008 0427     		movs	r7, #4
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4033              		.loc 1 2143 0
 4034 000a 05E0     		b	.L383
 4035              	.LVL584:
 4036              	.L385:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4037              		.loc 1 2193 0
 4038 000c 0021     		movs	r1, #0
 4039 000e 2046     		mov	r0, r4
 4040              	.LVL585:
 4041 0010 FFF7FEFF 		bl	dir_next
 4042              	.LVL586:
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4043              		.loc 1 2194 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 185


 4044 0014 0746     		mov	r7, r0
 4045 0016 E8B9     		cbnz	r0, .L384
 4046              	.LVL587:
 4047              	.L383:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4048              		.loc 1 2143 0
 4049 0018 E169     		ldr	r1, [r4, #28]
 4050 001a D9B1     		cbz	r1, .L384
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4051              		.loc 1 2144 0
 4052 001c 2846     		mov	r0, r5
 4053 001e FFF7FEFF 		bl	move_window
 4054              	.LVL588:
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 4055              		.loc 1 2145 0
 4056 0022 0746     		mov	r7, r0
 4057 0024 B0B9     		cbnz	r0, .L384
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4058              		.loc 1 2146 0
 4059 0026 236A     		ldr	r3, [r4, #32]
 4060 0028 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 4061              	.LVL589:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4062              		.loc 1 2147 0
 4063 002a 92B1     		cbz	r2, .L388
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4064              		.loc 1 2167 0
 4065 002c DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 4066 002e 03F03F03 		and	r3, r3, #63
 4067              	.LVL590:
 4068 0032 A371     		strb	r3, [r4, #6]
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4069              		.loc 1 2188 0
 4070 0034 E52A     		cmp	r2, #229
 4071 0036 E9D0     		beq	.L385
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4072              		.loc 1 2188 0 is_stmt 0 discriminator 1
 4073 0038 2E2A     		cmp	r2, #46
 4074 003a E7D0     		beq	.L385
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4075              		.loc 1 2188 0 discriminator 2
 4076 003c 0F2B     		cmp	r3, #15
 4077 003e E5D0     		beq	.L385
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4078              		.loc 1 2188 0 discriminator 3
 4079 0040 23F02003 		bic	r3, r3, #32
 4080              	.LVL591:
 4081 0044 082B     		cmp	r3, #8
 4082 0046 14BF     		ite	ne
 4083 0048 0023     		movne	r3, #0
 4084 004a 0123     		moveq	r3, #1
 4085 004c B342     		cmp	r3, r6
 4086 004e DDD1     		bne	.L385
 4087 0050 00E0     		b	.L384
 4088              	.LVL592:
 4089              	.L388:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 186


 4090              		.loc 1 2148 0 is_stmt 1
 4091 0052 0427     		movs	r7, #4
 4092              	.LVL593:
 4093              	.L384:
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4094              		.loc 1 2197 0
 4095 0054 0FB1     		cbz	r7, .L387
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4096              		.loc 1 2197 0 is_stmt 0 discriminator 1
 4097 0056 0023     		movs	r3, #0
 4098 0058 E361     		str	r3, [r4, #28]
 4099              	.L387:
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4100              		.loc 1 2199 0 is_stmt 1
 4101 005a 3846     		mov	r0, r7
 4102 005c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4103              		.cfi_endproc
 4104              	.LFE157:
 4106              		.section	.text.sync_fs,"ax",%progbits
 4107              		.align	1
 4108              		.syntax unified
 4109              		.thumb
 4110              		.thumb_func
 4111              		.fpu fpv4-sp-d16
 4113              	sync_fs:
 4114              	.LFB145:
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4115              		.loc 1 947 0
 4116              		.cfi_startproc
 4117              		@ args = 0, pretend = 0, frame = 0
 4118              		@ frame_needed = 0, uses_anonymous_args = 0
 4119              	.LVL594:
 4120 0000 70B5     		push	{r4, r5, r6, lr}
 4121              	.LCFI45:
 4122              		.cfi_def_cfa_offset 16
 4123              		.cfi_offset 4, -16
 4124              		.cfi_offset 5, -12
 4125              		.cfi_offset 6, -8
 4126              		.cfi_offset 14, -4
 4127 0002 0446     		mov	r4, r0
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4128              		.loc 1 951 0
 4129 0004 FFF7FEFF 		bl	sync_window
 4130              	.LVL595:
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 4131              		.loc 1 952 0
 4132 0008 0546     		mov	r5, r0
 4133 000a 48B9     		cbnz	r0, .L391
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 4134              		.loc 1 954 0
 4135 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 4136 000e 032B     		cmp	r3, #3
 4137 0010 08D0     		beq	.L395
 4138              	.LVL596:
 4139              	.L392:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4140              		.loc 1 968 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 187


 4141 0012 0022     		movs	r2, #0
 4142 0014 1146     		mov	r1, r2
 4143 0016 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 4144 0018 FFF7FEFF 		bl	disk_ioctl
 4145              	.LVL597:
 4146 001c 00B1     		cbz	r0, .L391
 4147 001e 0125     		movs	r5, #1
 4148              	.L391:
 4149              	.LVL598:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4150              		.loc 1 972 0
 4151 0020 2846     		mov	r0, r5
 4152 0022 70BD     		pop	{r4, r5, r6, pc}
 4153              	.LVL599:
 4154              	.L395:
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 4155              		.loc 1 954 0 discriminator 1
 4156 0024 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 4157 0026 012B     		cmp	r3, #1
 4158 0028 F3D1     		bne	.L392
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 4159              		.loc 1 956 0
 4160 002a 04F13406 		add	r6, r4, #52
 4161 002e A289     		ldrh	r2, [r4, #12]
 4162 0030 0021     		movs	r1, #0
 4163 0032 3046     		mov	r0, r6
 4164              	.LVL600:
 4165 0034 FFF7FEFF 		bl	mem_set
 4166              	.LVL601:
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 4167              		.loc 1 957 0
 4168 0038 4AF65521 		movw	r1, #43605
 4169 003c 04F23220 		addw	r0, r4, #562
 4170 0040 FFF7FEFF 		bl	st_word
 4171              	.LVL602:
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 4172              		.loc 1 958 0
 4173 0044 0E49     		ldr	r1, .L396
 4174 0046 3046     		mov	r0, r6
 4175 0048 FFF7FEFF 		bl	st_dword
 4176              	.LVL603:
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 4177              		.loc 1 959 0
 4178 004c 0D49     		ldr	r1, .L396+4
 4179 004e 04F50670 		add	r0, r4, #536
 4180 0052 FFF7FEFF 		bl	st_dword
 4181              	.LVL604:
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 4182              		.loc 1 960 0
 4183 0056 6169     		ldr	r1, [r4, #20]
 4184 0058 04F50770 		add	r0, r4, #540
 4185 005c FFF7FEFF 		bl	st_dword
 4186              	.LVL605:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 4187              		.loc 1 961 0
 4188 0060 2169     		ldr	r1, [r4, #16]
 4189 0062 04F50870 		add	r0, r4, #544
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 188


 4190 0066 FFF7FEFF 		bl	st_dword
 4191              	.LVL606:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 4192              		.loc 1 963 0
 4193 006a 226A     		ldr	r2, [r4, #32]
 4194 006c 0132     		adds	r2, r2, #1
 4195 006e 2263     		str	r2, [r4, #48]
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 4196              		.loc 1 964 0
 4197 0070 0123     		movs	r3, #1
 4198 0072 3146     		mov	r1, r6
 4199 0074 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 4200 0076 FFF7FEFF 		bl	disk_write
 4201              	.LVL607:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4202              		.loc 1 965 0
 4203 007a 0023     		movs	r3, #0
 4204 007c 2371     		strb	r3, [r4, #4]
 4205 007e C8E7     		b	.L392
 4206              	.L397:
 4207              		.align	2
 4208              	.L396:
 4209 0080 52526141 		.word	1096897106
 4210 0084 72724161 		.word	1631679090
 4211              		.cfi_endproc
 4212              	.LFE145:
 4214              		.section	.text.f_mount,"ax",%progbits
 4215              		.align	1
 4216              		.global	f_mount
 4217              		.syntax unified
 4218              		.thumb
 4219              		.thumb_func
 4220              		.fpu fpv4-sp-d16
 4222              	f_mount:
 4223              	.LFB168:
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 4224              		.loc 1 3265 0
 4225              		.cfi_startproc
 4226              		@ args = 0, pretend = 0, frame = 16
 4227              		@ frame_needed = 0, uses_anonymous_args = 0
 4228              	.LVL608:
 4229 0000 70B5     		push	{r4, r5, r6, lr}
 4230              	.LCFI46:
 4231              		.cfi_def_cfa_offset 16
 4232              		.cfi_offset 4, -16
 4233              		.cfi_offset 5, -12
 4234              		.cfi_offset 6, -8
 4235              		.cfi_offset 14, -4
 4236 0002 84B0     		sub	sp, sp, #16
 4237              	.LCFI47:
 4238              		.cfi_def_cfa_offset 32
 4239 0004 0190     		str	r0, [sp, #4]
 4240 0006 0091     		str	r1, [sp]
 4241 0008 1646     		mov	r6, r2
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4242              		.loc 1 3269 0
 4243 000a 04A8     		add	r0, sp, #16
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 189


 4244              	.LVL609:
 4245 000c 40F8041D 		str	r1, [r0, #-4]!
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 4246              		.loc 1 3273 0
 4247 0010 FFF7FEFF 		bl	get_ldnumber
 4248              	.LVL610:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 4249              		.loc 1 3274 0
 4250 0014 041E     		subs	r4, r0, #0
 4251 0016 1CDB     		blt	.L402
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4252              		.loc 1 3275 0
 4253 0018 104B     		ldr	r3, .L407
 4254 001a 53F82450 		ldr	r5, [r3, r4, lsl #2]
 4255              	.LVL611:
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 4256              		.loc 1 3277 0
 4257 001e 25B1     		cbz	r5, .L400
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4258              		.loc 1 3279 0
 4259 0020 2846     		mov	r0, r5
 4260              	.LVL612:
 4261 0022 FFF7FEFF 		bl	clear_lock
 4262              	.LVL613:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4263              		.loc 1 3284 0
 4264 0026 0023     		movs	r3, #0
 4265 0028 2B70     		strb	r3, [r5]
 4266              	.L400:
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 4267              		.loc 1 3287 0
 4268 002a 019B     		ldr	r3, [sp, #4]
 4269 002c 0BB1     		cbz	r3, .L401
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
 4270              		.loc 1 3288 0
 4271 002e 0022     		movs	r2, #0
 4272 0030 1A70     		strb	r2, [r3]
 4273              	.L401:
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4274              		.loc 1 3293 0
 4275 0032 019B     		ldr	r3, [sp, #4]
 4276 0034 094A     		ldr	r2, .L407
 4277 0036 42F82430 		str	r3, [r2, r4, lsl #2]
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4278              		.loc 1 3295 0
 4279 003a 63B1     		cbz	r3, .L403
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4280              		.loc 1 3295 0 is_stmt 0 discriminator 2
 4281 003c 012E     		cmp	r6, #1
 4282 003e 02D0     		beq	.L406
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4283              		.loc 1 3295 0
 4284 0040 0020     		movs	r0, #0
 4285              	.LVL614:
 4286              	.L399:
3299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4287              		.loc 1 3299 0 is_stmt 1
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 190


 4288 0042 04B0     		add	sp, sp, #16
 4289              	.LCFI48:
 4290              		.cfi_remember_state
 4291              		.cfi_def_cfa_offset 16
 4292              		@ sp needed
 4293 0044 70BD     		pop	{r4, r5, r6, pc}
 4294              	.LVL615:
 4295              	.L406:
 4296              	.LCFI49:
 4297              		.cfi_restore_state
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 4298              		.loc 1 3297 0
 4299 0046 0022     		movs	r2, #0
 4300 0048 01A9     		add	r1, sp, #4
 4301 004a 6846     		mov	r0, sp
 4302 004c FFF7FEFF 		bl	find_volume
 4303              	.LVL616:
3298:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4304              		.loc 1 3298 0
 4305 0050 F7E7     		b	.L399
 4306              	.LVL617:
 4307              	.L402:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 4308              		.loc 1 3274 0
 4309 0052 0B20     		movs	r0, #11
 4310              	.LVL618:
 4311 0054 F5E7     		b	.L399
 4312              	.LVL619:
 4313              	.L403:
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4314              		.loc 1 3295 0
 4315 0056 0020     		movs	r0, #0
 4316 0058 F3E7     		b	.L399
 4317              	.L408:
 4318 005a 00BF     		.align	2
 4319              	.L407:
 4320 005c 00000000 		.word	.LANCHOR2
 4321              		.cfi_endproc
 4322              	.LFE168:
 4324              		.section	.text.f_open,"ax",%progbits
 4325              		.align	1
 4326              		.global	f_open
 4327              		.syntax unified
 4328              		.thumb
 4329              		.thumb_func
 4330              		.fpu fpv4-sp-d16
 4332              	f_open:
 4333              	.LFB169:
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4334              		.loc 1 3313 0
 4335              		.cfi_startproc
 4336              		@ args = 0, pretend = 0, frame = 64
 4337              		@ frame_needed = 0, uses_anonymous_args = 0
 4338              	.LVL620:
 4339 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 4340              	.LCFI50:
 4341              		.cfi_def_cfa_offset 28
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 191


 4342              		.cfi_offset 4, -28
 4343              		.cfi_offset 5, -24
 4344              		.cfi_offset 6, -20
 4345              		.cfi_offset 7, -16
 4346              		.cfi_offset 8, -12
 4347              		.cfi_offset 9, -8
 4348              		.cfi_offset 14, -4
 4349 0004 91B0     		sub	sp, sp, #68
 4350              	.LCFI51:
 4351              		.cfi_def_cfa_offset 96
 4352 0006 0191     		str	r1, [sp, #4]
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4353              		.loc 1 3324 0
 4354 0008 0028     		cmp	r0, #0
 4355 000a 00F01281 		beq	.L426
 4356 000e 0546     		mov	r5, r0
 4357 0010 1646     		mov	r6, r2
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 4358              		.loc 1 3327 0
 4359 0012 02F03F07 		and	r7, r2, #63
 4360              	.LVL621:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4361              		.loc 1 3328 0
 4362 0016 3A46     		mov	r2, r7
 4363 0018 03A9     		add	r1, sp, #12
 4364              	.LVL622:
 4365 001a 01A8     		add	r0, sp, #4
 4366              	.LVL623:
 4367 001c FFF7FEFF 		bl	find_volume
 4368              	.LVL624:
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 4369              		.loc 1 3329 0
 4370 0020 0446     		mov	r4, r0
 4371 0022 30B1     		cbz	r0, .L439
 4372              	.LVL625:
 4373              	.L411:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4374              		.loc 1 3499 0
 4375 0024 0CB1     		cbz	r4, .L410
 4376              	.LVL626:
 4377              	.L425:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4378              		.loc 1 3499 0 is_stmt 0 discriminator 1
 4379 0026 0023     		movs	r3, #0
 4380 0028 2B60     		str	r3, [r5]
 4381              	.LVL627:
 4382              	.L410:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4383              		.loc 1 3502 0 is_stmt 1
 4384 002a 2046     		mov	r0, r4
 4385 002c 11B0     		add	sp, sp, #68
 4386              	.LCFI52:
 4387              		.cfi_remember_state
 4388              		.cfi_def_cfa_offset 28
 4389              		@ sp needed
 4390 002e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4391              	.LVL628:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 192


 4392              	.L439:
 4393              	.LCFI53:
 4394              		.cfi_restore_state
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 4395              		.loc 1 3330 0
 4396 0032 039B     		ldr	r3, [sp, #12]
 4397 0034 0493     		str	r3, [sp, #16]
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 4398              		.loc 1 3332 0
 4399 0036 0199     		ldr	r1, [sp, #4]
 4400 0038 04A8     		add	r0, sp, #16
 4401              	.LVL629:
 4402 003a FFF7FEFF 		bl	follow_path
 4403              	.LVL630:
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 4404              		.loc 1 3334 0
 4405 003e 0446     		mov	r4, r0
 4406 0040 60B9     		cbnz	r0, .L412
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 4407              		.loc 1 3335 0
 4408 0042 9DF93F30 		ldrsb	r3, [sp, #63]
 4409 0046 002B     		cmp	r3, #0
 4410 0048 51DB     		blt	.L427
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4411              		.loc 1 3340 0
 4412 004a 37F00103 		bics	r3, r7, #1
 4413 004e 14BF     		ite	ne
 4414 0050 0121     		movne	r1, #1
 4415 0052 0021     		moveq	r1, #0
 4416 0054 04A8     		add	r0, sp, #16
 4417              	.LVL631:
 4418 0056 FFF7FEFF 		bl	chk_lock
 4419              	.LVL632:
 4420 005a 0446     		mov	r4, r0
 4421              	.LVL633:
 4422              	.L412:
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 4423              		.loc 1 3345 0
 4424 005c 16F01C0F 		tst	r6, #28
 4425 0060 5BD0     		beq	.L413
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 4426              		.loc 1 3346 0
 4427 0062 002C     		cmp	r4, #0
 4428 0064 4FD0     		beq	.L414
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 4429              		.loc 1 3347 0
 4430 0066 042C     		cmp	r4, #4
 4431 0068 43D0     		beq	.L440
 4432              	.LVL634:
 4433              	.L415:
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4434              		.loc 1 3354 0
 4435 006a 47F00807 		orr	r7, r7, #8
 4436              	.LVL635:
 4437              	.L416:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 4438              		.loc 1 3363 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 193


 4439 006e 002C     		cmp	r4, #0
 4440 0070 62D1     		bne	.L417
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 4441              		.loc 1 3363 0 is_stmt 0 discriminator 1
 4442 0072 17F0080F 		tst	r7, #8
 4443 0076 5FD0     		beq	.L417
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4444              		.loc 1 3364 0 is_stmt 1
 4445 0078 FFF7FEFF 		bl	get_fattime
 4446              	.LVL636:
 4447 007c 0646     		mov	r6, r0
 4448              	.LVL637:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 4449              		.loc 1 3392 0
 4450 007e 0146     		mov	r1, r0
 4451 0080 0C98     		ldr	r0, [sp, #48]
 4452              	.LVL638:
 4453 0082 0E30     		adds	r0, r0, #14
 4454 0084 FFF7FEFF 		bl	st_dword
 4455              	.LVL639:
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 4456              		.loc 1 3393 0
 4457 0088 3146     		mov	r1, r6
 4458 008a 0C98     		ldr	r0, [sp, #48]
 4459 008c 1630     		adds	r0, r0, #22
 4460 008e FFF7FEFF 		bl	st_dword
 4461              	.LVL640:
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 4462              		.loc 1 3394 0
 4463 0092 0C9B     		ldr	r3, [sp, #48]
 4464 0094 2022     		movs	r2, #32
 4465 0096 DA72     		strb	r2, [r3, #11]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 4466              		.loc 1 3395 0
 4467 0098 039E     		ldr	r6, [sp, #12]
 4468              	.LVL641:
 4469 009a DDF83080 		ldr	r8, [sp, #48]
 4470 009e 4146     		mov	r1, r8
 4471 00a0 3046     		mov	r0, r6
 4472 00a2 FFF7FEFF 		bl	ld_clust
 4473              	.LVL642:
 4474 00a6 8146     		mov	r9, r0
 4475              	.LVL643:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 4476              		.loc 1 3396 0
 4477 00a8 0022     		movs	r2, #0
 4478 00aa 4146     		mov	r1, r8
 4479 00ac 3046     		mov	r0, r6
 4480              	.LVL644:
 4481 00ae FFF7FEFF 		bl	st_clust
 4482              	.LVL645:
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 4483              		.loc 1 3397 0
 4484 00b2 0021     		movs	r1, #0
 4485 00b4 0C98     		ldr	r0, [sp, #48]
 4486 00b6 1C30     		adds	r0, r0, #28
 4487 00b8 FFF7FEFF 		bl	st_dword
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 194


 4488              	.LVL646:
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4489              		.loc 1 3398 0
 4490 00bc 039B     		ldr	r3, [sp, #12]
 4491 00be 0122     		movs	r2, #1
 4492 00c0 DA70     		strb	r2, [r3, #3]
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 4493              		.loc 1 3400 0
 4494 00c2 B9F1000F 		cmp	r9, #0
 4495 00c6 37D0     		beq	.L417
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 4496              		.loc 1 3401 0
 4497 00c8 039B     		ldr	r3, [sp, #12]
 4498 00ca 1E6B     		ldr	r6, [r3, #48]
 4499              	.LVL647:
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 4500              		.loc 1 3402 0
 4501 00cc 0022     		movs	r2, #0
 4502 00ce 4946     		mov	r1, r9
 4503 00d0 04A8     		add	r0, sp, #16
 4504 00d2 FFF7FEFF 		bl	remove_chain
 4505              	.LVL648:
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 4506              		.loc 1 3403 0
 4507 00d6 0446     		mov	r4, r0
 4508 00d8 70BB     		cbnz	r0, .L417
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 4509              		.loc 1 3404 0
 4510 00da 3146     		mov	r1, r6
 4511 00dc 0398     		ldr	r0, [sp, #12]
 4512              	.LVL649:
 4513 00de FFF7FEFF 		bl	move_window
 4514              	.LVL650:
 4515 00e2 0446     		mov	r4, r0
 4516              	.LVL651:
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 4517              		.loc 1 3405 0
 4518 00e4 09F1FF33 		add	r3, r9, #-1
 4519 00e8 039A     		ldr	r2, [sp, #12]
 4520 00ea 1361     		str	r3, [r2, #16]
 4521 00ec 24E0     		b	.L417
 4522              	.LVL652:
 4523              	.L427:
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4524              		.loc 1 3336 0
 4525 00ee 0624     		movs	r4, #6
 4526 00f0 B4E7     		b	.L412
 4527              	.LVL653:
 4528              	.L440:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4529              		.loc 1 3349 0
 4530 00f2 FFF7FEFF 		bl	enq_lock
 4531              	.LVL654:
 4532 00f6 08B9     		cbnz	r0, .L441
 4533 00f8 1224     		movs	r4, #18
 4534              	.LVL655:
 4535 00fa B6E7     		b	.L415
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 195


 4536              	.LVL656:
 4537              	.L441:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4538              		.loc 1 3349 0 is_stmt 0 discriminator 1
 4539 00fc 04A8     		add	r0, sp, #16
 4540 00fe FFF7FEFF 		bl	dir_register
 4541              	.LVL657:
 4542 0102 0446     		mov	r4, r0
 4543              	.LVL658:
 4544 0104 B1E7     		b	.L415
 4545              	.LVL659:
 4546              	.L414:
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 4547              		.loc 1 3357 0 is_stmt 1
 4548 0106 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
 4549 010a 13F0110F 		tst	r3, #17
 4550 010e 12D1     		bne	.L429
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 4551              		.loc 1 3360 0
 4552 0110 16F0040F 		tst	r6, #4
 4553 0114 ABD0     		beq	.L416
 4554 0116 0824     		movs	r4, #8
 4555              	.LVL660:
 4556 0118 0EE0     		b	.L417
 4557              	.LVL661:
 4558              	.L413:
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 4559              		.loc 1 3412 0
 4560 011a 6CB9     		cbnz	r4, .L417
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 4561              		.loc 1 3413 0
 4562 011c 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
 4563 0120 13F0100F 		tst	r3, #16
 4564 0124 4ED1     		bne	.L431
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 4565              		.loc 1 3416 0
 4566 0126 16F0020F 		tst	r6, #2
 4567 012a 05D0     		beq	.L417
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 4568              		.loc 1 3416 0 is_stmt 0 discriminator 1
 4569 012c 13F0010F 		tst	r3, #1
 4570 0130 02D0     		beq	.L417
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4571              		.loc 1 3417 0 is_stmt 1
 4572 0132 0724     		movs	r4, #7
 4573              	.LVL662:
 4574 0134 16E0     		b	.L418
 4575              	.LVL663:
 4576              	.L429:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 4577              		.loc 1 3358 0
 4578 0136 0724     		movs	r4, #7
 4579              	.LVL664:
 4580              	.L417:
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 4581              		.loc 1 3422 0
 4582 0138 A4B9     		cbnz	r4, .L418
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 196


3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 4583              		.loc 1 3423 0
 4584 013a 17F0080F 		tst	r7, #8
 4585 013e 01D0     		beq	.L419
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 4586              		.loc 1 3424 0
 4587 0140 47F04007 		orr	r7, r7, #64
 4588              	.LVL665:
 4589              	.L419:
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 4590              		.loc 1 3425 0
 4591 0144 039B     		ldr	r3, [sp, #12]
 4592 0146 1B6B     		ldr	r3, [r3, #48]
 4593 0148 6B62     		str	r3, [r5, #36]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 4594              		.loc 1 3426 0
 4595 014a 0C9B     		ldr	r3, [sp, #48]
 4596 014c AB62     		str	r3, [r5, #40]
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 4597              		.loc 1 3428 0
 4598 014e 37F00103 		bics	r3, r7, #1
 4599 0152 14BF     		ite	ne
 4600 0154 0121     		movne	r1, #1
 4601 0156 0021     		moveq	r1, #0
 4602 0158 04A8     		add	r0, sp, #16
 4603 015a FFF7FEFF 		bl	inc_lock
 4604              	.LVL666:
 4605 015e 2861     		str	r0, [r5, #16]
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4606              		.loc 1 3429 0
 4607 0160 0028     		cmp	r0, #0
 4608 0162 64D0     		beq	.L433
 4609              	.LVL667:
 4610              	.L418:
3444:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4611              		.loc 1 3444 0
 4612 0164 002C     		cmp	r4, #0
 4613 0166 7FF45DAF 		bne	.L411
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 4614              		.loc 1 3456 0
 4615 016a 039E     		ldr	r6, [sp, #12]
 4616 016c DDF83080 		ldr	r8, [sp, #48]
 4617 0170 4146     		mov	r1, r8
 4618 0172 3046     		mov	r0, r6
 4619 0174 FFF7FEFF 		bl	ld_clust
 4620              	.LVL668:
 4621 0178 A860     		str	r0, [r5, #8]
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4622              		.loc 1 3457 0
 4623 017a 08F11C00 		add	r0, r8, #28
 4624 017e FFF7FEFF 		bl	ld_dword
 4625              	.LVL669:
 4626 0182 E860     		str	r0, [r5, #12]
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4627              		.loc 1 3460 0
 4628 0184 0021     		movs	r1, #0
 4629 0186 E962     		str	r1, [r5, #44]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 197


3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 4630              		.loc 1 3462 0
 4631 0188 2E60     		str	r6, [r5]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 4632              		.loc 1 3463 0
 4633 018a F388     		ldrh	r3, [r6, #6]
 4634 018c AB80     		strh	r3, [r5, #4]	@ movhi
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 4635              		.loc 1 3464 0
 4636 018e 2F75     		strb	r7, [r5, #20]
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 4637              		.loc 1 3465 0
 4638 0190 6975     		strb	r1, [r5, #21]
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 4639              		.loc 1 3466 0
 4640 0192 2962     		str	r1, [r5, #32]
3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4641              		.loc 1 3467 0
 4642 0194 A961     		str	r1, [r5, #24]
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4643              		.loc 1 3470 0
 4644 0196 05F13008 		add	r8, r5, #48
 4645 019a 4FF48052 		mov	r2, #4096
 4646 019e 4046     		mov	r0, r8
 4647 01a0 FFF7FEFF 		bl	mem_set
 4648              	.LVL670:
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 4649              		.loc 1 3472 0
 4650 01a4 17F0200F 		tst	r7, #32
 4651 01a8 3FF43CAF 		beq	.L411
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 4652              		.loc 1 3472 0 is_stmt 0 discriminator 1
 4653 01ac EE68     		ldr	r6, [r5, #12]
 4654 01ae 002E     		cmp	r6, #0
 4655 01b0 3FF438AF 		beq	.L411
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 4656              		.loc 1 3473 0 is_stmt 1
 4657 01b4 AE61     		str	r6, [r5, #24]
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 4658              		.loc 1 3474 0
 4659 01b6 039B     		ldr	r3, [sp, #12]
 4660 01b8 5A89     		ldrh	r2, [r3, #10]
 4661 01ba 9F89     		ldrh	r7, [r3, #12]
 4662              	.LVL671:
 4663 01bc 07FB02F7 		mul	r7, r7, r2
 4664              	.LVL672:
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 4665              		.loc 1 3475 0
 4666 01c0 A968     		ldr	r1, [r5, #8]
 4667              	.LVL673:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 4668              		.loc 1 3476 0
 4669 01c2 05E0     		b	.L420
 4670              	.LVL674:
 4671              	.L431:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 4672              		.loc 1 3414 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 198


 4673 01c4 0424     		movs	r4, #4
 4674              	.LVL675:
 4675 01c6 CDE7     		b	.L418
 4676              	.LVL676:
 4677              	.L421:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 4678              		.loc 1 3479 0
 4679 01c8 B1F1FF3F 		cmp	r1, #-1
 4680 01cc 0BD0     		beq	.L442
 4681              	.LVL677:
 4682              	.L422:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 4683              		.loc 1 3476 0 discriminator 2
 4684 01ce F61B     		subs	r6, r6, r7
 4685              	.LVL678:
 4686              	.L420:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 4687              		.loc 1 3476 0 is_stmt 0 discriminator 1
 4688 01d0 5CB9     		cbnz	r4, .L423
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 4689              		.loc 1 3476 0 discriminator 3
 4690 01d2 BE42     		cmp	r6, r7
 4691 01d4 09D9     		bls	.L423
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 4692              		.loc 1 3477 0 is_stmt 1
 4693 01d6 2846     		mov	r0, r5
 4694 01d8 FFF7FEFF 		bl	get_fat
 4695              	.LVL679:
 4696 01dc 0146     		mov	r1, r0
 4697              	.LVL680:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 4698              		.loc 1 3478 0
 4699 01de 0128     		cmp	r0, #1
 4700 01e0 F2D8     		bhi	.L421
 4701 01e2 0224     		movs	r4, #2
 4702              	.LVL681:
 4703 01e4 F0E7     		b	.L421
 4704              	.LVL682:
 4705              	.L442:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 4706              		.loc 1 3479 0
 4707 01e6 0124     		movs	r4, #1
 4708              	.LVL683:
 4709 01e8 F1E7     		b	.L422
 4710              	.LVL684:
 4711              	.L423:
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 4712              		.loc 1 3481 0
 4713 01ea E961     		str	r1, [r5, #28]
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 4714              		.loc 1 3482 0
 4715 01ec 002C     		cmp	r4, #0
 4716 01ee 7FF419AF 		bne	.L411
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 4717              		.loc 1 3482 0 is_stmt 0 discriminator 1
 4718 01f2 039F     		ldr	r7, [sp, #12]
 4719              	.LVL685:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 199


 4720 01f4 B7F80C90 		ldrh	r9, [r7, #12]
 4721 01f8 B6FBF9F3 		udiv	r3, r6, r9
 4722 01fc 09FB1363 		mls	r3, r9, r3, r6
 4723 0200 002B     		cmp	r3, #0
 4724 0202 3FF40FAF 		beq	.L411
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 4725              		.loc 1 3483 0 is_stmt 1
 4726 0206 3846     		mov	r0, r7
 4727 0208 FFF7FEFF 		bl	clust2sect
 4728              	.LVL686:
 4729 020c 08B9     		cbnz	r0, .L443
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 4730              		.loc 1 3484 0
 4731 020e 0224     		movs	r4, #2
 4732              	.LVL687:
 4733 0210 09E7     		b	.L425
 4734              	.LVL688:
 4735              	.L443:
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 4736              		.loc 1 3486 0
 4737 0212 B6FBF9F2 		udiv	r2, r6, r9
 4738 0216 0244     		add	r2, r2, r0
 4739 0218 2A62     		str	r2, [r5, #32]
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4740              		.loc 1 3488 0
 4741 021a 0123     		movs	r3, #1
 4742 021c 4146     		mov	r1, r8
 4743 021e 7878     		ldrb	r0, [r7, #1]	@ zero_extendqisi2
 4744              	.LVL689:
 4745 0220 FFF7FEFF 		bl	disk_read
 4746              	.LVL690:
 4747 0224 0028     		cmp	r0, #0
 4748 0226 3FF4FDAE 		beq	.L411
 4749 022a 0124     		movs	r4, #1
 4750              	.LVL691:
 4751 022c FBE6     		b	.L425
 4752              	.LVL692:
 4753              	.L433:
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4754              		.loc 1 3429 0
 4755 022e 0224     		movs	r4, #2
 4756              	.LVL693:
 4757 0230 F8E6     		b	.L411
 4758              	.LVL694:
 4759              	.L426:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4760              		.loc 1 3324 0
 4761 0232 0924     		movs	r4, #9
 4762 0234 F9E6     		b	.L410
 4763              		.cfi_endproc
 4764              	.LFE169:
 4766              		.section	.text.f_read,"ax",%progbits
 4767              		.align	1
 4768              		.global	f_read
 4769              		.syntax unified
 4770              		.thumb
 4771              		.thumb_func
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 200


 4772              		.fpu fpv4-sp-d16
 4774              	f_read:
 4775              	.LFB170:
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4776              		.loc 1 3517 0
 4777              		.cfi_startproc
 4778              		@ args = 0, pretend = 0, frame = 16
 4779              		@ frame_needed = 0, uses_anonymous_args = 0
 4780              	.LVL695:
 4781 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4782              	.LCFI54:
 4783              		.cfi_def_cfa_offset 36
 4784              		.cfi_offset 4, -36
 4785              		.cfi_offset 5, -32
 4786              		.cfi_offset 6, -28
 4787              		.cfi_offset 7, -24
 4788              		.cfi_offset 8, -20
 4789              		.cfi_offset 9, -16
 4790              		.cfi_offset 10, -12
 4791              		.cfi_offset 11, -8
 4792              		.cfi_offset 14, -4
 4793 0004 85B0     		sub	sp, sp, #20
 4794              	.LCFI55:
 4795              		.cfi_def_cfa_offset 56
 4796 0006 0446     		mov	r4, r0
 4797 0008 8946     		mov	r9, r1
 4798 000a 1546     		mov	r5, r2
 4799 000c 9846     		mov	r8, r3
 4800              	.LVL696:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 4801              		.loc 1 3526 0
 4802 000e 0023     		movs	r3, #0
 4803              	.LVL697:
 4804 0010 C8F80030 		str	r3, [r8]
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 4805              		.loc 1 3527 0
 4806 0014 0190     		str	r0, [sp, #4]
 4807 0016 03A9     		add	r1, sp, #12
 4808              	.LVL698:
 4809 0018 FFF7FEFF 		bl	validate
 4810              	.LVL699:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 4811              		.loc 1 3528 0
 4812 001c 0746     		mov	r7, r0
 4813 001e 0028     		cmp	r0, #0
 4814 0020 40F0AE80 		bne	.L445
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 4815              		.loc 1 3528 0 is_stmt 0 discriminator 2
 4816 0024 677D     		ldrb	r7, [r4, #21]	@ zero_extendqisi2
 4817              	.LVL700:
 4818 0026 002F     		cmp	r7, #0
 4819 0028 40F0AA80 		bne	.L445
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 4820              		.loc 1 3529 0 is_stmt 1
 4821 002c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 4822 002e 13F0010F 		tst	r3, #1
 4823 0032 00F0BC80 		beq	.L467
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 201


3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 4824              		.loc 1 3530 0
 4825 0036 E668     		ldr	r6, [r4, #12]
 4826 0038 A369     		ldr	r3, [r4, #24]
 4827 003a F61A     		subs	r6, r6, r3
 4828              	.LVL701:
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4829              		.loc 1 3531 0
 4830 003c AE42     		cmp	r6, r5
 4831 003e 60D3     		bcc	.L465
 4832 0040 2E46     		mov	r6, r5
 4833              	.LVL702:
 4834 0042 5EE0     		b	.L465
 4835              	.LVL703:
 4836              	.L450:
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 4837              		.loc 1 3542 0
 4838 0044 E36A     		ldr	r3, [r4, #44]
 4839 0046 1BB1     		cbz	r3, .L452
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 4840              		.loc 1 3543 0
 4841 0048 2046     		mov	r0, r4
 4842 004a FFF7FEFF 		bl	clmt_clust
 4843              	.LVL704:
 4844 004e 6CE0     		b	.L451
 4845              	.LVL705:
 4846              	.L452:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4847              		.loc 1 3547 0
 4848 0050 E169     		ldr	r1, [r4, #28]
 4849 0052 0198     		ldr	r0, [sp, #4]
 4850 0054 FFF7FEFF 		bl	get_fat
 4851              	.LVL706:
 4852 0058 67E0     		b	.L451
 4853              	.L474:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 4854              		.loc 1 3550 0 discriminator 1
 4855 005a 0227     		movs	r7, #2
 4856              	.LVL707:
 4857 005c 6775     		strb	r7, [r4, #21]
 4858 005e 8FE0     		b	.L445
 4859              	.LVL708:
 4860              	.L475:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 4861              		.loc 1 3551 0 discriminator 1
 4862 0060 0127     		movs	r7, #1
 4863              	.LVL709:
 4864 0062 6775     		strb	r7, [r4, #21]
 4865 0064 8CE0     		b	.L445
 4866              	.LVL710:
 4867              	.L476:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 4868              		.loc 1 3555 0 discriminator 1
 4869 0066 0227     		movs	r7, #2
 4870              	.LVL711:
 4871 0068 6775     		strb	r7, [r4, #21]
 4872 006a 89E0     		b	.L445
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 202


 4873              	.LVL712:
 4874              	.L458:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 4875              		.loc 1 3569 0
 4876 006c 94F91430 		ldrsb	r3, [r4, #20]
 4877 0070 002B     		cmp	r3, #0
 4878 0072 04DB     		blt	.L471
 4879              	.L459:
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 4880              		.loc 1 3574 0
 4881 0074 039B     		ldr	r3, [sp, #12]
 4882 0076 9B89     		ldrh	r3, [r3, #12]
 4883 0078 0AFB03FA 		mul	r10, r10, r3
 4884              	.LVL713:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4885              		.loc 1 3575 0
 4886 007c 36E0     		b	.L460
 4887              	.LVL714:
 4888              	.L471:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 4889              		.loc 1 3569 0 discriminator 1
 4890 007e 206A     		ldr	r0, [r4, #32]
 4891 0080 009B     		ldr	r3, [sp]
 4892 0082 C01A     		subs	r0, r0, r3
 4893 0084 5045     		cmp	r0, r10
 4894 0086 F5D2     		bcs	.L459
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 4895              		.loc 1 3570 0
 4896 0088 039B     		ldr	r3, [sp, #12]
 4897 008a 9B89     		ldrh	r3, [r3, #12]
 4898 008c 1A46     		mov	r2, r3
 4899 008e 04F13001 		add	r1, r4, #48
 4900 0092 03FB0090 		mla	r0, r3, r0, r9
 4901 0096 FFF7FEFF 		bl	mem_cpy
 4902              	.LVL715:
 4903 009a EBE7     		b	.L459
 4904              	.LVL716:
 4905              	.L456:
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4906              		.loc 1 3578 0
 4907 009c 226A     		ldr	r2, [r4, #32]
 4908 009e 009B     		ldr	r3, [sp]
 4909              	.LVL717:
 4910 00a0 9A42     		cmp	r2, r3
 4911 00a2 0DD0     		beq	.L461
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 4912              		.loc 1 3580 0
 4913 00a4 94F91430 		ldrsb	r3, [r4, #20]
 4914 00a8 002B     		cmp	r3, #0
 4915 00aa 6DDB     		blt	.L472
 4916              	.L462:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4917              		.loc 1 3585 0
 4918 00ac 0123     		movs	r3, #1
 4919 00ae 009A     		ldr	r2, [sp]
 4920 00b0 04F13001 		add	r1, r4, #48
 4921 00b4 0398     		ldr	r0, [sp, #12]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 203


 4922 00b6 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 4923 00b8 FFF7FEFF 		bl	disk_read
 4924              	.LVL718:
 4925 00bc 0028     		cmp	r0, #0
 4926 00be 73D1     		bne	.L473
 4927              	.L461:
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4928              		.loc 1 3588 0
 4929 00c0 009B     		ldr	r3, [sp]
 4930 00c2 2362     		str	r3, [r4, #32]
 4931              	.LVL719:
 4932              	.L448:
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 4933              		.loc 1 3590 0
 4934 00c4 039B     		ldr	r3, [sp, #12]
 4935 00c6 B3F80CA0 		ldrh	r10, [r3, #12]
 4936 00ca A169     		ldr	r1, [r4, #24]
 4937 00cc B1FBFAF3 		udiv	r3, r1, r10
 4938 00d0 0AFB1313 		mls	r3, r10, r3, r1
 4939 00d4 AAEB030A 		sub	r10, r10, r3
 4940              	.LVL720:
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 4941              		.loc 1 3591 0
 4942 00d8 5645     		cmp	r6, r10
 4943 00da 00D2     		bcs	.L464
 4944 00dc B246     		mov	r10, r6
 4945              	.LVL721:
 4946              	.L464:
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4947              		.loc 1 3596 0
 4948 00de 04F13001 		add	r1, r4, #48
 4949 00e2 5246     		mov	r2, r10
 4950 00e4 1944     		add	r1, r1, r3
 4951 00e6 4846     		mov	r0, r9
 4952 00e8 FFF7FEFF 		bl	mem_cpy
 4953              	.LVL722:
 4954              	.L460:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 4955              		.loc 1 3534 0
 4956 00ec D144     		add	r9, r9, r10
 4957              	.LVL723:
 4958 00ee A369     		ldr	r3, [r4, #24]
 4959 00f0 5344     		add	r3, r3, r10
 4960 00f2 A361     		str	r3, [r4, #24]
 4961 00f4 D8F80030 		ldr	r3, [r8]
 4962 00f8 5344     		add	r3, r3, r10
 4963 00fa C8F80030 		str	r3, [r8]
 4964 00fe A6EB0A06 		sub	r6, r6, r10
 4965              	.LVL724:
 4966              	.L465:
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 4967              		.loc 1 3533 0
 4968 0102 002E     		cmp	r6, #0
 4969 0104 3CD0     		beq	.L445
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 4970              		.loc 1 3535 0
 4971 0106 A169     		ldr	r1, [r4, #24]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 204


 4972 0108 039A     		ldr	r2, [sp, #12]
 4973 010a 9589     		ldrh	r5, [r2, #12]
 4974 010c B1FBF5F3 		udiv	r3, r1, r5
 4975 0110 05FB1313 		mls	r3, r5, r3, r1
 4976 0114 002B     		cmp	r3, #0
 4977 0116 D5D1     		bne	.L448
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 4978              		.loc 1 3536 0
 4979 0118 B1FBF5F5 		udiv	r5, r1, r5
 4980 011c 5389     		ldrh	r3, [r2, #10]
 4981 011e 013B     		subs	r3, r3, #1
 4982              	.LVL725:
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 4983              		.loc 1 3537 0
 4984 0120 1D40     		ands	r5, r5, r3
 4985              	.LVL726:
 4986 0122 08D1     		bne	.L449
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 4987              		.loc 1 3538 0
 4988 0124 0029     		cmp	r1, #0
 4989 0126 8DD1     		bne	.L450
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 4990              		.loc 1 3539 0
 4991 0128 A068     		ldr	r0, [r4, #8]
 4992              	.LVL727:
 4993              	.L451:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 4994              		.loc 1 3550 0
 4995 012a 0128     		cmp	r0, #1
 4996 012c 95D9     		bls	.L474
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 4997              		.loc 1 3551 0
 4998 012e B0F1FF3F 		cmp	r0, #-1
 4999 0132 95D0     		beq	.L475
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5000              		.loc 1 3552 0
 5001 0134 E061     		str	r0, [r4, #28]
 5002              	.LVL728:
 5003              	.L449:
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 5004              		.loc 1 3554 0
 5005 0136 DDF80CB0 		ldr	fp, [sp, #12]
 5006 013a E169     		ldr	r1, [r4, #28]
 5007 013c 5846     		mov	r0, fp
 5008 013e FFF7FEFF 		bl	clust2sect
 5009              	.LVL729:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5010              		.loc 1 3555 0
 5011 0142 0028     		cmp	r0, #0
 5012 0144 8FD0     		beq	.L476
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 5013              		.loc 1 3556 0
 5014 0146 2B18     		adds	r3, r5, r0
 5015 0148 0093     		str	r3, [sp]
 5016              	.LVL730:
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 5017              		.loc 1 3557 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 205


 5018 014a BBF80CA0 		ldrh	r10, [fp, #12]
 5019 014e B6FBFAFA 		udiv	r10, r6, r10
 5020              	.LVL731:
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 5021              		.loc 1 3558 0
 5022 0152 BAF1000F 		cmp	r10, #0
 5023 0156 A1D0     		beq	.L456
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 5024              		.loc 1 3559 0
 5025 0158 05EB0A03 		add	r3, r5, r10
 5026              	.LVL732:
 5027 015c BBF80A20 		ldrh	r2, [fp, #10]
 5028 0160 9342     		cmp	r3, r2
 5029 0162 01D9     		bls	.L457
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5030              		.loc 1 3560 0
 5031 0164 A2EB050A 		sub	r10, r2, r5
 5032              	.LVL733:
 5033              	.L457:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5034              		.loc 1 3562 0
 5035 0168 5346     		mov	r3, r10
 5036 016a 009A     		ldr	r2, [sp]
 5037 016c 4946     		mov	r1, r9
 5038 016e 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 5039 0172 FFF7FEFF 		bl	disk_read
 5040              	.LVL734:
 5041 0176 0028     		cmp	r0, #0
 5042 0178 3FF478AF 		beq	.L458
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5043              		.loc 1 3562 0 is_stmt 0 discriminator 1
 5044 017c 0127     		movs	r7, #1
 5045              	.LVL735:
 5046 017e 6775     		strb	r7, [r4, #21]
 5047              	.LVL736:
 5048              	.L445:
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5049              		.loc 1 3601 0 is_stmt 1
 5050 0180 3846     		mov	r0, r7
 5051 0182 05B0     		add	sp, sp, #20
 5052              	.LCFI56:
 5053              		.cfi_remember_state
 5054              		.cfi_def_cfa_offset 36
 5055              		@ sp needed
 5056 0184 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5057              	.LVL737:
 5058              	.L472:
 5059              	.LCFI57:
 5060              		.cfi_restore_state
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 5061              		.loc 1 3581 0
 5062 0188 0123     		movs	r3, #1
 5063 018a 04F13001 		add	r1, r4, #48
 5064 018e 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 5065 0192 FFF7FEFF 		bl	disk_write
 5066              	.LVL738:
 5067 0196 20B9     		cbnz	r0, .L477
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 206


3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5068              		.loc 1 3582 0
 5069 0198 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 5070 019a 03F07F03 		and	r3, r3, #127
 5071 019e 2375     		strb	r3, [r4, #20]
 5072 01a0 84E7     		b	.L462
 5073              	.L477:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 5074              		.loc 1 3581 0 discriminator 1
 5075 01a2 0127     		movs	r7, #1
 5076              	.LVL739:
 5077 01a4 6775     		strb	r7, [r4, #21]
 5078 01a6 EBE7     		b	.L445
 5079              	.LVL740:
 5080              	.L473:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5081              		.loc 1 3585 0 discriminator 1
 5082 01a8 0127     		movs	r7, #1
 5083              	.LVL741:
 5084 01aa 6775     		strb	r7, [r4, #21]
 5085 01ac E8E7     		b	.L445
 5086              	.LVL742:
 5087              	.L467:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 5088              		.loc 1 3529 0
 5089 01ae 0727     		movs	r7, #7
 5090              	.LVL743:
 5091 01b0 E6E7     		b	.L445
 5092              		.cfi_endproc
 5093              	.LFE170:
 5095              		.section	.text.f_write,"ax",%progbits
 5096              		.align	1
 5097              		.global	f_write
 5098              		.syntax unified
 5099              		.thumb
 5100              		.thumb_func
 5101              		.fpu fpv4-sp-d16
 5103              	f_write:
 5104              	.LFB171:
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5105              		.loc 1 3617 0
 5106              		.cfi_startproc
 5107              		@ args = 0, pretend = 0, frame = 16
 5108              		@ frame_needed = 0, uses_anonymous_args = 0
 5109              	.LVL744:
 5110 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5111              	.LCFI58:
 5112              		.cfi_def_cfa_offset 36
 5113              		.cfi_offset 4, -36
 5114              		.cfi_offset 5, -32
 5115              		.cfi_offset 6, -28
 5116              		.cfi_offset 7, -24
 5117              		.cfi_offset 8, -20
 5118              		.cfi_offset 9, -16
 5119              		.cfi_offset 10, -12
 5120              		.cfi_offset 11, -8
 5121              		.cfi_offset 14, -4
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 207


 5122 0004 85B0     		sub	sp, sp, #20
 5123              	.LCFI59:
 5124              		.cfi_def_cfa_offset 56
 5125 0006 0446     		mov	r4, r0
 5126 0008 8846     		mov	r8, r1
 5127 000a 1646     		mov	r6, r2
 5128 000c 9946     		mov	r9, r3
 5129              	.LVL745:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 5130              		.loc 1 3625 0
 5131 000e 0023     		movs	r3, #0
 5132              	.LVL746:
 5133 0010 C9F80030 		str	r3, [r9]
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 5134              		.loc 1 3626 0
 5135 0014 0190     		str	r0, [sp, #4]
 5136 0016 03A9     		add	r1, sp, #12
 5137              	.LVL747:
 5138 0018 FFF7FEFF 		bl	validate
 5139              	.LVL748:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 5140              		.loc 1 3627 0
 5141 001c 0746     		mov	r7, r0
 5142 001e 0028     		cmp	r0, #0
 5143 0020 46D1     		bne	.L479
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 5144              		.loc 1 3627 0 is_stmt 0 discriminator 2
 5145 0022 677D     		ldrb	r7, [r4, #21]	@ zero_extendqisi2
 5146              	.LVL749:
 5147 0024 002F     		cmp	r7, #0
 5148 0026 43D1     		bne	.L479
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5149              		.loc 1 3628 0 is_stmt 1
 5150 0028 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 5151 002a 13F0020F 		tst	r3, #2
 5152 002e 00F0DA80 		beq	.L501
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 5153              		.loc 1 3631 0
 5154 0032 A369     		ldr	r3, [r4, #24]
 5155 0034 F342     		cmn	r3, r6
 5156 0036 C0F0A880 		bcc	.L499
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5157              		.loc 1 3632 0
 5158 003a DE43     		mvns	r6, r3
 5159              	.LVL750:
 5160 003c A5E0     		b	.L499
 5161              	.LVL751:
 5162              	.L483:
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 5163              		.loc 1 3647 0
 5164 003e E36A     		ldr	r3, [r4, #44]
 5165 0040 002B     		cmp	r3, #0
 5166 0042 39D0     		beq	.L485
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 5167              		.loc 1 3648 0
 5168 0044 2046     		mov	r0, r4
 5169 0046 FFF7FEFF 		bl	clmt_clust
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 208


 5170              	.LVL752:
 5171              	.L484:
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 5172              		.loc 1 3655 0
 5173 004a 0028     		cmp	r0, #0
 5174 004c 00F0C680 		beq	.L486
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 5175              		.loc 1 3656 0
 5176 0050 0128     		cmp	r0, #1
 5177 0052 36D0     		beq	.L504
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 5178              		.loc 1 3657 0
 5179 0054 B0F1FF3F 		cmp	r0, #-1
 5180 0058 36D0     		beq	.L505
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 5181              		.loc 1 3658 0
 5182 005a E061     		str	r0, [r4, #28]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5183              		.loc 1 3659 0
 5184 005c A368     		ldr	r3, [r4, #8]
 5185 005e 03B9     		cbnz	r3, .L482
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5186              		.loc 1 3659 0 is_stmt 0 discriminator 1
 5187 0060 A060     		str	r0, [r4, #8]
 5188              	.LVL753:
 5189              	.L482:
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 5190              		.loc 1 3664 0 is_stmt 1
 5191 0062 94F91430 		ldrsb	r3, [r4, #20]
 5192 0066 002B     		cmp	r3, #0
 5193 0068 31DB     		blt	.L506
 5194              	.L489:
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 5195              		.loc 1 3669 0
 5196 006a DDF80CB0 		ldr	fp, [sp, #12]
 5197 006e E169     		ldr	r1, [r4, #28]
 5198 0070 5846     		mov	r0, fp
 5199 0072 FFF7FEFF 		bl	clust2sect
 5200              	.LVL754:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5201              		.loc 1 3670 0
 5202 0076 0028     		cmp	r0, #0
 5203 0078 3AD0     		beq	.L507
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 5204              		.loc 1 3671 0
 5205 007a 2B18     		adds	r3, r5, r0
 5206 007c 0093     		str	r3, [sp]
 5207              	.LVL755:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 5208              		.loc 1 3672 0
 5209 007e BBF80CA0 		ldrh	r10, [fp, #12]
 5210 0082 B6FBFAFA 		udiv	r10, r6, r10
 5211              	.LVL756:
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 5212              		.loc 1 3673 0
 5213 0086 BAF1000F 		cmp	r10, #0
 5214 008a 4CD0     		beq	.L492
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 209


3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 5215              		.loc 1 3674 0
 5216 008c 05EB0A03 		add	r3, r5, r10
 5217              	.LVL757:
 5218 0090 BBF80A20 		ldrh	r2, [fp, #10]
 5219 0094 9342     		cmp	r3, r2
 5220 0096 01D9     		bls	.L493
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5221              		.loc 1 3675 0
 5222 0098 A2EB050A 		sub	r10, r2, r5
 5223              	.LVL758:
 5224              	.L493:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 5225              		.loc 1 3677 0
 5226 009c 5346     		mov	r3, r10
 5227 009e 009A     		ldr	r2, [sp]
 5228 00a0 4146     		mov	r1, r8
 5229 00a2 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 5230 00a6 FFF7FEFF 		bl	disk_write
 5231              	.LVL759:
 5232 00aa 20B3     		cbz	r0, .L494
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 5233              		.loc 1 3677 0 is_stmt 0 discriminator 1
 5234 00ac 0127     		movs	r7, #1
 5235              	.LVL760:
 5236 00ae 6775     		strb	r7, [r4, #21]
 5237              	.LVL761:
 5238              	.L479:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5239              		.loc 1 3723 0 is_stmt 1
 5240 00b0 3846     		mov	r0, r7
 5241 00b2 05B0     		add	sp, sp, #20
 5242              	.LCFI60:
 5243              		.cfi_remember_state
 5244              		.cfi_def_cfa_offset 36
 5245              		@ sp needed
 5246 00b4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5247              	.LVL762:
 5248              	.L485:
 5249              	.LCFI61:
 5250              		.cfi_restore_state
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5251              		.loc 1 3652 0
 5252 00b8 E169     		ldr	r1, [r4, #28]
 5253 00ba 0198     		ldr	r0, [sp, #4]
 5254 00bc FFF7FEFF 		bl	create_chain
 5255              	.LVL763:
 5256 00c0 C3E7     		b	.L484
 5257              	.L504:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 5258              		.loc 1 3656 0 discriminator 1
 5259 00c2 0227     		movs	r7, #2
 5260              	.LVL764:
 5261 00c4 6775     		strb	r7, [r4, #21]
 5262 00c6 F3E7     		b	.L479
 5263              	.LVL765:
 5264              	.L505:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 210


3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 5265              		.loc 1 3657 0 discriminator 1
 5266 00c8 0127     		movs	r7, #1
 5267              	.LVL766:
 5268 00ca 6775     		strb	r7, [r4, #21]
 5269 00cc F0E7     		b	.L479
 5270              	.LVL767:
 5271              	.L506:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 5272              		.loc 1 3665 0
 5273 00ce 0123     		movs	r3, #1
 5274 00d0 226A     		ldr	r2, [r4, #32]
 5275 00d2 04F13001 		add	r1, r4, #48
 5276 00d6 0398     		ldr	r0, [sp, #12]
 5277 00d8 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 5278 00da FFF7FEFF 		bl	disk_write
 5279              	.LVL768:
 5280 00de 20B9     		cbnz	r0, .L508
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5281              		.loc 1 3666 0
 5282 00e0 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 5283 00e2 03F07F03 		and	r3, r3, #127
 5284 00e6 2375     		strb	r3, [r4, #20]
 5285 00e8 BFE7     		b	.L489
 5286              	.L508:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 5287              		.loc 1 3665 0 discriminator 1
 5288 00ea 0127     		movs	r7, #1
 5289              	.LVL769:
 5290 00ec 6775     		strb	r7, [r4, #21]
 5291 00ee DFE7     		b	.L479
 5292              	.LVL770:
 5293              	.L507:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5294              		.loc 1 3670 0 discriminator 1
 5295 00f0 0227     		movs	r7, #2
 5296              	.LVL771:
 5297 00f2 6775     		strb	r7, [r4, #21]
 5298 00f4 DCE7     		b	.L479
 5299              	.LVL772:
 5300              	.L494:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 5301              		.loc 1 3685 0
 5302 00f6 216A     		ldr	r1, [r4, #32]
 5303 00f8 009B     		ldr	r3, [sp]
 5304 00fa C91A     		subs	r1, r1, r3
 5305 00fc 5145     		cmp	r1, r10
 5306 00fe 04D3     		bcc	.L509
 5307              	.L495:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 5308              		.loc 1 3691 0
 5309 0100 039B     		ldr	r3, [sp, #12]
 5310 0102 9B89     		ldrh	r3, [r3, #12]
 5311 0104 0AFB03FA 		mul	r10, r10, r3
 5312              	.LVL773:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5313              		.loc 1 3692 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 211


 5314 0108 2FE0     		b	.L496
 5315              	.LVL774:
 5316              	.L509:
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 5317              		.loc 1 3686 0
 5318 010a 039B     		ldr	r3, [sp, #12]
 5319 010c 9B89     		ldrh	r3, [r3, #12]
 5320 010e 1A46     		mov	r2, r3
 5321 0110 03FB0181 		mla	r1, r3, r1, r8
 5322 0114 04F13000 		add	r0, r4, #48
 5323 0118 FFF7FEFF 		bl	mem_cpy
 5324              	.LVL775:
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5325              		.loc 1 3687 0
 5326 011c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 5327 011e 03F07F03 		and	r3, r3, #127
 5328 0122 2375     		strb	r3, [r4, #20]
 5329 0124 ECE7     		b	.L495
 5330              	.LVL776:
 5331              	.L492:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 5332              		.loc 1 3700 0
 5333 0126 236A     		ldr	r3, [r4, #32]
 5334              	.LVL777:
 5335 0128 009A     		ldr	r2, [sp]
 5336 012a 9342     		cmp	r3, r2
 5337 012c 03D0     		beq	.L497
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 5338              		.loc 1 3701 0 discriminator 1
 5339 012e A269     		ldr	r2, [r4, #24]
 5340 0130 E368     		ldr	r3, [r4, #12]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 5341              		.loc 1 3700 0 discriminator 1
 5342 0132 9A42     		cmp	r2, r3
 5343 0134 45D3     		bcc	.L510
 5344              	.L497:
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5345              		.loc 1 3706 0
 5346 0136 009B     		ldr	r3, [sp]
 5347 0138 2362     		str	r3, [r4, #32]
 5348              	.LVL778:
 5349              	.L481:
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 5350              		.loc 1 3708 0
 5351 013a 039B     		ldr	r3, [sp, #12]
 5352 013c B3F80CA0 		ldrh	r10, [r3, #12]
 5353 0140 A069     		ldr	r0, [r4, #24]
 5354 0142 B0FBFAF3 		udiv	r3, r0, r10
 5355 0146 0AFB1303 		mls	r3, r10, r3, r0
 5356 014a AAEB030A 		sub	r10, r10, r3
 5357              	.LVL779:
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 5358              		.loc 1 3709 0
 5359 014e 5645     		cmp	r6, r10
 5360 0150 00D2     		bcs	.L498
 5361 0152 B246     		mov	r10, r6
 5362              	.LVL780:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 212


 5363              	.L498:
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 5364              		.loc 1 3715 0
 5365 0154 04F13000 		add	r0, r4, #48
 5366 0158 5246     		mov	r2, r10
 5367 015a 4146     		mov	r1, r8
 5368 015c 1844     		add	r0, r0, r3
 5369 015e FFF7FEFF 		bl	mem_cpy
 5370              	.LVL781:
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5371              		.loc 1 3716 0
 5372 0162 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 5373 0164 63F07F03 		orn	r3, r3, #127
 5374 0168 2375     		strb	r3, [r4, #20]
 5375              	.L496:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 5376              		.loc 1 3636 0
 5377 016a D044     		add	r8, r8, r10
 5378              	.LVL782:
 5379 016c A369     		ldr	r3, [r4, #24]
 5380 016e 5344     		add	r3, r3, r10
 5381 0170 A361     		str	r3, [r4, #24]
 5382 0172 E268     		ldr	r2, [r4, #12]
 5383 0174 9342     		cmp	r3, r2
 5384 0176 38BF     		it	cc
 5385 0178 1346     		movcc	r3, r2
 5386 017a E360     		str	r3, [r4, #12]
 5387 017c D9F80030 		ldr	r3, [r9]
 5388 0180 5344     		add	r3, r3, r10
 5389 0182 C9F80030 		str	r3, [r9]
 5390 0186 A6EB0A06 		sub	r6, r6, r10
 5391              	.LVL783:
 5392              	.L499:
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
 5393              		.loc 1 3635 0
 5394 018a 3EB3     		cbz	r6, .L486
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 5395              		.loc 1 3637 0
 5396 018c A169     		ldr	r1, [r4, #24]
 5397 018e 039A     		ldr	r2, [sp, #12]
 5398 0190 9589     		ldrh	r5, [r2, #12]
 5399 0192 B1FBF5F3 		udiv	r3, r1, r5
 5400 0196 05FB1313 		mls	r3, r5, r3, r1
 5401 019a 002B     		cmp	r3, #0
 5402 019c CDD1     		bne	.L481
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 5403              		.loc 1 3638 0
 5404 019e B1FBF5F5 		udiv	r5, r1, r5
 5405 01a2 5389     		ldrh	r3, [r2, #10]
 5406 01a4 013B     		subs	r3, r3, #1
 5407              	.LVL784:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 5408              		.loc 1 3639 0
 5409 01a6 1D40     		ands	r5, r5, r3
 5410              	.LVL785:
 5411 01a8 7FF45BAF 		bne	.L482
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 213


 5412              		.loc 1 3640 0
 5413 01ac 0029     		cmp	r1, #0
 5414 01ae 7FF446AF 		bne	.L483
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 5415              		.loc 1 3641 0
 5416 01b2 A068     		ldr	r0, [r4, #8]
 5417              	.LVL786:
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 5418              		.loc 1 3642 0
 5419 01b4 0028     		cmp	r0, #0
 5420 01b6 7FF448AF 		bne	.L484
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5421              		.loc 1 3643 0
 5422 01ba 0198     		ldr	r0, [sp, #4]
 5423              	.LVL787:
 5424 01bc FFF7FEFF 		bl	create_chain
 5425              	.LVL788:
 5426 01c0 43E7     		b	.L484
 5427              	.LVL789:
 5428              	.L510:
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 5429              		.loc 1 3702 0
 5430 01c2 0123     		movs	r3, #1
 5431 01c4 009A     		ldr	r2, [sp]
 5432 01c6 04F13001 		add	r1, r4, #48
 5433 01ca 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 5434 01ce FFF7FEFF 		bl	disk_read
 5435              	.LVL790:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 5436              		.loc 1 3701 0
 5437 01d2 0028     		cmp	r0, #0
 5438 01d4 AFD0     		beq	.L497
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5439              		.loc 1 3703 0
 5440 01d6 0127     		movs	r7, #1
 5441              	.LVL791:
 5442 01d8 6775     		strb	r7, [r4, #21]
 5443 01da 69E7     		b	.L479
 5444              	.LVL792:
 5445              	.L486:
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5446              		.loc 1 3720 0
 5447 01dc 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 5448 01de 43F04003 		orr	r3, r3, #64
 5449 01e2 2375     		strb	r3, [r4, #20]
3722:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5450              		.loc 1 3722 0
 5451 01e4 64E7     		b	.L479
 5452              	.LVL793:
 5453              	.L501:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5454              		.loc 1 3628 0
 5455 01e6 0727     		movs	r7, #7
 5456              	.LVL794:
 5457 01e8 62E7     		b	.L479
 5458              		.cfi_endproc
 5459              	.LFE171:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 214


 5461              		.section	.text.putc_bfd,"ax",%progbits
 5462              		.align	1
 5463              		.syntax unified
 5464              		.thumb
 5465              		.thumb_func
 5466              		.fpu fpv4-sp-d16
 5468              	putc_bfd:
 5469              	.LFB186:
5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 5470              		.loc 1 5921 0
 5471              		.cfi_startproc
 5472              		@ args = 0, pretend = 0, frame = 8
 5473              		@ frame_needed = 0, uses_anonymous_args = 0
 5474              	.LVL795:
 5475 0000 70B5     		push	{r4, r5, r6, lr}
 5476              	.LCFI62:
 5477              		.cfi_def_cfa_offset 16
 5478              		.cfi_offset 4, -16
 5479              		.cfi_offset 5, -12
 5480              		.cfi_offset 6, -8
 5481              		.cfi_offset 14, -4
 5482 0002 82B0     		sub	sp, sp, #8
 5483              	.LCFI63:
 5484              		.cfi_def_cfa_offset 24
 5485 0004 0446     		mov	r4, r0
 5486 0006 0D46     		mov	r5, r1
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 5487              		.loc 1 5926 0
 5488 0008 0A29     		cmp	r1, #10
 5489 000a 0DD0     		beq	.L518
 5490              	.LVL796:
 5491              	.L512:
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 5492              		.loc 1 5930 0
 5493 000c 6368     		ldr	r3, [r4, #4]
 5494              	.LVL797:
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5495              		.loc 1 5931 0
 5496 000e 002B     		cmp	r3, #0
 5497 0010 08DB     		blt	.L511
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5498              		.loc 1 5960 0
 5499 0012 5E1C     		adds	r6, r3, #1
 5500              	.LVL798:
 5501 0014 2344     		add	r3, r3, r4
 5502 0016 1D73     		strb	r5, [r3, #12]
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 5503              		.loc 1 5963 0
 5504 0018 3C2E     		cmp	r6, #60
 5505 001a 09DC     		bgt	.L519
 5506              	.LVL799:
 5507              	.L514:
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 5508              		.loc 1 5967 0
 5509 001c 6660     		str	r6, [r4, #4]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5510              		.loc 1 5968 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 215


 5511 001e A368     		ldr	r3, [r4, #8]
 5512 0020 0133     		adds	r3, r3, #1
 5513 0022 A360     		str	r3, [r4, #8]
 5514              	.LVL800:
 5515              	.L511:
5969:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5516              		.loc 1 5969 0
 5517 0024 02B0     		add	sp, sp, #8
 5518              	.LCFI64:
 5519              		.cfi_remember_state
 5520              		.cfi_def_cfa_offset 16
 5521              		@ sp needed
 5522 0026 70BD     		pop	{r4, r5, r6, pc}
 5523              	.LVL801:
 5524              	.L518:
 5525              	.LCFI65:
 5526              		.cfi_restore_state
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5527              		.loc 1 5927 0
 5528 0028 0D21     		movs	r1, #13
 5529              	.LVL802:
 5530 002a FFF7E9FF 		bl	putc_bfd
 5531              	.LVL803:
 5532 002e EDE7     		b	.L512
 5533              	.LVL804:
 5534              	.L519:
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 5535              		.loc 1 5964 0
 5536 0030 01AB     		add	r3, sp, #4
 5537 0032 3246     		mov	r2, r6
 5538 0034 04F10C01 		add	r1, r4, #12
 5539 0038 2068     		ldr	r0, [r4]
 5540 003a FFF7FEFF 		bl	f_write
 5541              	.LVL805:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5542              		.loc 1 5965 0
 5543 003e 019B     		ldr	r3, [sp, #4]
 5544 0040 9E42     		cmp	r6, r3
 5545 0042 02D0     		beq	.L520
 5546 0044 4FF0FF36 		mov	r6, #-1
 5547              	.LVL806:
 5548 0048 E8E7     		b	.L514
 5549              	.LVL807:
 5550              	.L520:
 5551 004a 0026     		movs	r6, #0
 5552              	.LVL808:
 5553 004c E6E7     		b	.L514
 5554              		.cfi_endproc
 5555              	.LFE186:
 5557              		.section	.text.putc_flush,"ax",%progbits
 5558              		.align	1
 5559              		.syntax unified
 5560              		.thumb
 5561              		.thumb_func
 5562              		.fpu fpv4-sp-d16
 5564              	putc_flush:
 5565              	.LFB187:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 216


5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 5566              		.loc 1 5976 0
 5567              		.cfi_startproc
 5568              		@ args = 0, pretend = 0, frame = 8
 5569              		@ frame_needed = 0, uses_anonymous_args = 0
 5570              	.LVL809:
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 5571              		.loc 1 5979 0
 5572 0000 4268     		ldr	r2, [r0, #4]
 5573 0002 002A     		cmp	r2, #0
 5574 0004 10DB     		blt	.L523
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 5575              		.loc 1 5976 0
 5576 0006 10B5     		push	{r4, lr}
 5577              	.LCFI66:
 5578              		.cfi_def_cfa_offset 8
 5579              		.cfi_offset 4, -8
 5580              		.cfi_offset 14, -4
 5581 0008 82B0     		sub	sp, sp, #8
 5582              	.LCFI67:
 5583              		.cfi_def_cfa_offset 16
 5584 000a 0446     		mov	r4, r0
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 5585              		.loc 1 5980 0
 5586 000c 01AB     		add	r3, sp, #4
 5587 000e 00F10C01 		add	r1, r0, #12
 5588 0012 0068     		ldr	r0, [r0]
 5589              	.LVL810:
 5590 0014 FFF7FEFF 		bl	f_write
 5591              	.LVL811:
 5592 0018 48B9     		cbnz	r0, .L524
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 5593              		.loc 1 5981 0
 5594 001a 6268     		ldr	r2, [r4, #4]
 5595 001c 019B     		ldr	r3, [sp, #4]
 5596 001e 9A42     		cmp	r2, r3
 5597 0020 08D1     		bne	.L525
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 5598              		.loc 1 5981 0 is_stmt 0 discriminator 1
 5599 0022 A068     		ldr	r0, [r4, #8]
 5600              	.L521:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5601              		.loc 1 5983 0 is_stmt 1
 5602 0024 02B0     		add	sp, sp, #8
 5603              	.LCFI68:
 5604              		.cfi_def_cfa_offset 8
 5605              		@ sp needed
 5606 0026 10BD     		pop	{r4, pc}
 5607              	.LVL812:
 5608              	.L523:
 5609              	.LCFI69:
 5610              		.cfi_def_cfa_offset 0
 5611              		.cfi_restore 4
 5612              		.cfi_restore 14
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5613              		.loc 1 5982 0
 5614 0028 4FF0FF30 		mov	r0, #-1
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 217


 5615              	.LVL813:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5616              		.loc 1 5983 0
 5617 002c 7047     		bx	lr
 5618              	.LVL814:
 5619              	.L524:
 5620              	.LCFI70:
 5621              		.cfi_def_cfa_offset 16
 5622              		.cfi_offset 4, -8
 5623              		.cfi_offset 14, -4
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5624              		.loc 1 5982 0
 5625 002e 4FF0FF30 		mov	r0, #-1
 5626 0032 F7E7     		b	.L521
 5627              	.L525:
 5628 0034 4FF0FF30 		mov	r0, #-1
 5629 0038 F4E7     		b	.L521
 5630              		.cfi_endproc
 5631              	.LFE187:
 5633              		.section	.text.f_sync,"ax",%progbits
 5634              		.align	1
 5635              		.global	f_sync
 5636              		.syntax unified
 5637              		.thumb
 5638              		.thumb_func
 5639              		.fpu fpv4-sp-d16
 5641              	f_sync:
 5642              	.LFB172:
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5643              		.loc 1 3735 0
 5644              		.cfi_startproc
 5645              		@ args = 0, pretend = 0, frame = 8
 5646              		@ frame_needed = 0, uses_anonymous_args = 0
 5647              	.LVL815:
 5648 0000 70B5     		push	{r4, r5, r6, lr}
 5649              	.LCFI71:
 5650              		.cfi_def_cfa_offset 16
 5651              		.cfi_offset 4, -16
 5652              		.cfi_offset 5, -12
 5653              		.cfi_offset 6, -8
 5654              		.cfi_offset 14, -4
 5655 0002 82B0     		sub	sp, sp, #8
 5656              	.LCFI72:
 5657              		.cfi_def_cfa_offset 24
 5658 0004 0446     		mov	r4, r0
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5659              		.loc 1 3745 0
 5660 0006 01A9     		add	r1, sp, #4
 5661 0008 FFF7FEFF 		bl	validate
 5662              	.LVL816:
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 5663              		.loc 1 3746 0
 5664 000c 0346     		mov	r3, r0
 5665 000e 78B9     		cbnz	r0, .L531
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 5666              		.loc 1 3747 0
 5667 0010 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 218


 5668 0012 12F0400F 		tst	r2, #64
 5669 0016 0BD0     		beq	.L531
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 5670              		.loc 1 3749 0
 5671 0018 12F0800F 		tst	r2, #128
 5672 001c 0BD1     		bne	.L535
 5673              	.LVL817:
 5674              	.L532:
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 5675              		.loc 1 3755 0
 5676 001e FFF7FEFF 		bl	get_fattime
 5677              	.LVL818:
 5678 0022 0646     		mov	r6, r0
 5679              	.LVL819:
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 5680              		.loc 1 3785 0
 5681 0024 616A     		ldr	r1, [r4, #36]
 5682 0026 0198     		ldr	r0, [sp, #4]
 5683              	.LVL820:
 5684 0028 FFF7FEFF 		bl	move_window
 5685              	.LVL821:
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 5686              		.loc 1 3786 0
 5687 002c 0346     		mov	r3, r0
 5688 002e 80B1     		cbz	r0, .L536
 5689              	.LVL822:
 5690              	.L531:
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5691              		.loc 1 3802 0
 5692 0030 1846     		mov	r0, r3
 5693 0032 02B0     		add	sp, sp, #8
 5694              	.LCFI73:
 5695              		.cfi_remember_state
 5696              		.cfi_def_cfa_offset 16
 5697              		@ sp needed
 5698 0034 70BD     		pop	{r4, r5, r6, pc}
 5699              	.LVL823:
 5700              	.L535:
 5701              	.LCFI74:
 5702              		.cfi_restore_state
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 5703              		.loc 1 3750 0
 5704 0036 0123     		movs	r3, #1
 5705 0038 226A     		ldr	r2, [r4, #32]
 5706 003a 04F13001 		add	r1, r4, #48
 5707 003e 0198     		ldr	r0, [sp, #4]
 5708              	.LVL824:
 5709 0040 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 5710 0042 FFF7FEFF 		bl	disk_write
 5711              	.LVL825:
 5712 0046 48BB     		cbnz	r0, .L533
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5713              		.loc 1 3751 0
 5714 0048 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 5715 004a 03F07F03 		and	r3, r3, #127
 5716 004e 2375     		strb	r3, [r4, #20]
 5717 0050 E5E7     		b	.L532
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 219


 5718              	.LVL826:
 5719              	.L536:
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 5720              		.loc 1 3787 0
 5721 0052 A56A     		ldr	r5, [r4, #40]
 5722              	.LVL827:
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 5723              		.loc 1 3788 0
 5724 0054 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
 5725 0056 43F02003 		orr	r3, r3, #32
 5726 005a EB72     		strb	r3, [r5, #11]
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 5727              		.loc 1 3789 0
 5728 005c A268     		ldr	r2, [r4, #8]
 5729 005e 2946     		mov	r1, r5
 5730 0060 2068     		ldr	r0, [r4]
 5731              	.LVL828:
 5732 0062 FFF7FEFF 		bl	st_clust
 5733              	.LVL829:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 5734              		.loc 1 3790 0
 5735 0066 E168     		ldr	r1, [r4, #12]
 5736 0068 05F11C00 		add	r0, r5, #28
 5737 006c FFF7FEFF 		bl	st_dword
 5738              	.LVL830:
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
 5739              		.loc 1 3791 0
 5740 0070 3146     		mov	r1, r6
 5741 0072 05F11600 		add	r0, r5, #22
 5742 0076 FFF7FEFF 		bl	st_dword
 5743              	.LVL831:
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 5744              		.loc 1 3792 0
 5745 007a 0021     		movs	r1, #0
 5746 007c 05F11200 		add	r0, r5, #18
 5747 0080 FFF7FEFF 		bl	st_word
 5748              	.LVL832:
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 5749              		.loc 1 3793 0
 5750 0084 019B     		ldr	r3, [sp, #4]
 5751 0086 0122     		movs	r2, #1
 5752 0088 DA70     		strb	r2, [r3, #3]
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 5753              		.loc 1 3794 0
 5754 008a 0198     		ldr	r0, [sp, #4]
 5755 008c FFF7FEFF 		bl	sync_fs
 5756              	.LVL833:
 5757 0090 0346     		mov	r3, r0
 5758              	.LVL834:
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5759              		.loc 1 3795 0
 5760 0092 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 5761 0094 22F04002 		bic	r2, r2, #64
 5762 0098 2275     		strb	r2, [r4, #20]
 5763 009a C9E7     		b	.L531
 5764              	.LVL835:
 5765              	.L533:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 220


3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 5766              		.loc 1 3750 0
 5767 009c 0123     		movs	r3, #1
 5768 009e C7E7     		b	.L531
 5769              		.cfi_endproc
 5770              	.LFE172:
 5772              		.section	.text.f_close,"ax",%progbits
 5773              		.align	1
 5774              		.global	f_close
 5775              		.syntax unified
 5776              		.thumb
 5777              		.thumb_func
 5778              		.fpu fpv4-sp-d16
 5780              	f_close:
 5781              	.LFB173:
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5782              		.loc 1 3816 0
 5783              		.cfi_startproc
 5784              		@ args = 0, pretend = 0, frame = 8
 5785              		@ frame_needed = 0, uses_anonymous_args = 0
 5786              	.LVL836:
 5787 0000 10B5     		push	{r4, lr}
 5788              	.LCFI75:
 5789              		.cfi_def_cfa_offset 8
 5790              		.cfi_offset 4, -8
 5791              		.cfi_offset 14, -4
 5792 0002 82B0     		sub	sp, sp, #8
 5793              	.LCFI76:
 5794              		.cfi_def_cfa_offset 16
 5795 0004 0446     		mov	r4, r0
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 5796              		.loc 1 3821 0
 5797 0006 FFF7FEFF 		bl	f_sync
 5798              	.LVL837:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5799              		.loc 1 3822 0
 5800 000a 0346     		mov	r3, r0
 5801 000c 10B1     		cbz	r0, .L540
 5802              	.L538:
 5803              	.LVL838:
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5804              		.loc 1 3840 0
 5805 000e 1846     		mov	r0, r3
 5806 0010 02B0     		add	sp, sp, #8
 5807              	.LCFI77:
 5808              		.cfi_remember_state
 5809              		.cfi_def_cfa_offset 8
 5810              		@ sp needed
 5811 0012 10BD     		pop	{r4, pc}
 5812              	.LVL839:
 5813              	.L540:
 5814              	.LCFI78:
 5815              		.cfi_restore_state
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 5816              		.loc 1 3825 0
 5817 0014 01A9     		add	r1, sp, #4
 5818 0016 2046     		mov	r0, r4
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 221


 5819              	.LVL840:
 5820 0018 FFF7FEFF 		bl	validate
 5821              	.LVL841:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5822              		.loc 1 3826 0
 5823 001c 0346     		mov	r3, r0
 5824 001e 0028     		cmp	r0, #0
 5825 0020 F5D1     		bne	.L538
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 5826              		.loc 1 3828 0
 5827 0022 2069     		ldr	r0, [r4, #16]
 5828              	.LVL842:
 5829 0024 FFF7FEFF 		bl	dec_lock
 5830              	.LVL843:
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5831              		.loc 1 3829 0
 5832 0028 0346     		mov	r3, r0
 5833 002a 0028     		cmp	r0, #0
 5834 002c EFD1     		bne	.L538
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5835              		.loc 1 3832 0
 5836 002e 0022     		movs	r2, #0
 5837 0030 2260     		str	r2, [r4]
 5838 0032 ECE7     		b	.L538
 5839              		.cfi_endproc
 5840              	.LFE173:
 5842              		.section	.text.f_lseek,"ax",%progbits
 5843              		.align	1
 5844              		.global	f_lseek
 5845              		.syntax unified
 5846              		.thumb
 5847              		.thumb_func
 5848              		.fpu fpv4-sp-d16
 5850              	f_lseek:
 5851              	.LFB174:
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5852              		.loc 1 4005 0
 5853              		.cfi_startproc
 5854              		@ args = 0, pretend = 0, frame = 16
 5855              		@ frame_needed = 0, uses_anonymous_args = 0
 5856              	.LVL844:
 5857 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5858              	.LCFI79:
 5859              		.cfi_def_cfa_offset 36
 5860              		.cfi_offset 4, -36
 5861              		.cfi_offset 5, -32
 5862              		.cfi_offset 6, -28
 5863              		.cfi_offset 7, -24
 5864              		.cfi_offset 8, -20
 5865              		.cfi_offset 9, -16
 5866              		.cfi_offset 10, -12
 5867              		.cfi_offset 11, -8
 5868              		.cfi_offset 14, -4
 5869 0004 85B0     		sub	sp, sp, #20
 5870              	.LCFI80:
 5871              		.cfi_def_cfa_offset 56
 5872 0006 0446     		mov	r4, r0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 222


 5873 0008 0F46     		mov	r7, r1
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 5874              		.loc 1 4014 0
 5875 000a 0646     		mov	r6, r0
 5876 000c 03A9     		add	r1, sp, #12
 5877              	.LVL845:
 5878 000e FFF7FEFF 		bl	validate
 5879              	.LVL846:
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 5880              		.loc 1 4015 0
 5881 0012 0546     		mov	r5, r0
 5882 0014 00B9     		cbnz	r0, .L542
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 5883              		.loc 1 4015 0 is_stmt 0 discriminator 1
 5884 0016 657D     		ldrb	r5, [r4, #21]	@ zero_extendqisi2
 5885              	.LVL847:
 5886              	.L542:
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5887              		.loc 1 4021 0 is_stmt 1
 5888 0018 6DB9     		cbnz	r5, .L543
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 5889              		.loc 1 4024 0
 5890 001a E36A     		ldr	r3, [r4, #44]
 5891 001c 002B     		cmp	r3, #0
 5892 001e 00F09280 		beq	.L544
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 5893              		.loc 1 4025 0
 5894 0022 B7F1FF3F 		cmp	r7, #-1
 5895 0026 0AD0     		beq	.L585
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 5896              		.loc 1 4051 0
 5897 0028 E668     		ldr	r6, [r4, #12]
 5898 002a BE42     		cmp	r6, r7
 5899 002c 00D3     		bcc	.L552
 5900 002e 3E46     		mov	r6, r7
 5901              	.L552:
 5902              	.LVL848:
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 5903              		.loc 1 4052 0
 5904 0030 A661     		str	r6, [r4, #24]
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 5905              		.loc 1 4053 0
 5906 0032 002E     		cmp	r6, #0
 5907 0034 43D1     		bne	.L586
 5908              	.LVL849:
 5909              	.L543:
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5910              		.loc 1 4153 0
 5911 0036 2846     		mov	r0, r5
 5912 0038 05B0     		add	sp, sp, #20
 5913              	.LCFI81:
 5914              		.cfi_remember_state
 5915              		.cfi_def_cfa_offset 36
 5916              		@ sp needed
 5917 003a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5918              	.LVL850:
 5919              	.L585:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 223


 5920              	.LCFI82:
 5921              		.cfi_restore_state
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 5922              		.loc 1 4027 0
 5923 003e 1A1D     		adds	r2, r3, #4
 5924 0040 0192     		str	r2, [sp, #4]
 5925              	.LVL851:
 5926 0042 D3F800B0 		ldr	fp, [r3]
 5927              	.LVL852:
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 5928              		.loc 1 4028 0
 5929 0046 D4F808A0 		ldr	r10, [r4, #8]
 5930              	.LVL853:
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 5931              		.loc 1 4029 0
 5932 004a BAF1000F 		cmp	r10, #0
 5933 004e 2AD0     		beq	.L577
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 5934              		.loc 1 4027 0
 5935 0050 4FF00209 		mov	r9, #2
 5936              	.LVL854:
 5937              	.L551:
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 5938              		.loc 1 4032 0
 5939 0054 09F10209 		add	r9, r9, #2
 5940              	.LVL855:
 5941 0058 5746     		mov	r7, r10
 5942 005a 4FF00008 		mov	r8, #0
 5943              	.LVL856:
 5944              	.L549:
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 5945              		.loc 1 4034 0
 5946 005e 08F10108 		add	r8, r8, #1
 5947              	.LVL857:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 5948              		.loc 1 4035 0
 5949 0062 3946     		mov	r1, r7
 5950 0064 3046     		mov	r0, r6
 5951 0066 FFF7FEFF 		bl	get_fat
 5952              	.LVL858:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 5953              		.loc 1 4036 0
 5954 006a 0128     		cmp	r0, #1
 5955 006c 15D9     		bls	.L587
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 5956              		.loc 1 4037 0
 5957 006e B0F1FF3F 		cmp	r0, #-1
 5958 0072 15D0     		beq	.L588
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 5959              		.loc 1 4038 0
 5960 0074 7B1C     		adds	r3, r7, #1
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 5961              		.loc 1 4035 0
 5962 0076 0746     		mov	r7, r0
 5963              	.LVL859:
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 5964              		.loc 1 4038 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 224


 5965 0078 8342     		cmp	r3, r0
 5966 007a F0D0     		beq	.L549
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 5967              		.loc 1 4039 0
 5968 007c CB45     		cmp	fp, r9
 5969 007e 06D3     		bcc	.L550
 5970              	.LVL860:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5971              		.loc 1 4040 0
 5972 0080 019A     		ldr	r2, [sp, #4]
 5973 0082 1346     		mov	r3, r2
 5974              	.LVL861:
 5975 0084 43F8088B 		str	r8, [r3], #8
 5976              	.LVL862:
 5977 0088 C2F804A0 		str	r10, [r2, #4]
 5978 008c 0193     		str	r3, [sp, #4]
 5979              	.LVL863:
 5980              	.L550:
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5981              		.loc 1 4042 0
 5982 008e 039B     		ldr	r3, [sp, #12]
 5983 0090 9B69     		ldr	r3, [r3, #24]
 5984 0092 8342     		cmp	r3, r0
 5985 0094 09D9     		bls	.L546
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 5986              		.loc 1 4035 0
 5987 0096 8246     		mov	r10, r0
 5988              	.LVL864:
 5989 0098 DCE7     		b	.L551
 5990              	.LVL865:
 5991              	.L587:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 5992              		.loc 1 4036 0 discriminator 1
 5993 009a 0225     		movs	r5, #2
 5994              	.LVL866:
 5995 009c 6575     		strb	r5, [r4, #21]
 5996 009e CAE7     		b	.L543
 5997              	.LVL867:
 5998              	.L588:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 5999              		.loc 1 4037 0 discriminator 1
 6000 00a0 0125     		movs	r5, #1
 6001              	.LVL868:
 6002 00a2 6575     		strb	r5, [r4, #21]
 6003 00a4 C7E7     		b	.L543
 6004              	.LVL869:
 6005              	.L577:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 6006              		.loc 1 4027 0
 6007 00a6 4FF00209 		mov	r9, #2
 6008              	.LVL870:
 6009              	.L546:
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 6010              		.loc 1 4044 0
 6011 00aa E36A     		ldr	r3, [r4, #44]
 6012 00ac C3F80090 		str	r9, [r3]
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 225


 6013              		.loc 1 4045 0
 6014 00b0 D945     		cmp	r9, fp
 6015 00b2 00F20781 		bhi	.L579
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 6016              		.loc 1 4046 0
 6017 00b6 0023     		movs	r3, #0
 6018 00b8 019A     		ldr	r2, [sp, #4]
 6019 00ba 1360     		str	r3, [r2]
 6020 00bc BBE7     		b	.L543
 6021              	.LVL871:
 6022              	.L586:
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 6023              		.loc 1 4054 0
 6024 00be 771E     		subs	r7, r6, #1
 6025 00c0 3946     		mov	r1, r7
 6026 00c2 2046     		mov	r0, r4
 6027 00c4 FFF7FEFF 		bl	clmt_clust
 6028              	.LVL872:
 6029 00c8 0146     		mov	r1, r0
 6030 00ca E061     		str	r0, [r4, #28]
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 6031              		.loc 1 4055 0
 6032 00cc DDF80C80 		ldr	r8, [sp, #12]
 6033 00d0 4046     		mov	r0, r8
 6034 00d2 FFF7FEFF 		bl	clust2sect
 6035              	.LVL873:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 6036              		.loc 1 4056 0
 6037 00d6 08B3     		cbz	r0, .L589
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 6038              		.loc 1 4057 0
 6039 00d8 B8F80C20 		ldrh	r2, [r8, #12]
 6040 00dc B7FBF2F7 		udiv	r7, r7, r2
 6041 00e0 B8F80A30 		ldrh	r3, [r8, #10]
 6042 00e4 013B     		subs	r3, r3, #1
 6043 00e6 1F40     		ands	r7, r7, r3
 6044 00e8 0744     		add	r7, r7, r0
 6045              	.LVL874:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6046              		.loc 1 4058 0
 6047 00ea B6FBF2F3 		udiv	r3, r6, r2
 6048 00ee 02FB1366 		mls	r6, r2, r3, r6
 6049              	.LVL875:
 6050 00f2 002E     		cmp	r6, #0
 6051 00f4 9FD0     		beq	.L543
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6052              		.loc 1 4058 0 is_stmt 0 discriminator 1
 6053 00f6 226A     		ldr	r2, [r4, #32]
 6054 00f8 BA42     		cmp	r2, r7
 6055 00fa 9CD0     		beq	.L543
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6056              		.loc 1 4061 0 is_stmt 1
 6057 00fc 94F91430 		ldrsb	r3, [r4, #20]
 6058 0100 002B     		cmp	r3, #0
 6059 0102 0EDB     		blt	.L590
 6060              	.L554:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 226


 6061              		.loc 1 4066 0
 6062 0104 0123     		movs	r3, #1
 6063 0106 3A46     		mov	r2, r7
 6064 0108 04F13001 		add	r1, r4, #48
 6065 010c 0398     		ldr	r0, [sp, #12]
 6066 010e 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 6067 0110 FFF7FEFF 		bl	disk_read
 6068              	.LVL876:
 6069 0114 A8B1     		cbz	r0, .L556
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6070              		.loc 1 4066 0 is_stmt 0 discriminator 1
 6071 0116 0125     		movs	r5, #1
 6072              	.LVL877:
 6073 0118 6575     		strb	r5, [r4, #21]
 6074 011a 8CE7     		b	.L543
 6075              	.LVL878:
 6076              	.L589:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 6077              		.loc 1 4056 0 is_stmt 1 discriminator 1
 6078 011c 0225     		movs	r5, #2
 6079              	.LVL879:
 6080 011e 6575     		strb	r5, [r4, #21]
 6081 0120 89E7     		b	.L543
 6082              	.LVL880:
 6083              	.L590:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 6084              		.loc 1 4062 0
 6085 0122 0123     		movs	r3, #1
 6086 0124 04F13001 		add	r1, r4, #48
 6087 0128 98F80100 		ldrb	r0, [r8, #1]	@ zero_extendqisi2
 6088 012c FFF7FEFF 		bl	disk_write
 6089              	.LVL881:
 6090 0130 20B9     		cbnz	r0, .L591
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6091              		.loc 1 4063 0
 6092 0132 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 6093 0134 03F07F03 		and	r3, r3, #127
 6094 0138 2375     		strb	r3, [r4, #20]
 6095 013a E3E7     		b	.L554
 6096              	.L591:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 6097              		.loc 1 4062 0 discriminator 1
 6098 013c 0125     		movs	r5, #1
 6099              	.LVL882:
 6100 013e 6575     		strb	r5, [r4, #21]
 6101 0140 79E7     		b	.L543
 6102              	.LVL883:
 6103              	.L556:
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6104              		.loc 1 4068 0
 6105 0142 2762     		str	r7, [r4, #32]
 6106 0144 77E7     		b	.L543
 6107              	.LVL884:
 6108              	.L544:
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 6109              		.loc 1 4080 0
 6110 0146 E368     		ldr	r3, [r4, #12]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 227


 6111 0148 BB42     		cmp	r3, r7
 6112 014a 04D2     		bcs	.L557
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 6113              		.loc 1 4080 0 is_stmt 0 discriminator 1
 6114 014c 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 6115 014e 12F0020F 		tst	r2, #2
 6116 0152 00D1     		bne	.L557
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6117              		.loc 1 4081 0 is_stmt 1
 6118 0154 1F46     		mov	r7, r3
 6119              	.LVL885:
 6120              	.L557:
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 6121              		.loc 1 4083 0
 6122 0156 A369     		ldr	r3, [r4, #24]
 6123              	.LVL886:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 6124              		.loc 1 4084 0
 6125 0158 0022     		movs	r2, #0
 6126 015a A261     		str	r2, [r4, #24]
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 6127              		.loc 1 4085 0
 6128 015c 002F     		cmp	r7, #0
 6129 015e 74D0     		beq	.L581
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 6130              		.loc 1 4086 0
 6131 0160 039A     		ldr	r2, [sp, #12]
 6132 0162 5189     		ldrh	r1, [r2, #10]
 6133 0164 B2F80C90 		ldrh	r9, [r2, #12]
 6134 0168 09FB01F9 		mul	r9, r9, r1
 6135              	.LVL887:
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 6136              		.loc 1 4087 0
 6137 016c 7BB1     		cbz	r3, .L559
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 6138              		.loc 1 4088 0 discriminator 1
 6139 016e 7A1E     		subs	r2, r7, #1
 6140 0170 B2FBF9F2 		udiv	r2, r2, r9
 6141 0174 013B     		subs	r3, r3, #1
 6142              	.LVL888:
 6143 0176 B3FBF9F1 		udiv	r1, r3, r9
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 6144              		.loc 1 4087 0 discriminator 1
 6145 017a 8A42     		cmp	r2, r1
 6146 017c 07D3     		bcc	.L559
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 6147              		.loc 1 4089 0
 6148 017e C9F10002 		rsb	r2, r9, #0
 6149 0182 1340     		ands	r3, r3, r2
 6150              	.LVL889:
 6151 0184 A361     		str	r3, [r4, #24]
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 6152              		.loc 1 4090 0
 6153 0186 FF1A     		subs	r7, r7, r3
 6154              	.LVL890:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 6155              		.loc 1 4091 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 228


 6156 0188 D4F81C80 		ldr	r8, [r4, #28]
 6157              	.LVL891:
 6158 018c 06E0     		b	.L560
 6159              	.LVL892:
 6160              	.L559:
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6161              		.loc 1 4093 0
 6162 018e D4F80880 		ldr	r8, [r4, #8]
 6163              	.LVL893:
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 6164              		.loc 1 4095 0
 6165 0192 B8F1000F 		cmp	r8, #0
 6166 0196 05D0     		beq	.L592
 6167              	.L561:
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6168              		.loc 1 4102 0
 6169 0198 C4F81C80 		str	r8, [r4, #28]
 6170              	.L560:
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 6171              		.loc 1 4104 0
 6172 019c B8F1000F 		cmp	r8, #0
 6173 01a0 23D1     		bne	.L564
 6174 01a2 54E0     		b	.L558
 6175              	.L592:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 6176              		.loc 1 4096 0
 6177 01a4 0021     		movs	r1, #0
 6178 01a6 2046     		mov	r0, r4
 6179 01a8 FFF7FEFF 		bl	create_chain
 6180              	.LVL894:
 6181 01ac 8046     		mov	r8, r0
 6182              	.LVL895:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6183              		.loc 1 4097 0
 6184 01ae 0128     		cmp	r0, #1
 6185 01b0 04D0     		beq	.L593
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 6186              		.loc 1 4098 0
 6187 01b2 B0F1FF3F 		cmp	r0, #-1
 6188 01b6 04D0     		beq	.L594
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6189              		.loc 1 4099 0
 6190 01b8 A060     		str	r0, [r4, #8]
 6191 01ba EDE7     		b	.L561
 6192              	.L593:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6193              		.loc 1 4097 0 discriminator 1
 6194 01bc 0225     		movs	r5, #2
 6195              	.LVL896:
 6196 01be 6575     		strb	r5, [r4, #21]
 6197 01c0 39E7     		b	.L543
 6198              	.LVL897:
 6199              	.L594:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 6200              		.loc 1 4098 0 discriminator 1
 6201 01c2 0125     		movs	r5, #1
 6202              	.LVL898:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 229


 6203 01c4 6575     		strb	r5, [r4, #21]
 6204 01c6 36E7     		b	.L543
 6205              	.LVL899:
 6206              	.L565:
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6207              		.loc 1 4120 0
 6208 01c8 4146     		mov	r1, r8
 6209 01ca 3046     		mov	r0, r6
 6210 01cc FFF7FEFF 		bl	get_fat
 6211              	.LVL900:
 6212 01d0 8046     		mov	r8, r0
 6213              	.LVL901:
 6214              	.L567:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 6215              		.loc 1 4122 0
 6216 01d2 B8F1FF3F 		cmp	r8, #-1
 6217 01d6 2FD0     		beq	.L595
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 6218              		.loc 1 4123 0
 6219 01d8 B8F1010F 		cmp	r8, #1
 6220 01dc 2FD9     		bls	.L569
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 6221              		.loc 1 4123 0 is_stmt 0 discriminator 2
 6222 01de 039B     		ldr	r3, [sp, #12]
 6223 01e0 9B69     		ldr	r3, [r3, #24]
 6224 01e2 4345     		cmp	r3, r8
 6225 01e4 2BD9     		bls	.L569
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6226              		.loc 1 4124 0 is_stmt 1
 6227 01e6 C4F81C80 		str	r8, [r4, #28]
 6228              	.LVL902:
 6229              	.L564:
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 6230              		.loc 1 4105 0
 6231 01ea 4F45     		cmp	r7, r9
 6232 01ec 10D9     		bls	.L566
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 6233              		.loc 1 4106 0
 6234 01ee A7EB0907 		sub	r7, r7, r9
 6235              	.LVL903:
 6236 01f2 A369     		ldr	r3, [r4, #24]
 6237 01f4 4B44     		add	r3, r3, r9
 6238 01f6 A361     		str	r3, [r4, #24]
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 6239              		.loc 1 4108 0
 6240 01f8 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 6241 01fa 13F0020F 		tst	r3, #2
 6242 01fe E3D0     		beq	.L565
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 6243              		.loc 1 4113 0
 6244 0200 4146     		mov	r1, r8
 6245 0202 3046     		mov	r0, r6
 6246 0204 FFF7FEFF 		bl	create_chain
 6247              	.LVL904:
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 6248              		.loc 1 4114 0
 6249 0208 8046     		mov	r8, r0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 230


 6250 020a 0028     		cmp	r0, #0
 6251 020c E1D1     		bne	.L567
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 6252              		.loc 1 4115 0
 6253 020e 0027     		movs	r7, #0
 6254              	.LVL905:
 6255              	.L566:
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 6256              		.loc 1 4126 0
 6257 0210 A369     		ldr	r3, [r4, #24]
 6258 0212 3B44     		add	r3, r3, r7
 6259 0214 A361     		str	r3, [r4, #24]
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 6260              		.loc 1 4127 0
 6261 0216 0398     		ldr	r0, [sp, #12]
 6262 0218 8689     		ldrh	r6, [r0, #12]
 6263 021a B7FBF6F3 		udiv	r3, r7, r6
 6264 021e 06FB1373 		mls	r3, r6, r3, r7
 6265 0222 002B     		cmp	r3, #0
 6266 0224 39D0     		beq	.L583
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 6267              		.loc 1 4128 0
 6268 0226 4146     		mov	r1, r8
 6269 0228 FFF7FEFF 		bl	clust2sect
 6270              	.LVL906:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 6271              		.loc 1 4129 0
 6272 022c 8046     		mov	r8, r0
 6273              	.LVL907:
 6274 022e 48B1     		cbz	r0, .L596
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6275              		.loc 1 4130 0
 6276 0230 B7FBF6F7 		udiv	r7, r7, r6
 6277              	.LVL908:
 6278 0234 B844     		add	r8, r8, r7
 6279              	.LVL909:
 6280 0236 0AE0     		b	.L558
 6281              	.LVL910:
 6282              	.L595:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 6283              		.loc 1 4122 0 discriminator 1
 6284 0238 0125     		movs	r5, #1
 6285              	.LVL911:
 6286 023a 6575     		strb	r5, [r4, #21]
 6287 023c FBE6     		b	.L543
 6288              	.LVL912:
 6289              	.L569:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 6290              		.loc 1 4123 0 discriminator 3
 6291 023e 0225     		movs	r5, #2
 6292              	.LVL913:
 6293 0240 6575     		strb	r5, [r4, #21]
 6294 0242 F8E6     		b	.L543
 6295              	.LVL914:
 6296              	.L596:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 6297              		.loc 1 4129 0 discriminator 1
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 231


 6298 0244 0225     		movs	r5, #2
 6299              	.LVL915:
 6300 0246 6575     		strb	r5, [r4, #21]
 6301 0248 F5E6     		b	.L543
 6302              	.LVL916:
 6303              	.L581:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 6304              		.loc 1 4084 0
 6305 024a 4FF00008 		mov	r8, #0
 6306              	.LVL917:
 6307              	.L558:
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 6308              		.loc 1 4134 0
 6309 024e A369     		ldr	r3, [r4, #24]
 6310 0250 E268     		ldr	r2, [r4, #12]
 6311 0252 9342     		cmp	r3, r2
 6312 0254 04D9     		bls	.L573
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 6313              		.loc 1 4135 0
 6314 0256 E360     		str	r3, [r4, #12]
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6315              		.loc 1 4136 0
 6316 0258 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 6317 025a 42F04002 		orr	r2, r2, #64
 6318 025e 2275     		strb	r2, [r4, #20]
 6319              	.L573:
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6320              		.loc 1 4138 0
 6321 0260 0398     		ldr	r0, [sp, #12]
 6322 0262 8189     		ldrh	r1, [r0, #12]
 6323 0264 B3FBF1F2 		udiv	r2, r3, r1
 6324 0268 01FB1233 		mls	r3, r1, r2, r3
 6325 026c 002B     		cmp	r3, #0
 6326 026e 3FF4E2AE 		beq	.L543
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6327              		.loc 1 4138 0 is_stmt 0 discriminator 1
 6328 0272 226A     		ldr	r2, [r4, #32]
 6329 0274 4245     		cmp	r2, r8
 6330 0276 3FF4DEAE 		beq	.L543
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6331              		.loc 1 4141 0 is_stmt 1
 6332 027a 94F91430 		ldrsb	r3, [r4, #20]
 6333 027e 002B     		cmp	r3, #0
 6334 0280 0EDB     		blt	.L597
 6335              	.L574:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6336              		.loc 1 4146 0
 6337 0282 0123     		movs	r3, #1
 6338 0284 4246     		mov	r2, r8
 6339 0286 04F13001 		add	r1, r4, #48
 6340 028a 0398     		ldr	r0, [sp, #12]
 6341 028c 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 6342 028e FFF7FEFF 		bl	disk_read
 6343              	.LVL918:
 6344 0292 A0B9     		cbnz	r0, .L598
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6345              		.loc 1 4148 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 232


 6346 0294 C4F82080 		str	r8, [r4, #32]
 6347 0298 CDE6     		b	.L543
 6348              	.LVL919:
 6349              	.L583:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 6350              		.loc 1 4084 0
 6351 029a 4FF00008 		mov	r8, #0
 6352              	.LVL920:
 6353 029e D6E7     		b	.L558
 6354              	.LVL921:
 6355              	.L597:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6356              		.loc 1 4142 0
 6357 02a0 0123     		movs	r3, #1
 6358 02a2 04F13001 		add	r1, r4, #48
 6359 02a6 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 6360 02a8 FFF7FEFF 		bl	disk_write
 6361              	.LVL922:
 6362 02ac 20B9     		cbnz	r0, .L599
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6363              		.loc 1 4143 0
 6364 02ae 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 6365 02b0 03F07F03 		and	r3, r3, #127
 6366 02b4 2375     		strb	r3, [r4, #20]
 6367 02b6 E4E7     		b	.L574
 6368              	.L599:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6369              		.loc 1 4142 0 discriminator 1
 6370 02b8 0125     		movs	r5, #1
 6371              	.LVL923:
 6372 02ba 6575     		strb	r5, [r4, #21]
 6373 02bc BBE6     		b	.L543
 6374              	.LVL924:
 6375              	.L598:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6376              		.loc 1 4146 0 discriminator 1
 6377 02be 0125     		movs	r5, #1
 6378              	.LVL925:
 6379 02c0 6575     		strb	r5, [r4, #21]
 6380 02c2 B8E6     		b	.L543
 6381              	.LVL926:
 6382              	.L579:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6383              		.loc 1 4048 0
 6384 02c4 1125     		movs	r5, #17
 6385              	.LVL927:
 6386 02c6 B6E6     		b	.L543
 6387              		.cfi_endproc
 6388              	.LFE174:
 6390              		.section	.text.f_opendir,"ax",%progbits
 6391              		.align	1
 6392              		.global	f_opendir
 6393              		.syntax unified
 6394              		.thumb
 6395              		.thumb_func
 6396              		.fpu fpv4-sp-d16
 6398              	f_opendir:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 233


 6399              	.LFB175:
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6400              		.loc 1 4166 0
 6401              		.cfi_startproc
 6402              		@ args = 0, pretend = 0, frame = 16
 6403              		@ frame_needed = 0, uses_anonymous_args = 0
 6404              	.LVL928:
 6405 0000 30B5     		push	{r4, r5, lr}
 6406              	.LCFI83:
 6407              		.cfi_def_cfa_offset 12
 6408              		.cfi_offset 4, -12
 6409              		.cfi_offset 5, -8
 6410              		.cfi_offset 14, -4
 6411 0002 85B0     		sub	sp, sp, #20
 6412              	.LCFI84:
 6413              		.cfi_def_cfa_offset 32
 6414 0004 0191     		str	r1, [sp, #4]
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6415              		.loc 1 4173 0
 6416 0006 0028     		cmp	r0, #0
 6417 0008 3DD0     		beq	.L607
 6418 000a 0446     		mov	r4, r0
 6419              	.LVL929:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6420              		.loc 1 4177 0
 6421 000c 0022     		movs	r2, #0
 6422 000e 03A9     		add	r1, sp, #12
 6423              	.LVL930:
 6424 0010 01A8     		add	r0, sp, #4
 6425              	.LVL931:
 6426 0012 FFF7FEFF 		bl	find_volume
 6427              	.LVL932:
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 6428              		.loc 1 4178 0
 6429 0016 0546     		mov	r5, r0
 6430 0018 28B1     		cbz	r0, .L612
 6431              	.L602:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6432              		.loc 1 4220 0
 6433 001a 0DB1     		cbz	r5, .L601
 6434              	.L606:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6435              		.loc 1 4220 0 is_stmt 0 discriminator 1
 6436 001c 0023     		movs	r3, #0
 6437 001e 2360     		str	r3, [r4]
 6438              	.LVL933:
 6439              	.L601:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6440              		.loc 1 4223 0 is_stmt 1
 6441 0020 2846     		mov	r0, r5
 6442 0022 05B0     		add	sp, sp, #20
 6443              	.LCFI85:
 6444              		.cfi_remember_state
 6445              		.cfi_def_cfa_offset 12
 6446              		@ sp needed
 6447 0024 30BD     		pop	{r4, r5, pc}
 6448              	.LVL934:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 234


 6449              	.L612:
 6450              	.LCFI86:
 6451              		.cfi_restore_state
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 6452              		.loc 1 4179 0
 6453 0026 039B     		ldr	r3, [sp, #12]
 6454 0028 2360     		str	r3, [r4]
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 6455              		.loc 1 4181 0
 6456 002a 0199     		ldr	r1, [sp, #4]
 6457 002c 2046     		mov	r0, r4
 6458 002e FFF7FEFF 		bl	follow_path
 6459              	.LVL935:
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 6460              		.loc 1 4182 0
 6461 0032 0546     		mov	r5, r0
 6462 0034 18BB     		cbnz	r0, .L603
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 6463              		.loc 1 4183 0
 6464 0036 94F92F30 		ldrsb	r3, [r4, #47]
 6465 003a 002B     		cmp	r3, #0
 6466 003c 08DB     		blt	.L604
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 6467              		.loc 1 4184 0
 6468 003e A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 6469 0040 13F0100F 		tst	r3, #16
 6470 0044 1AD0     		beq	.L608
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6471              		.loc 1 4196 0
 6472 0046 216A     		ldr	r1, [r4, #32]
 6473 0048 0398     		ldr	r0, [sp, #12]
 6474 004a FFF7FEFF 		bl	ld_clust
 6475              	.LVL936:
 6476 004e A060     		str	r0, [r4, #8]
 6477              	.L604:
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 6478              		.loc 1 4203 0
 6479 0050 039B     		ldr	r3, [sp, #12]
 6480 0052 DB88     		ldrh	r3, [r3, #6]
 6481 0054 A380     		strh	r3, [r4, #4]	@ movhi
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6482              		.loc 1 4204 0
 6483 0056 0021     		movs	r1, #0
 6484 0058 2046     		mov	r0, r4
 6485 005a FFF7FEFF 		bl	dir_sdi
 6486              	.LVL937:
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 6487              		.loc 1 4206 0
 6488 005e 0546     		mov	r5, r0
 6489 0060 68B9     		cbnz	r0, .L603
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 6490              		.loc 1 4207 0
 6491 0062 A368     		ldr	r3, [r4, #8]
 6492 0064 13B9     		cbnz	r3, .L613
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6493              		.loc 1 4211 0
 6494 0066 0023     		movs	r3, #0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 235


 6495 0068 2361     		str	r3, [r4, #16]
 6496 006a 08E0     		b	.L603
 6497              	.L613:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 6498              		.loc 1 4208 0
 6499 006c 0021     		movs	r1, #0
 6500 006e 2046     		mov	r0, r4
 6501 0070 FFF7FEFF 		bl	inc_lock
 6502              	.LVL938:
 6503 0074 2061     		str	r0, [r4, #16]
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 6504              		.loc 1 4209 0
 6505 0076 10B9     		cbnz	r0, .L603
 6506              	.LVL939:
 6507 0078 1225     		movs	r5, #18
 6508 007a CEE7     		b	.L602
 6509              	.LVL940:
 6510              	.L608:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6511              		.loc 1 4199 0
 6512 007c 0525     		movs	r5, #5
 6513              	.LVL941:
 6514              	.L603:
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6515              		.loc 1 4218 0
 6516 007e 042D     		cmp	r5, #4
 6517 0080 CBD1     		bne	.L602
 6518              	.LVL942:
 6519 0082 0525     		movs	r5, #5
 6520 0084 CAE7     		b	.L606
 6521              	.LVL943:
 6522              	.L607:
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6523              		.loc 1 4173 0
 6524 0086 0925     		movs	r5, #9
 6525 0088 CAE7     		b	.L601
 6526              		.cfi_endproc
 6527              	.LFE175:
 6529              		.section	.text.f_closedir,"ax",%progbits
 6530              		.align	1
 6531              		.global	f_closedir
 6532              		.syntax unified
 6533              		.thumb
 6534              		.thumb_func
 6535              		.fpu fpv4-sp-d16
 6537              	f_closedir:
 6538              	.LFB176:
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6539              		.loc 1 4235 0
 6540              		.cfi_startproc
 6541              		@ args = 0, pretend = 0, frame = 8
 6542              		@ frame_needed = 0, uses_anonymous_args = 0
 6543              	.LVL944:
 6544 0000 10B5     		push	{r4, lr}
 6545              	.LCFI87:
 6546              		.cfi_def_cfa_offset 8
 6547              		.cfi_offset 4, -8
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 236


 6548              		.cfi_offset 14, -4
 6549 0002 82B0     		sub	sp, sp, #8
 6550              	.LCFI88:
 6551              		.cfi_def_cfa_offset 16
 6552 0004 0446     		mov	r4, r0
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6553              		.loc 1 4240 0
 6554 0006 01A9     		add	r1, sp, #4
 6555 0008 FFF7FEFF 		bl	validate
 6556              	.LVL945:
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6557              		.loc 1 4241 0
 6558 000c 0346     		mov	r3, r0
 6559 000e 20B9     		cbnz	r0, .L615
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 6560              		.loc 1 4243 0
 6561 0010 2069     		ldr	r0, [r4, #16]
 6562              	.LVL946:
 6563 0012 28B9     		cbnz	r0, .L618
 6564              	.L616:
 6565              	.LVL947:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6566              		.loc 1 4246 0
 6567 0014 0BB9     		cbnz	r3, .L615
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6568              		.loc 1 4249 0
 6569 0016 0022     		movs	r2, #0
 6570 0018 2260     		str	r2, [r4]
 6571              	.LVL948:
 6572              	.L615:
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6573              		.loc 1 4256 0
 6574 001a 1846     		mov	r0, r3
 6575 001c 02B0     		add	sp, sp, #8
 6576              	.LCFI89:
 6577              		.cfi_remember_state
 6578              		.cfi_def_cfa_offset 8
 6579              		@ sp needed
 6580 001e 10BD     		pop	{r4, pc}
 6581              	.LVL949:
 6582              	.L618:
 6583              	.LCFI90:
 6584              		.cfi_restore_state
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6585              		.loc 1 4244 0
 6586 0020 FFF7FEFF 		bl	dec_lock
 6587              	.LVL950:
 6588 0024 0346     		mov	r3, r0
 6589              	.LVL951:
 6590 0026 F5E7     		b	.L616
 6591              		.cfi_endproc
 6592              	.LFE176:
 6594              		.section	.text.f_readdir,"ax",%progbits
 6595              		.align	1
 6596              		.global	f_readdir
 6597              		.syntax unified
 6598              		.thumb
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 237


 6599              		.thumb_func
 6600              		.fpu fpv4-sp-d16
 6602              	f_readdir:
 6603              	.LFB177:
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6604              		.loc 1 4269 0
 6605              		.cfi_startproc
 6606              		@ args = 0, pretend = 0, frame = 8
 6607              		@ frame_needed = 0, uses_anonymous_args = 0
 6608              	.LVL952:
 6609 0000 70B5     		push	{r4, r5, r6, lr}
 6610              	.LCFI91:
 6611              		.cfi_def_cfa_offset 16
 6612              		.cfi_offset 4, -16
 6613              		.cfi_offset 5, -12
 6614              		.cfi_offset 6, -8
 6615              		.cfi_offset 14, -4
 6616 0002 82B0     		sub	sp, sp, #8
 6617              	.LCFI92:
 6618              		.cfi_def_cfa_offset 24
 6619 0004 0546     		mov	r5, r0
 6620 0006 0E46     		mov	r6, r1
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6621              		.loc 1 4275 0
 6622 0008 01A9     		add	r1, sp, #4
 6623              	.LVL953:
 6624 000a FFF7FEFF 		bl	validate
 6625              	.LVL954:
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 6626              		.loc 1 4276 0
 6627 000e 0446     		mov	r4, r0
 6628 0010 90B9     		cbnz	r0, .L620
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 6629              		.loc 1 4277 0
 6630 0012 A6B1     		cbz	r6, .L625
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 6631              		.loc 1 4281 0
 6632 0014 0021     		movs	r1, #0
 6633 0016 2846     		mov	r0, r5
 6634              	.LVL955:
 6635 0018 FFF7FEFF 		bl	dir_read
 6636              	.LVL956:
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 6637              		.loc 1 4282 0
 6638 001c 0428     		cmp	r0, #4
 6639 001e 00D0     		beq	.L622
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 6640              		.loc 1 4283 0
 6641 0020 98B9     		cbnz	r0, .L623
 6642              	.L622:
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 6643              		.loc 1 4284 0
 6644 0022 3146     		mov	r1, r6
 6645 0024 2846     		mov	r0, r5
 6646              	.LVL957:
 6647 0026 FFF7FEFF 		bl	get_fileinfo
 6648              	.LVL958:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 238


4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 6649              		.loc 1 4285 0
 6650 002a 0021     		movs	r1, #0
 6651 002c 2846     		mov	r0, r5
 6652 002e FFF7FEFF 		bl	dir_next
 6653              	.LVL959:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6654              		.loc 1 4286 0
 6655 0032 0428     		cmp	r0, #4
 6656 0034 00D0     		beq	.L620
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 6657              		.loc 1 4285 0
 6658 0036 0446     		mov	r4, r0
 6659              	.LVL960:
 6660              	.L620:
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6661              		.loc 1 4292 0
 6662 0038 2046     		mov	r0, r4
 6663 003a 02B0     		add	sp, sp, #8
 6664              	.LCFI93:
 6665              		.cfi_remember_state
 6666              		.cfi_def_cfa_offset 16
 6667              		@ sp needed
 6668 003c 70BD     		pop	{r4, r5, r6, pc}
 6669              	.LVL961:
 6670              	.L625:
 6671              	.LCFI94:
 6672              		.cfi_restore_state
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6673              		.loc 1 4278 0
 6674 003e 0021     		movs	r1, #0
 6675 0040 2846     		mov	r0, r5
 6676              	.LVL962:
 6677 0042 FFF7FEFF 		bl	dir_sdi
 6678              	.LVL963:
 6679 0046 0446     		mov	r4, r0
 6680              	.LVL964:
 6681 0048 F6E7     		b	.L620
 6682              	.LVL965:
 6683              	.L623:
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 6684              		.loc 1 4281 0
 6685 004a 0446     		mov	r4, r0
 6686 004c F4E7     		b	.L620
 6687              		.cfi_endproc
 6688              	.LFE177:
 6690              		.section	.text.f_stat,"ax",%progbits
 6691              		.align	1
 6692              		.global	f_stat
 6693              		.syntax unified
 6694              		.thumb
 6695              		.thumb_func
 6696              		.fpu fpv4-sp-d16
 6698              	f_stat:
 6699              	.LFB178:
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6700              		.loc 1 4357 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 239


 6701              		.cfi_startproc
 6702              		@ args = 0, pretend = 0, frame = 56
 6703              		@ frame_needed = 0, uses_anonymous_args = 0
 6704              	.LVL966:
 6705 0000 30B5     		push	{r4, r5, lr}
 6706              	.LCFI95:
 6707              		.cfi_def_cfa_offset 12
 6708              		.cfi_offset 4, -12
 6709              		.cfi_offset 5, -8
 6710              		.cfi_offset 14, -4
 6711 0002 8FB0     		sub	sp, sp, #60
 6712              	.LCFI96:
 6713              		.cfi_def_cfa_offset 72
 6714 0004 0190     		str	r0, [sp, #4]
 6715 0006 0D46     		mov	r5, r1
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6716              		.loc 1 4364 0
 6717 0008 0022     		movs	r2, #0
 6718 000a 02A9     		add	r1, sp, #8
 6719              	.LVL967:
 6720 000c 01A8     		add	r0, sp, #4
 6721              	.LVL968:
 6722 000e FFF7FEFF 		bl	find_volume
 6723              	.LVL969:
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 6724              		.loc 1 4365 0
 6725 0012 0446     		mov	r4, r0
 6726 0014 10B1     		cbz	r0, .L630
 6727              	.LVL970:
 6728              	.L627:
4379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6729              		.loc 1 4379 0
 6730 0016 2046     		mov	r0, r4
 6731 0018 0FB0     		add	sp, sp, #60
 6732              	.LCFI97:
 6733              		.cfi_remember_state
 6734              		.cfi_def_cfa_offset 12
 6735              		@ sp needed
 6736 001a 30BD     		pop	{r4, r5, pc}
 6737              	.LVL971:
 6738              	.L630:
 6739              	.LCFI98:
 6740              		.cfi_restore_state
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 6741              		.loc 1 4367 0
 6742 001c 0199     		ldr	r1, [sp, #4]
 6743 001e 02A8     		add	r0, sp, #8
 6744              	.LVL972:
 6745 0020 FFF7FEFF 		bl	follow_path
 6746              	.LVL973:
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 6747              		.loc 1 4368 0
 6748 0024 0446     		mov	r4, r0
 6749 0026 0028     		cmp	r0, #0
 6750 0028 F5D1     		bne	.L627
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 6751              		.loc 1 4369 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 240


 6752 002a 9DF93730 		ldrsb	r3, [sp, #55]
 6753 002e 002B     		cmp	r3, #0
 6754 0030 06DB     		blt	.L628
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6755              		.loc 1 4372 0
 6756 0032 002D     		cmp	r5, #0
 6757 0034 EFD0     		beq	.L627
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6758              		.loc 1 4372 0 is_stmt 0 discriminator 1
 6759 0036 2946     		mov	r1, r5
 6760 0038 02A8     		add	r0, sp, #8
 6761              	.LVL974:
 6762 003a FFF7FEFF 		bl	get_fileinfo
 6763              	.LVL975:
 6764 003e EAE7     		b	.L627
 6765              	.LVL976:
 6766              	.L628:
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
 6767              		.loc 1 4370 0 is_stmt 1
 6768 0040 0624     		movs	r4, #6
 6769 0042 E8E7     		b	.L627
 6770              		.cfi_endproc
 6771              	.LFE178:
 6773              		.section	.text.f_getfree,"ax",%progbits
 6774              		.align	1
 6775              		.global	f_getfree
 6776              		.syntax unified
 6777              		.thumb
 6778              		.thumb_func
 6779              		.fpu fpv4-sp-d16
 6781              	f_getfree:
 6782              	.LFB179:
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6783              		.loc 1 4393 0
 6784              		.cfi_startproc
 6785              		@ args = 0, pretend = 0, frame = 32
 6786              		@ frame_needed = 0, uses_anonymous_args = 0
 6787              	.LVL977:
 6788 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6789              	.LCFI99:
 6790              		.cfi_def_cfa_offset 36
 6791              		.cfi_offset 4, -36
 6792              		.cfi_offset 5, -32
 6793              		.cfi_offset 6, -28
 6794              		.cfi_offset 7, -24
 6795              		.cfi_offset 8, -20
 6796              		.cfi_offset 9, -16
 6797              		.cfi_offset 10, -12
 6798              		.cfi_offset 11, -8
 6799              		.cfi_offset 14, -4
 6800 0004 89B0     		sub	sp, sp, #36
 6801              	.LCFI100:
 6802              		.cfi_def_cfa_offset 72
 6803 0006 0190     		str	r0, [sp, #4]
 6804 0008 8A46     		mov	r10, r1
 6805 000a 1446     		mov	r4, r2
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 241


 6806              		.loc 1 4403 0
 6807 000c 0022     		movs	r2, #0
 6808              	.LVL978:
 6809 000e 07A9     		add	r1, sp, #28
 6810              	.LVL979:
 6811 0010 01A8     		add	r0, sp, #4
 6812              	.LVL980:
 6813 0012 FFF7FEFF 		bl	find_volume
 6814              	.LVL981:
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 6815              		.loc 1 4404 0
 6816 0016 8046     		mov	r8, r0
 6817 0018 0028     		cmp	r0, #0
 6818 001a 5AD1     		bne	.L632
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 6819              		.loc 1 4405 0
 6820 001c 079B     		ldr	r3, [sp, #28]
 6821 001e 2360     		str	r3, [r4]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 6822              		.loc 1 4407 0
 6823 0020 5A69     		ldr	r2, [r3, #20]
 6824 0022 9D69     		ldr	r5, [r3, #24]
 6825 0024 A91E     		subs	r1, r5, #2
 6826 0026 8A42     		cmp	r2, r1
 6827 0028 08D9     		bls	.L647
 6828              	.LVL982:
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 6829              		.loc 1 4412 0
 6830 002a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 6831 002c 012A     		cmp	r2, #1
 6832 002e 08D0     		beq	.L648
 6833              	.LVL983:
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 6834              		.loc 1 4440 0
 6835 0030 D3F82490 		ldr	r9, [r3, #36]
 6836              	.LVL984:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 6837              		.loc 1 4441 0
 6838 0034 0024     		movs	r4, #0
 6839              	.LVL985:
 6840 0036 2646     		mov	r6, r4
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 6841              		.loc 1 4411 0
 6842 0038 2746     		mov	r7, r4
 6843 003a 32E0     		b	.L643
 6844              	.LVL986:
 6845              	.L647:
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6846              		.loc 1 4408 0
 6847 003c CAF80020 		str	r2, [r10]
 6848 0040 47E0     		b	.L632
 6849              	.LVL987:
 6850              	.L648:
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 6851              		.loc 1 4413 0
 6852 0042 0293     		str	r3, [sp, #8]
 6853 0044 0224     		movs	r4, #2
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 242


 6854              	.LVL988:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 6855              		.loc 1 4411 0
 6856 0046 0027     		movs	r7, #0
 6857 0048 04E0     		b	.L637
 6858              	.LVL989:
 6859              	.L636:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 6860              		.loc 1 4419 0
 6861 004a 0134     		adds	r4, r4, #1
 6862              	.LVL990:
 6863 004c 079B     		ldr	r3, [sp, #28]
 6864 004e 9B69     		ldr	r3, [r3, #24]
 6865 0050 A342     		cmp	r3, r4
 6866 0052 36D9     		bls	.L635
 6867              	.LVL991:
 6868              	.L637:
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 6869              		.loc 1 4415 0
 6870 0054 2146     		mov	r1, r4
 6871 0056 02A8     		add	r0, sp, #8
 6872 0058 FFF7FEFF 		bl	get_fat
 6873              	.LVL992:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 6874              		.loc 1 4416 0
 6875 005c B0F1FF3F 		cmp	r0, #-1
 6876 0060 2DD0     		beq	.L644
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 6877              		.loc 1 4417 0
 6878 0062 0128     		cmp	r0, #1
 6879 0064 39D0     		beq	.L645
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 6880              		.loc 1 4418 0
 6881 0066 0028     		cmp	r0, #0
 6882 0068 EFD1     		bne	.L636
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 6883              		.loc 1 4418 0 is_stmt 0 discriminator 1
 6884 006a 0137     		adds	r7, r7, #1
 6885              	.LVL993:
 6886 006c EDE7     		b	.L636
 6887              	.LVL994:
 6888              	.L649:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 6889              		.loc 1 4444 0 is_stmt 1
 6890 006e 09F1010B 		add	fp, r9, #1
 6891              	.LVL995:
 6892 0072 4946     		mov	r1, r9
 6893 0074 0798     		ldr	r0, [sp, #28]
 6894 0076 FFF7FEFF 		bl	move_window
 6895              	.LVL996:
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 6896              		.loc 1 4445 0
 6897 007a 8046     		mov	r8, r0
 6898 007c 08BB     		cbnz	r0, .L635
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 6899              		.loc 1 4446 0
 6900 007e 079B     		ldr	r3, [sp, #28]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 243


 6901 0080 03F13404 		add	r4, r3, #52
 6902              	.LVL997:
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 6903              		.loc 1 4447 0
 6904 0084 9E89     		ldrh	r6, [r3, #12]
 6905              	.LVL998:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 6906              		.loc 1 4444 0
 6907 0086 D946     		mov	r9, fp
 6908 0088 0DE0     		b	.L638
 6909              	.LVL999:
 6910              	.L650:
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 6911              		.loc 1 4450 0
 6912 008a 2046     		mov	r0, r4
 6913 008c FFF7FEFF 		bl	ld_word
 6914              	.LVL1000:
 6915 0090 00B9     		cbnz	r0, .L640
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 6916              		.loc 1 4450 0 is_stmt 0 discriminator 1
 6917 0092 0137     		adds	r7, r7, #1
 6918              	.LVL1001:
 6919              	.L640:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 6920              		.loc 1 4451 0 is_stmt 1
 6921 0094 0234     		adds	r4, r4, #2
 6922              	.LVL1002:
 6923 0096 023E     		subs	r6, r6, #2
 6924              	.LVL1003:
 6925 0098 01E0     		b	.L641
 6926              	.L642:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 6927              		.loc 1 4454 0
 6928 009a 0434     		adds	r4, r4, #4
 6929              	.LVL1004:
 6930 009c 043E     		subs	r6, r6, #4
 6931              	.LVL1005:
 6932              	.L641:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6933              		.loc 1 4456 0
 6934 009e 013D     		subs	r5, r5, #1
 6935              	.LVL1006:
 6936 00a0 0FD0     		beq	.L635
 6937              	.LVL1007:
 6938              	.L643:
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 6939              		.loc 1 4443 0
 6940 00a2 002E     		cmp	r6, #0
 6941 00a4 E3D0     		beq	.L649
 6942              	.LVL1008:
 6943              	.L638:
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 6944              		.loc 1 4449 0
 6945 00a6 079B     		ldr	r3, [sp, #28]
 6946 00a8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 6947 00aa 022B     		cmp	r3, #2
 6948 00ac EDD0     		beq	.L650
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 244


4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 6949              		.loc 1 4453 0
 6950 00ae 2046     		mov	r0, r4
 6951 00b0 FFF7FEFF 		bl	ld_dword
 6952              	.LVL1009:
 6953 00b4 30F07043 		bics	r3, r0, #-268435456
 6954 00b8 EFD1     		bne	.L642
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 6955              		.loc 1 4453 0 is_stmt 0 discriminator 1
 6956 00ba 0137     		adds	r7, r7, #1
 6957              	.LVL1010:
 6958 00bc EDE7     		b	.L642
 6959              	.LVL1011:
 6960              	.L644:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 6961              		.loc 1 4416 0 is_stmt 1
 6962 00be 4FF00108 		mov	r8, #1
 6963              	.LVL1012:
 6964              	.L635:
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 6965              		.loc 1 4459 0
 6966 00c2 CAF80070 		str	r7, [r10]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 6967              		.loc 1 4460 0
 6968 00c6 079B     		ldr	r3, [sp, #28]
 6969 00c8 5F61     		str	r7, [r3, #20]
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6970              		.loc 1 4461 0
 6971 00ca 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 6972 00cc 42F00102 		orr	r2, r2, #1
 6973 00d0 1A71     		strb	r2, [r3, #4]
 6974              	.LVL1013:
 6975              	.L632:
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6976              		.loc 1 4466 0
 6977 00d2 4046     		mov	r0, r8
 6978 00d4 09B0     		add	sp, sp, #36
 6979              	.LCFI101:
 6980              		.cfi_remember_state
 6981              		.cfi_def_cfa_offset 36
 6982              		@ sp needed
 6983 00d6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6984              	.LVL1014:
 6985              	.L645:
 6986              	.LCFI102:
 6987              		.cfi_restore_state
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 6988              		.loc 1 4417 0
 6989 00da 4FF00208 		mov	r8, #2
 6990 00de F0E7     		b	.L635
 6991              		.cfi_endproc
 6992              	.LFE179:
 6994              		.section	.text.f_truncate,"ax",%progbits
 6995              		.align	1
 6996              		.global	f_truncate
 6997              		.syntax unified
 6998              		.thumb
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 245


 6999              		.thumb_func
 7000              		.fpu fpv4-sp-d16
 7002              	f_truncate:
 7003              	.LFB180:
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7004              		.loc 1 4478 0
 7005              		.cfi_startproc
 7006              		@ args = 0, pretend = 0, frame = 8
 7007              		@ frame_needed = 0, uses_anonymous_args = 0
 7008              	.LVL1015:
 7009 0000 30B5     		push	{r4, r5, lr}
 7010              	.LCFI103:
 7011              		.cfi_def_cfa_offset 12
 7012              		.cfi_offset 4, -12
 7013              		.cfi_offset 5, -8
 7014              		.cfi_offset 14, -4
 7015 0002 83B0     		sub	sp, sp, #12
 7016              	.LCFI104:
 7017              		.cfi_def_cfa_offset 24
 7018 0004 0546     		mov	r5, r0
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 7019              		.loc 1 4484 0
 7020 0006 01A9     		add	r1, sp, #4
 7021 0008 FFF7FEFF 		bl	validate
 7022              	.LVL1016:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 7023              		.loc 1 4485 0
 7024 000c 0446     		mov	r4, r0
 7025 000e 0028     		cmp	r0, #0
 7026 0010 4BD1     		bne	.L652
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 7027              		.loc 1 4485 0 is_stmt 0 discriminator 2
 7028 0012 6C7D     		ldrb	r4, [r5, #21]	@ zero_extendqisi2
 7029              	.LVL1017:
 7030 0014 002C     		cmp	r4, #0
 7031 0016 48D1     		bne	.L652
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7032              		.loc 1 4486 0 is_stmt 1
 7033 0018 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 7034 001a 13F0020F 		tst	r3, #2
 7035 001e 43D0     		beq	.L658
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 7036              		.loc 1 4488 0
 7037 0020 AB69     		ldr	r3, [r5, #24]
 7038 0022 EA68     		ldr	r2, [r5, #12]
 7039 0024 9342     		cmp	r3, r2
 7040 0026 40D2     		bcs	.L652
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 7041              		.loc 1 4489 0
 7042 0028 A3B9     		cbnz	r3, .L653
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 7043              		.loc 1 4490 0
 7044 002a 0022     		movs	r2, #0
 7045 002c A968     		ldr	r1, [r5, #8]
 7046 002e 2846     		mov	r0, r5
 7047 0030 FFF7FEFF 		bl	remove_chain
 7048              	.LVL1018:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 246


 7049 0034 0446     		mov	r4, r0
 7050              	.LVL1019:
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 7051              		.loc 1 4491 0
 7052 0036 0023     		movs	r3, #0
 7053 0038 AB60     		str	r3, [r5, #8]
 7054              	.LVL1020:
 7055              	.L654:
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 7056              		.loc 1 4501 0
 7057 003a AB69     		ldr	r3, [r5, #24]
 7058 003c EB60     		str	r3, [r5, #12]
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7059              		.loc 1 4502 0
 7060 003e 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 7061 0040 43F04003 		orr	r3, r3, #64
 7062 0044 2B75     		strb	r3, [r5, #20]
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 7063              		.loc 1 4504 0
 7064 0046 14B9     		cbnz	r4, .L656
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 7065              		.loc 1 4504 0 is_stmt 0 discriminator 1
 7066 0048 13F0800F 		tst	r3, #128
 7067 004c 1CD1     		bne	.L663
 7068              	.L656:
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7069              		.loc 1 4512 0 is_stmt 1
 7070 004e 64B3     		cbz	r4, .L652
 7071              	.LVL1021:
 7072              	.L657:
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7073              		.loc 1 4512 0 is_stmt 0 discriminator 1
 7074 0050 6C75     		strb	r4, [r5, #21]
 7075 0052 2AE0     		b	.L652
 7076              	.LVL1022:
 7077              	.L653:
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 7078              		.loc 1 4493 0 is_stmt 1
 7079 0054 E969     		ldr	r1, [r5, #28]
 7080 0056 2846     		mov	r0, r5
 7081 0058 FFF7FEFF 		bl	get_fat
 7082              	.LVL1023:
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 7083              		.loc 1 4495 0
 7084 005c B0F1FF3F 		cmp	r0, #-1
 7085 0060 0ED0     		beq	.L664
 7086              	.L655:
 7087              	.LVL1024:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 7088              		.loc 1 4496 0
 7089 0062 0128     		cmp	r0, #1
 7090 0064 0ED0     		beq	.L660
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 7091              		.loc 1 4497 0
 7092 0066 002C     		cmp	r4, #0
 7093 0068 E7D1     		bne	.L654
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 247


 7094              		.loc 1 4497 0 is_stmt 0 discriminator 1
 7095 006a 019B     		ldr	r3, [sp, #4]
 7096 006c 9B69     		ldr	r3, [r3, #24]
 7097 006e 8342     		cmp	r3, r0
 7098 0070 E3D9     		bls	.L654
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7099              		.loc 1 4498 0 is_stmt 1
 7100 0072 EA69     		ldr	r2, [r5, #28]
 7101 0074 0146     		mov	r1, r0
 7102 0076 2846     		mov	r0, r5
 7103              	.LVL1025:
 7104 0078 FFF7FEFF 		bl	remove_chain
 7105              	.LVL1026:
 7106 007c 0446     		mov	r4, r0
 7107              	.LVL1027:
 7108 007e DCE7     		b	.L654
 7109              	.LVL1028:
 7110              	.L664:
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 7111              		.loc 1 4495 0
 7112 0080 0124     		movs	r4, #1
 7113 0082 EEE7     		b	.L655
 7114              	.LVL1029:
 7115              	.L660:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 7116              		.loc 1 4496 0
 7117 0084 0224     		movs	r4, #2
 7118              	.LVL1030:
 7119 0086 D8E7     		b	.L654
 7120              	.LVL1031:
 7121              	.L663:
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 7122              		.loc 1 4505 0
 7123 0088 0123     		movs	r3, #1
 7124 008a 2A6A     		ldr	r2, [r5, #32]
 7125 008c 05F13001 		add	r1, r5, #48
 7126 0090 0198     		ldr	r0, [sp, #4]
 7127 0092 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7128 0094 FFF7FEFF 		bl	disk_write
 7129              	.LVL1032:
 7130 0098 20B9     		cbnz	r0, .L661
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7131              		.loc 1 4508 0
 7132 009a 2B7D     		ldrb	r3, [r5, #20]	@ zero_extendqisi2
 7133 009c 03F07F03 		and	r3, r3, #127
 7134 00a0 2B75     		strb	r3, [r5, #20]
 7135 00a2 D4E7     		b	.L656
 7136              	.L661:
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7137              		.loc 1 4506 0
 7138 00a4 0124     		movs	r4, #1
 7139              	.LVL1033:
 7140 00a6 D3E7     		b	.L657
 7141              	.LVL1034:
 7142              	.L658:
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7143              		.loc 1 4486 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 248


 7144 00a8 0724     		movs	r4, #7
 7145              	.LVL1035:
 7146              	.L652:
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7147              		.loc 1 4516 0
 7148 00aa 2046     		mov	r0, r4
 7149 00ac 03B0     		add	sp, sp, #12
 7150              	.LCFI105:
 7151              		.cfi_def_cfa_offset 12
 7152              		@ sp needed
 7153 00ae 30BD     		pop	{r4, r5, pc}
 7154              		.cfi_endproc
 7155              	.LFE180:
 7157              		.section	.text.f_unlink,"ax",%progbits
 7158              		.align	1
 7159              		.global	f_unlink
 7160              		.syntax unified
 7161              		.thumb
 7162              		.thumb_func
 7163              		.fpu fpv4-sp-d16
 7165              	f_unlink:
 7166              	.LFB181:
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7167              		.loc 1 4528 0
 7168              		.cfi_startproc
 7169              		@ args = 0, pretend = 0, frame = 112
 7170              		@ frame_needed = 0, uses_anonymous_args = 0
 7171              	.LVL1036:
 7172 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 7173              	.LCFI106:
 7174              		.cfi_def_cfa_offset 20
 7175              		.cfi_offset 4, -20
 7176              		.cfi_offset 5, -16
 7177              		.cfi_offset 6, -12
 7178              		.cfi_offset 7, -8
 7179              		.cfi_offset 14, -4
 7180 0002 9DB0     		sub	sp, sp, #116
 7181              	.LCFI107:
 7182              		.cfi_def_cfa_offset 136
 7183 0004 0190     		str	r0, [sp, #4]
 7184              	.LVL1037:
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 7185              		.loc 1 4540 0
 7186 0006 0222     		movs	r2, #2
 7187 0008 03A9     		add	r1, sp, #12
 7188 000a 01A8     		add	r0, sp, #4
 7189              	.LVL1038:
 7190 000c FFF7FEFF 		bl	find_volume
 7191              	.LVL1039:
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7192              		.loc 1 4541 0
 7193 0010 039B     		ldr	r3, [sp, #12]
 7194 0012 1093     		str	r3, [sp, #64]
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 7195              		.loc 1 4542 0
 7196 0014 0446     		mov	r4, r0
 7197 0016 10B1     		cbz	r0, .L675
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 249


 7198              	.LVL1040:
 7199              	.L666:
4611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7200              		.loc 1 4611 0
 7201 0018 2046     		mov	r0, r4
 7202 001a 1DB0     		add	sp, sp, #116
 7203              	.LCFI108:
 7204              		.cfi_remember_state
 7205              		.cfi_def_cfa_offset 20
 7206              		@ sp needed
 7207 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 7208              	.LVL1041:
 7209              	.L675:
 7210              	.LCFI109:
 7211              		.cfi_restore_state
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 7212              		.loc 1 4544 0
 7213 001e 0199     		ldr	r1, [sp, #4]
 7214 0020 10A8     		add	r0, sp, #64
 7215              	.LVL1042:
 7216 0022 FFF7FEFF 		bl	follow_path
 7217              	.LVL1043:
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7218              		.loc 1 4549 0
 7219 0026 0446     		mov	r4, r0
 7220 0028 20B9     		cbnz	r0, .L667
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7221              		.loc 1 4549 0 is_stmt 0 discriminator 1
 7222 002a 0221     		movs	r1, #2
 7223 002c 10A8     		add	r0, sp, #64
 7224              	.LVL1044:
 7225 002e FFF7FEFF 		bl	chk_lock
 7226              	.LVL1045:
 7227 0032 0446     		mov	r4, r0
 7228              	.LVL1046:
 7229              	.L667:
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 7230              		.loc 1 4551 0 is_stmt 1
 7231 0034 002C     		cmp	r4, #0
 7232 0036 EFD1     		bne	.L666
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 7233              		.loc 1 4552 0
 7234 0038 9DF96F30 		ldrsb	r3, [sp, #111]
 7235 003c 002B     		cmp	r3, #0
 7236 003e 1EDB     		blt	.L671
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 7237              		.loc 1 4555 0
 7238 0040 9DF84650 		ldrb	r5, [sp, #70]	@ zero_extendqisi2
 7239 0044 15F0010F 		tst	r5, #1
 7240 0048 2AD1     		bne	.L672
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7241              		.loc 1 4569 0
 7242 004a 039F     		ldr	r7, [sp, #12]
 7243 004c 1899     		ldr	r1, [sp, #96]
 7244 004e 3846     		mov	r0, r7
 7245 0050 FFF7FEFF 		bl	ld_clust
 7246              	.LVL1047:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 250


 7247 0054 0646     		mov	r6, r0
 7248              	.LVL1048:
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 7249              		.loc 1 4571 0
 7250 0056 15F0100F 		tst	r5, #16
 7251 005a 12D0     		beq	.L668
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 7252              		.loc 1 4578 0
 7253 005c 0497     		str	r7, [sp, #16]
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7254              		.loc 1 4579 0
 7255 005e 0690     		str	r0, [sp, #24]
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 7256              		.loc 1 4586 0
 7257 0060 0021     		movs	r1, #0
 7258 0062 04A8     		add	r0, sp, #16
 7259              	.LVL1049:
 7260 0064 FFF7FEFF 		bl	dir_sdi
 7261              	.LVL1050:
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 7262              		.loc 1 4587 0
 7263 0068 0446     		mov	r4, r0
 7264 006a 50B9     		cbnz	r0, .L668
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 7265              		.loc 1 4588 0
 7266 006c 0021     		movs	r1, #0
 7267 006e 04A8     		add	r0, sp, #16
 7268              	.LVL1051:
 7269 0070 FFF7FEFF 		bl	dir_read
 7270              	.LVL1052:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 7271              		.loc 1 4589 0
 7272 0074 0446     		mov	r4, r0
 7273 0076 B0B1     		cbz	r0, .L673
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7274              		.loc 1 4590 0
 7275 0078 0428     		cmp	r0, #4
 7276 007a 02D1     		bne	.L668
 7277 007c 03E0     		b	.L669
 7278              	.LVL1053:
 7279              	.L671:
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7280              		.loc 1 4531 0
 7281 007e 0026     		movs	r6, #0
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7282              		.loc 1 4553 0
 7283 0080 0624     		movs	r4, #6
 7284              	.LVL1054:
 7285              	.L668:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 7286              		.loc 1 4595 0
 7287 0082 002C     		cmp	r4, #0
 7288 0084 C8D1     		bne	.L666
 7289              	.LVL1055:
 7290              	.L669:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 7291              		.loc 1 4596 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 251


 7292 0086 10A8     		add	r0, sp, #64
 7293 0088 FFF7FEFF 		bl	dir_remove
 7294              	.LVL1056:
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7295              		.loc 1 4597 0
 7296 008c 0446     		mov	r4, r0
 7297 008e 00B9     		cbnz	r0, .L670
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7298              		.loc 1 4597 0 is_stmt 0 discriminator 1
 7299 0090 5EB9     		cbnz	r6, .L676
 7300              	.LVL1057:
 7301              	.L670:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7302              		.loc 1 4604 0 is_stmt 1
 7303 0092 002C     		cmp	r4, #0
 7304 0094 C0D1     		bne	.L666
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7305              		.loc 1 4604 0 is_stmt 0 discriminator 1
 7306 0096 0398     		ldr	r0, [sp, #12]
 7307 0098 FFF7FEFF 		bl	sync_fs
 7308              	.LVL1058:
 7309 009c 0446     		mov	r4, r0
 7310              	.LVL1059:
 7311 009e BBE7     		b	.L666
 7312              	.LVL1060:
 7313              	.L672:
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7314              		.loc 1 4531 0 is_stmt 1
 7315 00a0 0026     		movs	r6, #0
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7316              		.loc 1 4556 0
 7317 00a2 0724     		movs	r4, #7
 7318              	.LVL1061:
 7319 00a4 EDE7     		b	.L668
 7320              	.LVL1062:
 7321              	.L673:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 7322              		.loc 1 4589 0
 7323 00a6 0724     		movs	r4, #7
 7324 00a8 EBE7     		b	.L668
 7325              	.L676:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7326              		.loc 1 4601 0
 7327 00aa 0022     		movs	r2, #0
 7328 00ac 3146     		mov	r1, r6
 7329 00ae 10A8     		add	r0, sp, #64
 7330              	.LVL1063:
 7331 00b0 FFF7FEFF 		bl	remove_chain
 7332              	.LVL1064:
 7333 00b4 0446     		mov	r4, r0
 7334              	.LVL1065:
 7335 00b6 ECE7     		b	.L670
 7336              		.cfi_endproc
 7337              	.LFE181:
 7339              		.section	.text.f_mkdir,"ax",%progbits
 7340              		.align	1
 7341              		.global	f_mkdir
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 252


 7342              		.syntax unified
 7343              		.thumb
 7344              		.thumb_func
 7345              		.fpu fpv4-sp-d16
 7347              	f_mkdir:
 7348              	.LFB182:
4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7349              		.loc 1 4623 0
 7350              		.cfi_startproc
 7351              		@ args = 0, pretend = 0, frame = 64
 7352              		@ frame_needed = 0, uses_anonymous_args = 0
 7353              	.LVL1066:
 7354 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7355              	.LCFI110:
 7356              		.cfi_def_cfa_offset 36
 7357              		.cfi_offset 4, -36
 7358              		.cfi_offset 5, -32
 7359              		.cfi_offset 6, -28
 7360              		.cfi_offset 7, -24
 7361              		.cfi_offset 8, -20
 7362              		.cfi_offset 9, -16
 7363              		.cfi_offset 10, -12
 7364              		.cfi_offset 11, -8
 7365              		.cfi_offset 14, -4
 7366 0004 91B0     		sub	sp, sp, #68
 7367              	.LCFI111:
 7368              		.cfi_def_cfa_offset 104
 7369 0006 0190     		str	r0, [sp, #4]
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 7370              		.loc 1 4634 0
 7371 0008 0222     		movs	r2, #2
 7372 000a 03A9     		add	r1, sp, #12
 7373 000c 01A8     		add	r0, sp, #4
 7374              	.LVL1067:
 7375 000e FFF7FEFF 		bl	find_volume
 7376              	.LVL1068:
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7377              		.loc 1 4635 0
 7378 0012 039B     		ldr	r3, [sp, #12]
 7379 0014 0493     		str	r3, [sp, #16]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 7380              		.loc 1 4636 0
 7381 0016 0446     		mov	r4, r0
 7382 0018 18B1     		cbz	r0, .L695
 7383              	.LVL1069:
 7384              	.L678:
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7385              		.loc 1 4708 0
 7386 001a 2046     		mov	r0, r4
 7387 001c 11B0     		add	sp, sp, #68
 7388              	.LCFI112:
 7389              		.cfi_remember_state
 7390              		.cfi_def_cfa_offset 36
 7391              		@ sp needed
 7392 001e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7393              	.LVL1070:
 7394              	.L695:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 253


 7395              	.LCFI113:
 7396              		.cfi_restore_state
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 7397              		.loc 1 4638 0
 7398 0022 0199     		ldr	r1, [sp, #4]
 7399 0024 04A8     		add	r0, sp, #16
 7400              	.LVL1071:
 7401 0026 FFF7FEFF 		bl	follow_path
 7402              	.LVL1072:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 7403              		.loc 1 4639 0
 7404 002a 0028     		cmp	r0, #0
 7405 002c 00F09A80 		beq	.L688
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 7406              		.loc 1 4643 0
 7407 0030 0428     		cmp	r0, #4
 7408 0032 01D0     		beq	.L696
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 7409              		.loc 1 4638 0
 7410 0034 0446     		mov	r4, r0
 7411 0036 F0E7     		b	.L678
 7412              	.L696:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 7413              		.loc 1 4644 0
 7414 0038 0021     		movs	r1, #0
 7415 003a 04A8     		add	r0, sp, #16
 7416              	.LVL1073:
 7417 003c FFF7FEFF 		bl	create_chain
 7418              	.LVL1074:
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 7419              		.loc 1 4645 0
 7420 0040 039A     		ldr	r2, [sp, #12]
 7421 0042 5189     		ldrh	r1, [r2, #10]
 7422 0044 9389     		ldrh	r3, [r2, #12]
 7423 0046 03FB01F3 		mul	r3, r3, r1
 7424 004a 0793     		str	r3, [sp, #28]
 7425              	.LVL1075:
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 7426              		.loc 1 4647 0
 7427 004c 0746     		mov	r7, r0
 7428 004e 00B9     		cbnz	r0, .L679
 7429 0050 0724     		movs	r4, #7
 7430              	.L679:
 7431              	.LVL1076:
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 7432              		.loc 1 4648 0
 7433 0052 012F     		cmp	r7, #1
 7434 0054 11D0     		beq	.L697
 7435              	.LVL1077:
 7436              	.L680:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 7437              		.loc 1 4649 0
 7438 0056 B7F1FF3F 		cmp	r7, #-1
 7439 005a 15D0     		beq	.L692
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 7440              		.loc 1 4650 0
 7441 005c 7CB1     		cbz	r4, .L698
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 254


 7442              	.LVL1078:
 7443              	.L681:
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 7444              		.loc 1 4651 0
 7445 005e FFF7FEFF 		bl	get_fattime
 7446              	.LVL1079:
 7447 0062 8246     		mov	r10, r0
 7448              	.LVL1080:
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 7449              		.loc 1 4652 0
 7450 0064 94B1     		cbz	r4, .L699
 7451              	.LVL1081:
 7452              	.L682:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 7453              		.loc 1 4675 0
 7454 0066 002C     		cmp	r4, #0
 7455 0068 62D0     		beq	.L700
 7456              	.L686:
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7457              		.loc 1 4678 0
 7458 006a 002C     		cmp	r4, #0
 7459 006c 65D0     		beq	.L701
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7460              		.loc 1 4701 0
 7461 006e 0022     		movs	r2, #0
 7462 0070 3946     		mov	r1, r7
 7463 0072 04A8     		add	r0, sp, #16
 7464 0074 FFF7FEFF 		bl	remove_chain
 7465              	.LVL1082:
 7466 0078 CFE7     		b	.L678
 7467              	.LVL1083:
 7468              	.L697:
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 7469              		.loc 1 4648 0
 7470 007a 0224     		movs	r4, #2
 7471              	.LVL1084:
 7472 007c EBE7     		b	.L680
 7473              	.LVL1085:
 7474              	.L698:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 7475              		.loc 1 4650 0 discriminator 1
 7476 007e 1046     		mov	r0, r2
 7477              	.LVL1086:
 7478 0080 FFF7FEFF 		bl	sync_window
 7479              	.LVL1087:
 7480 0084 0446     		mov	r4, r0
 7481              	.LVL1088:
 7482 0086 EAE7     		b	.L681
 7483              	.LVL1089:
 7484              	.L692:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 7485              		.loc 1 4649 0
 7486 0088 0124     		movs	r4, #1
 7487              	.LVL1090:
 7488 008a E8E7     		b	.L681
 7489              	.LVL1091:
 7490              	.L699:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 255


4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 7491              		.loc 1 4653 0
 7492 008c 039D     		ldr	r5, [sp, #12]
 7493 008e 3946     		mov	r1, r7
 7494 0090 2846     		mov	r0, r5
 7495              	.LVL1092:
 7496 0092 FFF7FEFF 		bl	clust2sect
 7497              	.LVL1093:
 7498 0096 0646     		mov	r6, r0
 7499              	.LVL1094:
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 7500              		.loc 1 4654 0
 7501 0098 05F13409 		add	r9, r5, #52
 7502              	.LVL1095:
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 7503              		.loc 1 4655 0
 7504 009c AA89     		ldrh	r2, [r5, #12]
 7505 009e 0021     		movs	r1, #0
 7506 00a0 4846     		mov	r0, r9
 7507              	.LVL1096:
 7508 00a2 FFF7FEFF 		bl	mem_set
 7509              	.LVL1097:
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
 7510              		.loc 1 4657 0
 7511 00a6 0B22     		movs	r2, #11
 7512 00a8 2021     		movs	r1, #32
 7513 00aa 4846     		mov	r0, r9
 7514 00ac FFF7FEFF 		bl	mem_set
 7515              	.LVL1098:
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 7516              		.loc 1 4658 0
 7517 00b0 4FF02E0B 		mov	fp, #46
 7518 00b4 85F834B0 		strb	fp, [r5, #52]
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 7519              		.loc 1 4659 0
 7520 00b8 1023     		movs	r3, #16
 7521 00ba 85F83F30 		strb	r3, [r5, #63]
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
 7522              		.loc 1 4660 0
 7523 00be 5146     		mov	r1, r10
 7524 00c0 05F14A00 		add	r0, r5, #74
 7525 00c4 FFF7FEFF 		bl	st_dword
 7526              	.LVL1099:
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
 7527              		.loc 1 4661 0
 7528 00c8 3A46     		mov	r2, r7
 7529 00ca 4946     		mov	r1, r9
 7530 00cc 0398     		ldr	r0, [sp, #12]
 7531 00ce FFF7FEFF 		bl	st_clust
 7532              	.LVL1100:
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 7533              		.loc 1 4662 0
 7534 00d2 05F15408 		add	r8, r5, #84
 7535 00d6 2022     		movs	r2, #32
 7536 00d8 4946     		mov	r1, r9
 7537 00da 4046     		mov	r0, r8
 7538 00dc FFF7FEFF 		bl	mem_cpy
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 256


 7539              	.LVL1101:
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 7540              		.loc 1 4663 0
 7541 00e0 85F855B0 		strb	fp, [r5, #85]
 7542 00e4 069A     		ldr	r2, [sp, #24]
 7543              	.LVL1102:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 7544              		.loc 1 4664 0
 7545 00e6 0398     		ldr	r0, [sp, #12]
 7546 00e8 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 7547 00ea 032B     		cmp	r3, #3
 7548 00ec 1BD0     		beq	.L702
 7549              	.LVL1103:
 7550              	.L683:
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7551              		.loc 1 4665 0
 7552 00ee 4146     		mov	r1, r8
 7553 00f0 FFF7FEFF 		bl	st_clust
 7554              	.LVL1104:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 7555              		.loc 1 4667 0
 7556 00f4 039B     		ldr	r3, [sp, #12]
 7557 00f6 5D89     		ldrh	r5, [r3, #10]
 7558              	.LVL1105:
 7559              	.L684:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 7560              		.loc 1 4667 0 is_stmt 0 discriminator 1
 7561 00f8 002D     		cmp	r5, #0
 7562 00fa B4D0     		beq	.L682
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 7563              		.loc 1 4668 0 is_stmt 1
 7564 00fc 06F10108 		add	r8, r6, #1
 7565              	.LVL1106:
 7566 0100 039B     		ldr	r3, [sp, #12]
 7567 0102 1E63     		str	r6, [r3, #48]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 7568              		.loc 1 4669 0
 7569 0104 0122     		movs	r2, #1
 7570 0106 DA70     		strb	r2, [r3, #3]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 7571              		.loc 1 4670 0
 7572 0108 0398     		ldr	r0, [sp, #12]
 7573 010a FFF7FEFF 		bl	sync_window
 7574              	.LVL1107:
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 7575              		.loc 1 4671 0
 7576 010e 0446     		mov	r4, r0
 7577 0110 0028     		cmp	r0, #0
 7578 0112 A8D1     		bne	.L682
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7579              		.loc 1 4672 0 discriminator 2
 7580 0114 039B     		ldr	r3, [sp, #12]
 7581 0116 9A89     		ldrh	r2, [r3, #12]
 7582 0118 0021     		movs	r1, #0
 7583 011a 4846     		mov	r0, r9
 7584              	.LVL1108:
 7585 011c FFF7FEFF 		bl	mem_set
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 257


 7586              	.LVL1109:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 7587              		.loc 1 4667 0 discriminator 2
 7588 0120 013D     		subs	r5, r5, #1
 7589              	.LVL1110:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 7590              		.loc 1 4668 0 discriminator 2
 7591 0122 4646     		mov	r6, r8
 7592 0124 E8E7     		b	.L684
 7593              	.LVL1111:
 7594              	.L702:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 7595              		.loc 1 4664 0 discriminator 1
 7596 0126 836A     		ldr	r3, [r0, #40]
 7597 0128 9342     		cmp	r3, r2
 7598 012a E0D1     		bne	.L683
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 7599              		.loc 1 4664 0 is_stmt 0
 7600 012c 0022     		movs	r2, #0
 7601              	.LVL1112:
 7602 012e DEE7     		b	.L683
 7603              	.LVL1113:
 7604              	.L700:
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7605              		.loc 1 4676 0 is_stmt 1
 7606 0130 04A8     		add	r0, sp, #16
 7607 0132 FFF7FEFF 		bl	dir_register
 7608              	.LVL1114:
 7609 0136 0446     		mov	r4, r0
 7610              	.LVL1115:
 7611 0138 97E7     		b	.L686
 7612              	.L701:
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 7613              		.loc 1 4691 0
 7614 013a 0C9C     		ldr	r4, [sp, #48]
 7615              	.LVL1116:
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 7616              		.loc 1 4692 0
 7617 013c 5146     		mov	r1, r10
 7618 013e 04F11600 		add	r0, r4, #22
 7619 0142 FFF7FEFF 		bl	st_dword
 7620              	.LVL1117:
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
 7621              		.loc 1 4693 0
 7622 0146 3A46     		mov	r2, r7
 7623 0148 2146     		mov	r1, r4
 7624 014a 0398     		ldr	r0, [sp, #12]
 7625 014c FFF7FEFF 		bl	st_clust
 7626              	.LVL1118:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 7627              		.loc 1 4694 0
 7628 0150 1023     		movs	r3, #16
 7629 0152 E372     		strb	r3, [r4, #11]
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7630              		.loc 1 4695 0
 7631 0154 039B     		ldr	r3, [sp, #12]
 7632 0156 0122     		movs	r2, #1
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 258


 7633 0158 DA70     		strb	r2, [r3, #3]
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7634              		.loc 1 4698 0
 7635 015a 0398     		ldr	r0, [sp, #12]
 7636 015c FFF7FEFF 		bl	sync_fs
 7637              	.LVL1119:
 7638 0160 0446     		mov	r4, r0
 7639              	.LVL1120:
 7640 0162 5AE7     		b	.L678
 7641              	.LVL1121:
 7642              	.L688:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 7643              		.loc 1 4639 0
 7644 0164 0824     		movs	r4, #8
 7645 0166 58E7     		b	.L678
 7646              		.cfi_endproc
 7647              	.LFE182:
 7649              		.section	.text.f_rename,"ax",%progbits
 7650              		.align	1
 7651              		.global	f_rename
 7652              		.syntax unified
 7653              		.thumb
 7654              		.thumb_func
 7655              		.fpu fpv4-sp-d16
 7657              	f_rename:
 7658              	.LFB183:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7659              		.loc 1 4721 0
 7660              		.cfi_startproc
 7661              		@ args = 0, pretend = 0, frame = 136
 7662              		@ frame_needed = 0, uses_anonymous_args = 0
 7663              	.LVL1122:
 7664 0000 30B5     		push	{r4, r5, lr}
 7665              	.LCFI114:
 7666              		.cfi_def_cfa_offset 12
 7667              		.cfi_offset 4, -12
 7668              		.cfi_offset 5, -8
 7669              		.cfi_offset 14, -4
 7670 0002 A3B0     		sub	sp, sp, #140
 7671              	.LCFI115:
 7672              		.cfi_def_cfa_offset 152
 7673 0004 0190     		str	r0, [sp, #4]
 7674 0006 22A8     		add	r0, sp, #136
 7675              	.LVL1123:
 7676 0008 40F8881D 		str	r1, [r0, #-136]!
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 7677              		.loc 1 4730 0
 7678 000c FFF7FEFF 		bl	get_ldnumber
 7679              	.LVL1124:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7680              		.loc 1 4731 0
 7681 0010 0222     		movs	r2, #2
 7682 0012 09A9     		add	r1, sp, #36
 7683 0014 01A8     		add	r0, sp, #4
 7684 0016 FFF7FEFF 		bl	find_volume
 7685              	.LVL1125:
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 259


 7686              		.loc 1 4732 0
 7687 001a 0446     		mov	r4, r0
 7688 001c 10B1     		cbz	r0, .L714
 7689              	.LVL1126:
 7690              	.L704:
4811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7691              		.loc 1 4811 0
 7692 001e 2046     		mov	r0, r4
 7693 0020 23B0     		add	sp, sp, #140
 7694              	.LCFI116:
 7695              		.cfi_remember_state
 7696              		.cfi_def_cfa_offset 12
 7697              		@ sp needed
 7698 0022 30BD     		pop	{r4, r5, pc}
 7699              	.LVL1127:
 7700              	.L714:
 7701              	.LCFI117:
 7702              		.cfi_restore_state
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 7703              		.loc 1 4733 0
 7704 0024 099B     		ldr	r3, [sp, #36]
 7705 0026 1693     		str	r3, [sp, #88]
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 7706              		.loc 1 4735 0
 7707 0028 0199     		ldr	r1, [sp, #4]
 7708 002a 16A8     		add	r0, sp, #88
 7709              	.LVL1128:
 7710 002c FFF7FEFF 		bl	follow_path
 7711              	.LVL1129:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7712              		.loc 1 4736 0
 7713 0030 0446     		mov	r4, r0
 7714 0032 20B9     		cbnz	r0, .L705
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7715              		.loc 1 4736 0 is_stmt 0 discriminator 1
 7716 0034 9DF88730 		ldrb	r3, [sp, #135]	@ zero_extendqisi2
 7717 0038 13F0A00F 		tst	r3, #160
 7718 003c 1ED1     		bne	.L710
 7719              	.L705:
 7720              	.LVL1130:
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
 7721              		.loc 1 4738 0 is_stmt 1
 7722 003e 24B9     		cbnz	r4, .L706
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7723              		.loc 1 4739 0
 7724 0040 0221     		movs	r1, #2
 7725 0042 16A8     		add	r0, sp, #88
 7726 0044 FFF7FEFF 		bl	chk_lock
 7727              	.LVL1131:
 7728 0048 0446     		mov	r4, r0
 7729              	.LVL1132:
 7730              	.L706:
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7731              		.loc 1 4742 0
 7732 004a 002C     		cmp	r4, #0
 7733 004c E7D1     		bne	.L704
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 260


 7734              		.loc 1 4769 0
 7735 004e 1522     		movs	r2, #21
 7736 0050 1E99     		ldr	r1, [sp, #120]
 7737 0052 0B31     		adds	r1, r1, #11
 7738 0054 03A8     		add	r0, sp, #12
 7739 0056 FFF7FEFF 		bl	mem_cpy
 7740              	.LVL1133:
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 7741              		.loc 1 4770 0
 7742 005a 3022     		movs	r2, #48
 7743 005c 16A9     		add	r1, sp, #88
 7744 005e 0AA8     		add	r0, sp, #40
 7745 0060 FFF7FEFF 		bl	mem_cpy
 7746              	.LVL1134:
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 7747              		.loc 1 4771 0
 7748 0064 0099     		ldr	r1, [sp]
 7749 0066 0AA8     		add	r0, sp, #40
 7750 0068 FFF7FEFF 		bl	follow_path
 7751              	.LVL1135:
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 7752              		.loc 1 4772 0
 7753 006c 0446     		mov	r4, r0
 7754 006e 68B9     		cbnz	r0, .L707
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7755              		.loc 1 4773 0
 7756 0070 0C9A     		ldr	r2, [sp, #48]
 7757 0072 189B     		ldr	r3, [sp, #96]
 7758 0074 9A42     		cmp	r2, r3
 7759 0076 03D0     		beq	.L715
 7760 0078 0824     		movs	r4, #8
 7761 007a 09E0     		b	.L708
 7762              	.L710:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7763              		.loc 1 4736 0
 7764 007c 0624     		movs	r4, #6
 7765 007e E4E7     		b	.L706
 7766              	.L715:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7767              		.loc 1 4773 0 discriminator 1
 7768 0080 0F9A     		ldr	r2, [sp, #60]
 7769 0082 1B9B     		ldr	r3, [sp, #108]
 7770 0084 9A42     		cmp	r2, r3
 7771 0086 10D0     		beq	.L709
 7772 0088 0824     		movs	r4, #8
 7773 008a 01E0     		b	.L708
 7774              	.L707:
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 7775              		.loc 1 4775 0
 7776 008c 0428     		cmp	r0, #4
 7777 008e 0CD0     		beq	.L709
 7778              	.LVL1136:
 7779              	.L708:
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 7780              		.loc 1 4799 0
 7781 0090 002C     		cmp	r4, #0
 7782 0092 C4D1     		bne	.L704
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 261


4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 7783              		.loc 1 4800 0
 7784 0094 16A8     		add	r0, sp, #88
 7785 0096 FFF7FEFF 		bl	dir_remove
 7786              	.LVL1137:
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 7787              		.loc 1 4801 0
 7788 009a 0446     		mov	r4, r0
 7789 009c 0028     		cmp	r0, #0
 7790 009e BED1     		bne	.L704
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7791              		.loc 1 4802 0
 7792 00a0 0998     		ldr	r0, [sp, #36]
 7793              	.LVL1138:
 7794 00a2 FFF7FEFF 		bl	sync_fs
 7795              	.LVL1139:
 7796 00a6 0446     		mov	r4, r0
 7797              	.LVL1140:
 7798 00a8 B9E7     		b	.L704
 7799              	.LVL1141:
 7800              	.L709:
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 7801              		.loc 1 4776 0
 7802 00aa 0AA8     		add	r0, sp, #40
 7803              	.LVL1142:
 7804 00ac FFF7FEFF 		bl	dir_register
 7805              	.LVL1143:
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 7806              		.loc 1 4777 0
 7807 00b0 0446     		mov	r4, r0
 7808 00b2 0028     		cmp	r0, #0
 7809 00b4 ECD1     		bne	.L708
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 7810              		.loc 1 4778 0
 7811 00b6 129D     		ldr	r5, [sp, #72]
 7812              	.LVL1144:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 7813              		.loc 1 4779 0
 7814 00b8 1322     		movs	r2, #19
 7815 00ba 0DF10E01 		add	r1, sp, #14
 7816 00be 05F10D00 		add	r0, r5, #13
 7817              	.LVL1145:
 7818 00c2 FFF7FEFF 		bl	mem_cpy
 7819              	.LVL1146:
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 7820              		.loc 1 4780 0
 7821 00c6 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
 7822 00ca 43F02003 		orr	r3, r3, #32
 7823 00ce EB72     		strb	r3, [r5, #11]
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 7824              		.loc 1 4781 0
 7825 00d0 099B     		ldr	r3, [sp, #36]
 7826 00d2 0122     		movs	r2, #1
 7827 00d4 DA70     		strb	r2, [r3, #3]
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 7828              		.loc 1 4782 0
 7829 00d6 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 262


 7830 00d8 13F0100F 		tst	r3, #16
 7831 00dc D8D0     		beq	.L708
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 7832              		.loc 1 4782 0 is_stmt 0 discriminator 1
 7833 00de 189A     		ldr	r2, [sp, #96]
 7834 00e0 0C9B     		ldr	r3, [sp, #48]
 7835 00e2 9A42     		cmp	r2, r3
 7836 00e4 D4D0     		beq	.L708
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 7837              		.loc 1 4783 0 is_stmt 1
 7838 00e6 099C     		ldr	r4, [sp, #36]
 7839 00e8 2946     		mov	r1, r5
 7840 00ea 2046     		mov	r0, r4
 7841 00ec FFF7FEFF 		bl	ld_clust
 7842              	.LVL1147:
 7843 00f0 0146     		mov	r1, r0
 7844 00f2 2046     		mov	r0, r4
 7845 00f4 FFF7FEFF 		bl	clust2sect
 7846              	.LVL1148:
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 7847              		.loc 1 4784 0
 7848 00f8 0146     		mov	r1, r0
 7849 00fa A0B1     		cbz	r0, .L712
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 7850              		.loc 1 4788 0
 7851 00fc 2046     		mov	r0, r4
 7852              	.LVL1149:
 7853 00fe FFF7FEFF 		bl	move_window
 7854              	.LVL1150:
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 7855              		.loc 1 4789 0
 7856 0102 099B     		ldr	r3, [sp, #36]
 7857 0104 03F15401 		add	r1, r3, #84
 7858              	.LVL1151:
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 7859              		.loc 1 4790 0
 7860 0108 0446     		mov	r4, r0
 7861 010a 0028     		cmp	r0, #0
 7862 010c C0D1     		bne	.L708
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 7863              		.loc 1 4790 0 is_stmt 0 discriminator 1
 7864 010e 93F85520 		ldrb	r2, [r3, #85]	@ zero_extendqisi2
 7865 0112 2E2A     		cmp	r2, #46
 7866 0114 BCD1     		bne	.L708
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 7867              		.loc 1 4791 0 is_stmt 1
 7868 0116 0C9A     		ldr	r2, [sp, #48]
 7869 0118 1846     		mov	r0, r3
 7870              	.LVL1152:
 7871 011a FFF7FEFF 		bl	st_clust
 7872              	.LVL1153:
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 7873              		.loc 1 4792 0
 7874 011e 099B     		ldr	r3, [sp, #36]
 7875 0120 0122     		movs	r2, #1
 7876 0122 DA70     		strb	r2, [r3, #3]
 7877 0124 B4E7     		b	.L708
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 263


 7878              	.LVL1154:
 7879              	.L712:
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 7880              		.loc 1 4785 0
 7881 0126 0224     		movs	r4, #2
 7882 0128 79E7     		b	.L704
 7883              		.cfi_endproc
 7884              	.LFE183:
 7886              		.section	.text.f_mkfs,"ax",%progbits
 7887              		.align	1
 7888              		.global	f_mkfs
 7889              		.syntax unified
 7890              		.thumb
 7891              		.thumb_func
 7892              		.fpu fpv4-sp-d16
 7894              	f_mkfs:
 7895              	.LFB184:
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 7896              		.loc 1 5308 0
 7897              		.cfi_startproc
 7898              		@ args = 4, pretend = 0, frame = 48
 7899              		@ frame_needed = 0, uses_anonymous_args = 0
 7900              	.LVL1155:
 7901 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7902              	.LCFI118:
 7903              		.cfi_def_cfa_offset 36
 7904              		.cfi_offset 4, -36
 7905              		.cfi_offset 5, -32
 7906              		.cfi_offset 6, -28
 7907              		.cfi_offset 7, -24
 7908              		.cfi_offset 8, -20
 7909              		.cfi_offset 9, -16
 7910              		.cfi_offset 10, -12
 7911              		.cfi_offset 11, -8
 7912              		.cfi_offset 14, -4
 7913 0004 8DB0     		sub	sp, sp, #52
 7914              	.LCFI119:
 7915              		.cfi_def_cfa_offset 88
 7916 0006 0CAC     		add	r4, sp, #48
 7917 0008 44F8140D 		str	r0, [r4, #-20]!
 7918 000c 0F46     		mov	r7, r1
 7919 000e 1646     		mov	r6, r2
 7920 0010 1D46     		mov	r5, r3
 7921              	.LVL1156:
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 7922              		.loc 1 5327 0
 7923 0012 2046     		mov	r0, r4
 7924              	.LVL1157:
 7925 0014 FFF7FEFF 		bl	get_ldnumber
 7926              	.LVL1158:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 7927              		.loc 1 5328 0
 7928 0018 0028     		cmp	r0, #0
 7929 001a C0F2F582 		blt	.L761
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 7930              		.loc 1 5329 0
 7931 001e A64B     		ldr	r3, .L808
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 264


 7932 0020 53F82030 		ldr	r3, [r3, r0, lsl #2]
 7933 0024 0BB1     		cbz	r3, .L718
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 7934              		.loc 1 5329 0 is_stmt 0 discriminator 1
 7935 0026 0022     		movs	r2, #0
 7936 0028 1A70     		strb	r2, [r3]
 7937              	.L718:
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 7938              		.loc 1 5330 0 is_stmt 1
 7939 002a C4B2     		uxtb	r4, r0
 7940              	.LVL1159:
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 7941              		.loc 1 5334 0
 7942 002c 2046     		mov	r0, r4
 7943              	.LVL1160:
 7944 002e FFF7FEFF 		bl	disk_initialize
 7945              	.LVL1161:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 7946              		.loc 1 5335 0
 7947 0032 10F0010F 		tst	r0, #1
 7948 0036 40F0E982 		bne	.L762
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 7949              		.loc 1 5336 0
 7950 003a 10F0040F 		tst	r0, #4
 7951 003e 40F0E782 		bne	.L763
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 7952              		.loc 1 5337 0
 7953 0042 0AAA     		add	r2, sp, #40
 7954 0044 0321     		movs	r1, #3
 7955 0046 2046     		mov	r0, r4
 7956              	.LVL1162:
 7957 0048 FFF7FEFF 		bl	disk_ioctl
 7958              	.LVL1163:
 7959 004c 38B9     		cbnz	r0, .L719
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 7960              		.loc 1 5337 0 is_stmt 0 discriminator 2
 7961 004e 0A9B     		ldr	r3, [sp, #40]
 7962 0050 2BB1     		cbz	r3, .L719
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 7963              		.loc 1 5337 0 discriminator 4
 7964 0052 B3F5004F 		cmp	r3, #32768
 7965 0056 02D8     		bhi	.L719
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 7966              		.loc 1 5337 0 discriminator 6
 7967 0058 5A1E     		subs	r2, r3, #1
 7968 005a 1342     		tst	r3, r2
 7969 005c 01D0     		beq	.L720
 7970              	.L719:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 7971              		.loc 1 5337 0 discriminator 7
 7972 005e 0123     		movs	r3, #1
 7973 0060 0A93     		str	r3, [sp, #40]
 7974              	.L720:
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
 7975              		.loc 1 5339 0 is_stmt 1
 7976 0062 0DF12E02 		add	r2, sp, #46
 7977 0066 0221     		movs	r1, #2
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 265


 7978 0068 2046     		mov	r0, r4
 7979 006a FFF7FEFF 		bl	disk_ioctl
 7980              	.LVL1164:
 7981 006e 0028     		cmp	r0, #0
 7982 0070 40F0D282 		bne	.L764
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7983              		.loc 1 5340 0
 7984 0074 BDF82EB0 		ldrh	fp, [sp, #46]
 7985 0078 ABF50073 		sub	r3, fp, #512
 7986 007c 9BB2     		uxth	r3, r3
 7987 007e B3F5606F 		cmp	r3, #3584
 7988 0082 00F2CB82 		bhi	.L765
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7989              		.loc 1 5340 0 is_stmt 0 discriminator 2
 7990 0086 0BF1FF33 		add	r3, fp, #-1
 7991 008a 1BEA030F 		tst	fp, r3
 7992 008e 40F0C782 		bne	.L766
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 7993              		.loc 1 5344 0 is_stmt 1
 7994 0092 16B1     		cbz	r6, .L721
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 7995              		.loc 1 5344 0 is_stmt 0 discriminator 1
 7996 0094 B345     		cmp	fp, r6
 7997 0096 00F2C582 		bhi	.L767
 7998              	.L721:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 7999              		.loc 1 5344 0 discriminator 4
 8000 009a B6F1807F 		cmp	r6, #16777216
 8001 009e 00F2C382 		bhi	.L768
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 8002              		.loc 1 5344 0 discriminator 6
 8003 00a2 731E     		subs	r3, r6, #1
 8004 00a4 3342     		tst	r3, r6
 8005 00a6 40F0C182 		bne	.L769
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8006              		.loc 1 5345 0 is_stmt 1
 8007 00aa B6FBFBFA 		udiv	r10, r6, fp
 8008              	.LVL1165:
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 8009              		.loc 1 5349 0
 8010 00ae 169E     		ldr	r6, [sp, #88]
 8011 00b0 B6FBFBF6 		udiv	r6, r6, fp
 8012              	.LVL1166:
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 8013              		.loc 1 5350 0
 8014 00b4 06FB0BFB 		mul	fp, r6, fp
 8015              	.LVL1167:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8016              		.loc 1 5351 0
 8017 00b8 BBF1000F 		cmp	fp, #0
 8018 00bc 00F0B882 		beq	.L770
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 8019              		.loc 1 5364 0
 8020 00c0 09AA     		add	r2, sp, #36
 8021 00c2 0121     		movs	r1, #1
 8022 00c4 2046     		mov	r0, r4
 8023 00c6 FFF7FEFF 		bl	disk_ioctl
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 266


 8024              	.LVL1168:
 8025 00ca 0028     		cmp	r0, #0
 8026 00cc 40F0B282 		bne	.L771
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 8027              		.loc 1 5365 0
 8028 00d0 17F00803 		ands	r3, r7, #8
 8029 00d4 0293     		str	r3, [sp, #8]
 8030 00d6 7CD0     		beq	.L772
 8031 00d8 4FF00008 		mov	r8, #0
 8032              	.L722:
 8033              	.LVL1169:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 8034              		.loc 1 5366 0 discriminator 4
 8035 00dc 099B     		ldr	r3, [sp, #36]
 8036 00de 4345     		cmp	r3, r8
 8037 00e0 C0F0AA82 		bcc	.L773
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8038              		.loc 1 5367 0
 8039 00e4 A3EB0803 		sub	r3, r3, r8
 8040 00e8 0993     		str	r3, [sp, #36]
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8041              		.loc 1 5369 0
 8042 00ea 7F2B     		cmp	r3, #127
 8043 00ec 40F2A682 		bls	.L774
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 8044              		.loc 1 5378 0
 8045 00f0 BAF1800F 		cmp	r10, #128
 8046 00f4 00F2A482 		bhi	.L775
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 8047              		.loc 1 5379 0
 8048 00f8 17F00200 		ands	r0, r7, #2
 8049 00fc 06D0     		beq	.L723
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 8050              		.loc 1 5380 0
 8051 00fe 07F00702 		and	r2, r7, #7
 8052 0102 022A     		cmp	r2, #2
 8053 0104 68D0     		beq	.L776
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 8054              		.loc 1 5380 0 is_stmt 0 discriminator 1
 8055 0106 17F0010F 		tst	r7, #1
 8056 010a 6DD0     		beq	.L777
 8057              	.L723:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 8058              		.loc 1 5384 0 is_stmt 1
 8059 010c 17F0010F 		tst	r7, #1
 8060 0110 00F09882 		beq	.L778
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 8061              		.loc 1 5385 0
 8062 0114 4FF00209 		mov	r9, #2
 8063 0118 5246     		mov	r2, r10
 8064 011a 9A46     		mov	r10, r3
 8065              	.LVL1170:
 8066 011c 0494     		str	r4, [sp, #16]
 8067 011e 0595     		str	r5, [sp, #20]
 8068 0120 1346     		mov	r3, r2
 8069              	.LVL1171:
 8070              	.L725:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 267


5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 8071              		.loc 1 5555 0
 8072 0122 B9F1030F 		cmp	r9, #3
 8073 0126 6BD0     		beq	.L743
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 8074              		.loc 1 5566 0
 8075 0128 002B     		cmp	r3, #0
 8076 012a 00F08E80 		beq	.L803
 8077 012e 1F46     		mov	r7, r3
 8078              	.LVL1172:
 8079              	.L731:
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 8080              		.loc 1 5570 0
 8081 0130 BAFBF7F2 		udiv	r2, r10, r7
 8082              	.LVL1173:
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 8083              		.loc 1 5571 0
 8084 0134 40F6F571 		movw	r1, #4085
 8085 0138 8A42     		cmp	r2, r1
 8086 013a 40F29680 		bls	.L734
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 8087              		.loc 1 5572 0
 8088 013e 0232     		adds	r2, r2, #2
 8089              	.LVL1174:
 8090 0140 5200     		lsls	r2, r2, #1
 8091              	.LVL1175:
 8092              	.L735:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 8093              		.loc 1 5577 0
 8094 0142 BDF82E10 		ldrh	r1, [sp, #46]
 8095 0146 0A44     		add	r2, r2, r1
 8096              	.LVL1176:
 8097 0148 013A     		subs	r2, r2, #1
 8098 014a B2FBF1F2 		udiv	r2, r2, r1
 8099              	.LVL1177:
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8100              		.loc 1 5579 0
 8101 014e 4FF4804C 		mov	ip, #16384
 8102 0152 BCFBF1F1 		udiv	r1, ip, r1
 8103 0156 0191     		str	r1, [sp, #4]
 8104              	.LVL1178:
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 8105              		.loc 1 5578 0
 8106 0158 0124     		movs	r4, #1
 8107              	.LVL1179:
 8108              	.L730:
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 8109              		.loc 1 5581 0
 8110 015a 04EB0801 		add	r1, r4, r8
 8111 015e 0091     		str	r1, [sp]
 8112              	.LVL1180:
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8113              		.loc 1 5582 0
 8114 0160 5118     		adds	r1, r2, r1
 8115              	.LVL1181:
 8116 0162 019D     		ldr	r5, [sp, #4]
 8117 0164 2944     		add	r1, r1, r5
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 268


 8118              	.LVL1182:
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 8119              		.loc 1 5585 0
 8120 0166 DDF828E0 		ldr	lr, [sp, #40]
 8121 016a 0EEB010C 		add	ip, lr, r1
 8122 016e 0CF1FF3C 		add	ip, ip, #-1
 8123 0172 CEF1000E 		rsb	lr, lr, #0
 8124 0176 0CEA0E0C 		and	ip, ip, lr
 8125 017a ACEB010C 		sub	ip, ip, r1
 8126              	.LVL1183:
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 8127              		.loc 1 5586 0
 8128 017e B9F1030F 		cmp	r9, #3
 8129 0182 7AD0     		beq	.L804
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8130              		.loc 1 5589 0
 8131 0184 6244     		add	r2, r2, ip
 8132              	.LVL1184:
 8133              	.L737:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 8134              		.loc 1 5593 0
 8135 0186 01EB0711 		add	r1, r1, r7, lsl #4
 8136              	.LVL1185:
 8137 018a A1EB0801 		sub	r1, r1, r8
 8138 018e 8A45     		cmp	r10, r1
 8139 0190 C0F05C82 		bcc	.L782
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 8140              		.loc 1 5594 0
 8141 0194 AAEB0401 		sub	r1, r10, r4
 8142 0198 891A     		subs	r1, r1, r2
 8143 019a 019D     		ldr	r5, [sp, #4]
 8144 019c 491B     		subs	r1, r1, r5
 8145 019e B1FBF7F1 		udiv	r1, r1, r7
 8146              	.LVL1186:
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 8147              		.loc 1 5595 0
 8148 01a2 B9F1030F 		cmp	r9, #3
 8149 01a6 6DD0     		beq	.L805
 8150              	.LVL1187:
 8151              	.L738:
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 8152              		.loc 1 5601 0
 8153 01a8 B9F1020F 		cmp	r9, #2
 8154 01ac 40F08C80 		bne	.L740
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 8155              		.loc 1 5602 0
 8156 01b0 4FF6F57C 		movw	ip, #65525
 8157 01b4 6145     		cmp	r1, ip
 8158 01b6 71D9     		bls	.L741
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 8159              		.loc 1 5603 0
 8160 01b8 13B9     		cbnz	r3, .L742
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 8161              		.loc 1 5603 0 is_stmt 0 discriminator 1
 8162 01ba 7A00     		lsls	r2, r7, #1
 8163              	.LVL1188:
 8164 01bc 402A     		cmp	r2, #64
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 269


 8165 01be 1BD9     		bls	.L784
 8166              	.L742:
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 8167              		.loc 1 5606 0 is_stmt 1
 8168 01c0 E0B9     		cbnz	r0, .L785
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 8169              		.loc 1 5609 0
 8170 01c2 002B     		cmp	r3, #0
 8171 01c4 40F04682 		bne	.L786
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 8172              		.loc 1 5609 0 is_stmt 0 discriminator 1
 8173 01c8 7B00     		lsls	r3, r7, #1
 8174              	.LVL1189:
 8175 01ca 802B     		cmp	r3, #128
 8176 01cc A9D9     		bls	.L725
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8177              		.loc 1 5610 0 is_stmt 1
 8178 01ce 0E20     		movs	r0, #14
 8179 01d0 1FE2     		b	.L717
 8180              	.LVL1190:
 8181              	.L772:
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 8182              		.loc 1 5365 0
 8183 01d2 4FF03F08 		mov	r8, #63
 8184 01d6 81E7     		b	.L722
 8185              	.LVL1191:
 8186              	.L776:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8187              		.loc 1 5381 0
 8188 01d8 4FF00309 		mov	r9, #3
 8189 01dc 5246     		mov	r2, r10
 8190 01de 9A46     		mov	r10, r3
 8191              	.LVL1192:
 8192 01e0 0494     		str	r4, [sp, #16]
 8193 01e2 0595     		str	r5, [sp, #20]
 8194 01e4 1346     		mov	r3, r2
 8195 01e6 9CE7     		b	.L725
 8196              	.LVL1193:
 8197              	.L777:
 8198 01e8 4FF00309 		mov	r9, #3
 8199 01ec 5246     		mov	r2, r10
 8200 01ee 9A46     		mov	r10, r3
 8201              	.LVL1194:
 8202 01f0 0494     		str	r4, [sp, #16]
 8203 01f2 0595     		str	r5, [sp, #20]
 8204 01f4 1346     		mov	r3, r2
 8205 01f6 94E7     		b	.L725
 8206              	.LVL1195:
 8207              	.L784:
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8208              		.loc 1 5604 0
 8209 01f8 1346     		mov	r3, r2
 8210              	.LVL1196:
 8211 01fa 92E7     		b	.L725
 8212              	.LVL1197:
 8213              	.L785:
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 270


 8214              		.loc 1 5607 0
 8215 01fc 4FF00309 		mov	r9, #3
 8216              	.LVL1198:
 8217              	.L743:
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 8218              		.loc 1 5556 0
 8219 0200 ABB1     		cbz	r3, .L806
 8220 0202 1F46     		mov	r7, r3
 8221              	.L727:
 8222              	.LVL1199:
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 8223              		.loc 1 5560 0
 8224 0204 BAFBF7F1 		udiv	r1, r10, r7
 8225              	.LVL1200:
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 8226              		.loc 1 5561 0
 8227 0208 8A1C     		adds	r2, r1, #2
 8228 020a BDF82EC0 		ldrh	ip, [sp, #46]
 8229 020e 0CEB8202 		add	r2, ip, r2, lsl #2
 8230 0212 013A     		subs	r2, r2, #1
 8231 0214 B2FBFCF2 		udiv	r2, r2, ip
 8232              	.LVL1201:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 8233              		.loc 1 5564 0
 8234 0218 A1F57F41 		sub	r1, r1, #65280
 8235              	.LVL1202:
 8236 021c F639     		subs	r1, r1, #246
 8237              	.LVL1203:
 8238 021e 274C     		ldr	r4, .L808+4
 8239 0220 A142     		cmp	r1, r4
 8240 0222 00F21182 		bhi	.L780
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 8241              		.loc 1 5563 0
 8242 0226 0021     		movs	r1, #0
 8243              	.LVL1204:
 8244 0228 0191     		str	r1, [sp, #4]
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 8245              		.loc 1 5562 0
 8246 022a 2024     		movs	r4, #32
 8247 022c 95E7     		b	.L730
 8248              	.LVL1205:
 8249              	.L806:
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 8250              		.loc 1 5557 0
 8251 022e 4FEA5A4C 		lsr	ip, r10, #17
 8252              	.LVL1206:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8253              		.loc 1 5558 0
 8254 0232 0022     		movs	r2, #0
 8255 0234 0127     		movs	r7, #1
 8256              	.LVL1207:
 8257              	.L728:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8258              		.loc 1 5558 0 is_stmt 0 discriminator 1
 8259 0236 2249     		ldr	r1, .L808+8
 8260 0238 31F81210 		ldrh	r1, [r1, r2, lsl #1]
 8261 023c 0029     		cmp	r1, #0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 271


 8262 023e E1D0     		beq	.L727
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8263              		.loc 1 5558 0 discriminator 3
 8264 0240 6145     		cmp	r1, ip
 8265 0242 DFD8     		bhi	.L727
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8266              		.loc 1 5558 0 discriminator 4
 8267 0244 0132     		adds	r2, r2, #1
 8268              	.LVL1208:
 8269 0246 7F00     		lsls	r7, r7, #1
 8270              	.LVL1209:
 8271 0248 F5E7     		b	.L728
 8272              	.LVL1210:
 8273              	.L803:
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 8274              		.loc 1 5567 0 is_stmt 1
 8275 024a 4FEA1A3C 		lsr	ip, r10, #12
 8276              	.LVL1211:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8277              		.loc 1 5568 0
 8278 024e 0022     		movs	r2, #0
 8279 0250 0127     		movs	r7, #1
 8280 0252 01E0     		b	.L732
 8281              	.LVL1212:
 8282              	.L733:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8283              		.loc 1 5568 0 is_stmt 0 discriminator 4
 8284 0254 0132     		adds	r2, r2, #1
 8285              	.LVL1213:
 8286 0256 7F00     		lsls	r7, r7, #1
 8287              	.LVL1214:
 8288              	.L732:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8289              		.loc 1 5568 0 discriminator 1
 8290 0258 1A49     		ldr	r1, .L808+12
 8291 025a 31F81210 		ldrh	r1, [r1, r2, lsl #1]
 8292 025e 0029     		cmp	r1, #0
 8293 0260 3FF466AF 		beq	.L731
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8294              		.loc 1 5568 0 discriminator 3
 8295 0264 6145     		cmp	r1, ip
 8296 0266 F5D9     		bls	.L733
 8297 0268 62E7     		b	.L731
 8298              	.LVL1215:
 8299              	.L734:
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8300              		.loc 1 5575 0 is_stmt 1
 8301 026a 02EB4202 		add	r2, r2, r2, lsl #1
 8302              	.LVL1216:
 8303 026e 0132     		adds	r2, r2, #1
 8304 0270 5208     		lsrs	r2, r2, #1
 8305 0272 0332     		adds	r2, r2, #3
 8306              	.LVL1217:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 8307              		.loc 1 5574 0
 8308 0274 4FF00109 		mov	r9, #1
 8309 0278 63E7     		b	.L735
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 272


 8310              	.LVL1218:
 8311              	.L804:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 8312              		.loc 1 5587 0
 8313 027a 6444     		add	r4, r4, ip
 8314              	.LVL1219:
 8315 027c 009D     		ldr	r5, [sp]
 8316              	.LVL1220:
 8317 027e 6544     		add	r5, r5, ip
 8318 0280 0095     		str	r5, [sp]
 8319              	.LVL1221:
 8320 0282 80E7     		b	.L737
 8321              	.LVL1222:
 8322              	.L805:
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 8323              		.loc 1 5596 0
 8324 0284 4FF6F57C 		movw	ip, #65525
 8325              	.LVL1223:
 8326 0288 6145     		cmp	r1, ip
 8327 028a 8DD8     		bhi	.L738
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 8328              		.loc 1 5597 0
 8329 028c 002B     		cmp	r3, #0
 8330 028e 40F0DF81 		bne	.L783
 8331              	.LVL1224:
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 8332              		.loc 1 5597 0 is_stmt 0 discriminator 1
 8333 0292 7B08     		lsrs	r3, r7, #1
 8334              	.LVL1225:
 8335 0294 7FF445AF 		bne	.L725
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8336              		.loc 1 5598 0 is_stmt 1
 8337 0298 0E20     		movs	r0, #14
 8338 029a BAE1     		b	.L717
 8339              	.L741:
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 8340              		.loc 1 5612 0
 8341 029c 40F6F57C 		movw	ip, #4085
 8342 02a0 6145     		cmp	r1, ip
 8343 02a2 11D8     		bhi	.L740
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 8344              		.loc 1 5613 0
 8345 02a4 002B     		cmp	r3, #0
 8346 02a6 40F0E381 		bne	.L787
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 8347              		.loc 1 5613 0 is_stmt 0 discriminator 1
 8348 02aa 7B00     		lsls	r3, r7, #1
 8349              	.LVL1226:
 8350 02ac 802B     		cmp	r3, #128
 8351 02ae 7FF638AF 		bls	.L725
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8352              		.loc 1 5614 0 is_stmt 1
 8353 02b2 0E20     		movs	r0, #14
 8354 02b4 ADE1     		b	.L717
 8355              	.L809:
 8356 02b6 00BF     		.align	2
 8357              	.L808:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 273


 8358 02b8 00000000 		.word	.LANCHOR2
 8359 02bc FFFFFE0F 		.word	268369919
 8360 02c0 00000000 		.word	.LANCHOR4
 8361 02c4 00000000 		.word	.LANCHOR5
 8362              	.L740:
 8363 02c8 A246     		mov	r10, r4
 8364 02ca 0392     		str	r2, [sp, #12]
 8365 02cc 049C     		ldr	r4, [sp, #16]
 8366              	.LVL1227:
 8367 02ce 0691     		str	r1, [sp, #24]
 8368 02d0 059D     		ldr	r5, [sp, #20]
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8369              		.loc 1 5617 0
 8370 02d2 B9F1010F 		cmp	r9, #1
 8371 02d6 04D1     		bne	.L744
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8372              		.loc 1 5617 0 is_stmt 0 discriminator 1
 8373 02d8 40F6F573 		movw	r3, #4085
 8374              	.LVL1228:
 8375 02dc 9942     		cmp	r1, r3
 8376 02de 00F2C981 		bhi	.L788
 8377              	.L744:
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 8378              		.loc 1 5628 0 is_stmt 1
 8379 02e2 BDF82E20 		ldrh	r2, [sp, #46]
 8380              	.LVL1229:
 8381 02e6 0021     		movs	r1, #0
 8382              	.LVL1230:
 8383 02e8 2846     		mov	r0, r5
 8384 02ea FFF7FEFF 		bl	mem_set
 8385              	.LVL1231:
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
 8386              		.loc 1 5629 0
 8387 02ee 0B22     		movs	r2, #11
 8388 02f0 D949     		ldr	r1, .L810
 8389 02f2 2846     		mov	r0, r5
 8390 02f4 FFF7FEFF 		bl	mem_cpy
 8391              	.LVL1232:
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
 8392              		.loc 1 5630 0
 8393 02f8 BDF82E10 		ldrh	r1, [sp, #46]
 8394 02fc 05F10B00 		add	r0, r5, #11
 8395 0300 FFF7FEFF 		bl	st_word
 8396              	.LVL1233:
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 8397              		.loc 1 5631 0
 8398 0304 6F73     		strb	r7, [r5, #13]
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
 8399              		.loc 1 5632 0
 8400 0306 1FFA8AF1 		uxth	r1, r10
 8401 030a 05F10E00 		add	r0, r5, #14
 8402 030e FFF7FEFF 		bl	st_word
 8403              	.LVL1234:
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 8404              		.loc 1 5633 0
 8405 0312 0123     		movs	r3, #1
 8406 0314 2B74     		strb	r3, [r5, #16]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 274


5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 8407              		.loc 1 5634 0
 8408 0316 05F11100 		add	r0, r5, #17
 8409 031a B9F1030F 		cmp	r9, #3
 8410 031e 3AD0     		beq	.L789
 8411 0320 4FF40071 		mov	r1, #512
 8412              	.L745:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 8413              		.loc 1 5634 0 is_stmt 0 discriminator 4
 8414 0324 FFF7FEFF 		bl	st_word
 8415              	.LVL1235:
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 8416              		.loc 1 5635 0 is_stmt 1 discriminator 4
 8417 0328 0999     		ldr	r1, [sp, #36]
 8418 032a B1F5803F 		cmp	r1, #65536
 8419 032e 34D2     		bcs	.L746
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8420              		.loc 1 5636 0
 8421 0330 89B2     		uxth	r1, r1
 8422 0332 05F11300 		add	r0, r5, #19
 8423 0336 FFF7FEFF 		bl	st_word
 8424              	.LVL1236:
 8425              	.L747:
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 8426              		.loc 1 5640 0
 8427 033a F823     		movs	r3, #248
 8428 033c 6B75     		strb	r3, [r5, #21]
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
 8429              		.loc 1 5641 0
 8430 033e 3F21     		movs	r1, #63
 8431 0340 05F11800 		add	r0, r5, #24
 8432 0344 FFF7FEFF 		bl	st_word
 8433              	.LVL1237:
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
 8434              		.loc 1 5642 0
 8435 0348 FF21     		movs	r1, #255
 8436 034a 05F11A00 		add	r0, r5, #26
 8437 034e FFF7FEFF 		bl	st_word
 8438              	.LVL1238:
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 8439              		.loc 1 5643 0
 8440 0352 4146     		mov	r1, r8
 8441 0354 05F11C00 		add	r0, r5, #28
 8442 0358 FFF7FEFF 		bl	st_dword
 8443              	.LVL1239:
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 8444              		.loc 1 5644 0
 8445 035c B9F1030F 		cmp	r9, #3
 8446 0360 20D0     		beq	.L807
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 8447              		.loc 1 5654 0
 8448 0362 FFF7FEFF 		bl	get_fattime
 8449              	.LVL1240:
 8450 0366 0146     		mov	r1, r0
 8451 0368 05F12700 		add	r0, r5, #39
 8452 036c FFF7FEFF 		bl	st_dword
 8453              	.LVL1241:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 275


5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
 8454              		.loc 1 5655 0
 8455 0370 BDF80C10 		ldrh	r1, [sp, #12]
 8456 0374 05F11600 		add	r0, r5, #22
 8457 0378 FFF7FEFF 		bl	st_word
 8458              	.LVL1242:
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 8459              		.loc 1 5656 0
 8460 037c 8023     		movs	r3, #128
 8461 037e 85F82430 		strb	r3, [r5, #36]
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 8462              		.loc 1 5657 0
 8463 0382 2923     		movs	r3, #41
 8464 0384 85F82630 		strb	r3, [r5, #38]
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8465              		.loc 1 5658 0
 8466 0388 1322     		movs	r2, #19
 8467 038a B449     		ldr	r1, .L810+4
 8468 038c 05F12B00 		add	r0, r5, #43
 8469 0390 FFF7FEFF 		bl	mem_cpy
 8470              	.LVL1243:
 8471 0394 2DE0     		b	.L749
 8472              	.L789:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 8473              		.loc 1 5634 0
 8474 0396 0021     		movs	r1, #0
 8475 0398 C4E7     		b	.L745
 8476              	.L746:
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8477              		.loc 1 5638 0
 8478 039a 05F12000 		add	r0, r5, #32
 8479 039e FFF7FEFF 		bl	st_dword
 8480              	.LVL1244:
 8481 03a2 CAE7     		b	.L747
 8482              	.L807:
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
 8483              		.loc 1 5645 0
 8484 03a4 FFF7FEFF 		bl	get_fattime
 8485              	.LVL1245:
 8486 03a8 0146     		mov	r1, r0
 8487 03aa 05F14300 		add	r0, r5, #67
 8488 03ae FFF7FEFF 		bl	st_dword
 8489              	.LVL1246:
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
 8490              		.loc 1 5646 0
 8491 03b2 0399     		ldr	r1, [sp, #12]
 8492 03b4 05F12400 		add	r0, r5, #36
 8493 03b8 FFF7FEFF 		bl	st_dword
 8494              	.LVL1247:
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
 8495              		.loc 1 5647 0
 8496 03bc 0221     		movs	r1, #2
 8497 03be 05F12C00 		add	r0, r5, #44
 8498 03c2 FFF7FEFF 		bl	st_dword
 8499              	.LVL1248:
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
 8500              		.loc 1 5648 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 276


 8501 03c6 0121     		movs	r1, #1
 8502 03c8 05F13000 		add	r0, r5, #48
 8503 03cc FFF7FEFF 		bl	st_word
 8504              	.LVL1249:
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
 8505              		.loc 1 5649 0
 8506 03d0 0621     		movs	r1, #6
 8507 03d2 05F13200 		add	r0, r5, #50
 8508 03d6 FFF7FEFF 		bl	st_word
 8509              	.LVL1250:
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 8510              		.loc 1 5650 0
 8511 03da 8023     		movs	r3, #128
 8512 03dc 85F84030 		strb	r3, [r5, #64]
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 8513              		.loc 1 5651 0
 8514 03e0 2923     		movs	r3, #41
 8515 03e2 85F84230 		strb	r3, [r5, #66]
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8516              		.loc 1 5652 0
 8517 03e6 1322     		movs	r2, #19
 8518 03e8 9D49     		ldr	r1, .L810+8
 8519 03ea 05F14700 		add	r0, r5, #71
 8520 03ee FFF7FEFF 		bl	mem_cpy
 8521              	.LVL1251:
 8522              	.L749:
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
 8523              		.loc 1 5660 0
 8524 03f2 05F5FF73 		add	r3, r5, #510
 8525 03f6 0493     		str	r3, [sp, #16]
 8526              	.LVL1252:
 8527 03f8 4AF65521 		movw	r1, #43605
 8528 03fc 1846     		mov	r0, r3
 8529 03fe FFF7FEFF 		bl	st_word
 8530              	.LVL1253:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8531              		.loc 1 5661 0
 8532 0402 0123     		movs	r3, #1
 8533 0404 4246     		mov	r2, r8
 8534 0406 2946     		mov	r1, r5
 8535 0408 2046     		mov	r0, r4
 8536 040a FFF7FEFF 		bl	disk_write
 8537              	.LVL1254:
 8538 040e 0028     		cmp	r0, #0
 8539 0410 40F03281 		bne	.L790
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 8540              		.loc 1 5664 0
 8541 0414 B9F1030F 		cmp	r9, #3
 8542 0418 33D1     		bne	.L750
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 8543              		.loc 1 5665 0
 8544 041a 0123     		movs	r3, #1
 8545 041c 08F10602 		add	r2, r8, #6
 8546 0420 2946     		mov	r1, r5
 8547 0422 2046     		mov	r0, r4
 8548 0424 FFF7FEFF 		bl	disk_write
 8549              	.LVL1255:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 277


5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
 8550              		.loc 1 5666 0
 8551 0428 BDF82E20 		ldrh	r2, [sp, #46]
 8552 042c 0021     		movs	r1, #0
 8553 042e 2846     		mov	r0, r5
 8554 0430 FFF7FEFF 		bl	mem_set
 8555              	.LVL1256:
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
 8556              		.loc 1 5667 0
 8557 0434 8B49     		ldr	r1, .L810+12
 8558 0436 2846     		mov	r0, r5
 8559 0438 FFF7FEFF 		bl	st_dword
 8560              	.LVL1257:
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 8561              		.loc 1 5668 0
 8562 043c 8A49     		ldr	r1, .L810+16
 8563 043e 05F5F270 		add	r0, r5, #484
 8564 0442 FFF7FEFF 		bl	st_dword
 8565              	.LVL1258:
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 8566              		.loc 1 5669 0
 8567 0446 069B     		ldr	r3, [sp, #24]
 8568 0448 591E     		subs	r1, r3, #1
 8569 044a 05F5F470 		add	r0, r5, #488
 8570 044e FFF7FEFF 		bl	st_dword
 8571              	.LVL1259:
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
 8572              		.loc 1 5670 0
 8573 0452 0221     		movs	r1, #2
 8574 0454 05F5F670 		add	r0, r5, #492
 8575 0458 FFF7FEFF 		bl	st_dword
 8576              	.LVL1260:
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
 8577              		.loc 1 5671 0
 8578 045c 4AF65521 		movw	r1, #43605
 8579 0460 0498     		ldr	r0, [sp, #16]
 8580 0462 FFF7FEFF 		bl	st_word
 8581              	.LVL1261:
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
 8582              		.loc 1 5672 0
 8583 0466 0123     		movs	r3, #1
 8584 0468 08F10702 		add	r2, r8, #7
 8585 046c 2946     		mov	r1, r5
 8586 046e 2046     		mov	r0, r4
 8587 0470 FFF7FEFF 		bl	disk_write
 8588              	.LVL1262:
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8589              		.loc 1 5673 0
 8590 0474 0123     		movs	r3, #1
 8591 0476 08EB0302 		add	r2, r8, r3
 8592 047a 2946     		mov	r1, r5
 8593 047c 2046     		mov	r0, r4
 8594 047e FFF7FEFF 		bl	disk_write
 8595              	.LVL1263:
 8596              	.L750:
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
 8597              		.loc 1 5677 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 278


 8598 0482 5A46     		mov	r2, fp
 8599 0484 0021     		movs	r1, #0
 8600 0486 2846     		mov	r0, r5
 8601 0488 FFF7FEFF 		bl	mem_set
 8602              	.LVL1264:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 8603              		.loc 1 5679 0
 8604 048c 4FF0000A 		mov	r10, #0
 8605              	.LVL1265:
 8606 0490 0597     		str	r7, [sp, #20]
 8607              	.LVL1266:
 8608              	.L751:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 8609              		.loc 1 5679 0 is_stmt 0 discriminator 1
 8610 0492 BAF1000F 		cmp	r10, #0
 8611 0496 6DD0     		beq	.L756
 8612 0498 059F     		ldr	r7, [sp, #20]
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 8613              		.loc 1 5697 0 is_stmt 1
 8614 049a B9F1030F 		cmp	r9, #3
 8615 049e 40F0A580 		bne	.L801
 8616 04a2 BA46     		mov	r10, r7
 8617              	.LVL1267:
 8618 04a4 DDF800B0 		ldr	fp, [sp]
 8619              	.LVL1268:
 8620              	.L758:
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 8621              		.loc 1 5699 0
 8622 04a8 5746     		mov	r7, r10
 8623 04aa B245     		cmp	r10, r6
 8624 04ac 28BF     		it	cs
 8625 04ae 3746     		movcs	r7, r6
 8626              	.LVL1269:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 8627              		.loc 1 5700 0
 8628 04b0 3B46     		mov	r3, r7
 8629 04b2 5A46     		mov	r2, fp
 8630 04b4 2946     		mov	r1, r5
 8631 04b6 2046     		mov	r0, r4
 8632 04b8 FFF7FEFF 		bl	disk_write
 8633              	.LVL1270:
 8634 04bc 0028     		cmp	r0, #0
 8635 04be 40F0DF80 		bne	.L793
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 8636              		.loc 1 5701 0
 8637 04c2 BB44     		add	fp, fp, r7
 8638              	.LVL1271:
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8639              		.loc 1 5702 0
 8640 04c4 BAEB070A 		subs	r10, r10, r7
 8641              	.LVL1272:
 8642 04c8 EED1     		bne	.L758
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 8643              		.loc 1 5709 0
 8644 04ca B9F1030F 		cmp	r9, #3
 8645 04ce 00F09280 		beq	.L794
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 279


 8646              		.loc 1 5712 0
 8647 04d2 099B     		ldr	r3, [sp, #36]
 8648 04d4 B3F5803F 		cmp	r3, #65536
 8649 04d8 80F09080 		bcs	.L795
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8650              		.loc 1 5715 0
 8651 04dc B9F1020F 		cmp	r9, #2
 8652 04e0 40F08F80 		bne	.L796
 8653 04e4 4FF00409 		mov	r9, #4
 8654              	.L759:
 8655              	.LVL1273:
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 8656              		.loc 1 5727 0
 8657 04e8 029B     		ldr	r3, [sp, #8]
 8658 04ea CBBB     		cbnz	r3, .L760
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
 8659              		.loc 1 5728 0
 8660 04ec BDF82E20 		ldrh	r2, [sp, #46]
 8661 04f0 0021     		movs	r1, #0
 8662 04f2 2846     		mov	r0, r5
 8663 04f4 FFF7FEFF 		bl	mem_set
 8664              	.LVL1274:
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
 8665              		.loc 1 5729 0
 8666 04f8 4AF65521 		movw	r1, #43605
 8667 04fc 0498     		ldr	r0, [sp, #16]
 8668 04fe FFF7FEFF 		bl	st_word
 8669              	.LVL1275:
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 8670              		.loc 1 5731 0
 8671 0502 0026     		movs	r6, #0
 8672              	.LVL1276:
 8673 0504 85F8BE61 		strb	r6, [r5, #446]
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 8674              		.loc 1 5732 0
 8675 0508 0127     		movs	r7, #1
 8676              	.LVL1277:
 8677 050a 85F8BF71 		strb	r7, [r5, #447]
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 8678              		.loc 1 5733 0
 8679 050e 85F8C071 		strb	r7, [r5, #448]
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 8680              		.loc 1 5734 0
 8681 0512 85F8C161 		strb	r6, [r5, #449]
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 8682              		.loc 1 5735 0
 8683 0516 85F8C291 		strb	r9, [r5, #450]
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 8684              		.loc 1 5736 0
 8685 051a 099B     		ldr	r3, [sp, #36]
 8686 051c 4344     		add	r3, r3, r8
 8687 051e 43F6C162 		movw	r2, #16065
 8688 0522 B3FBF2F3 		udiv	r3, r3, r2
 8689              	.LVL1278:
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 8690              		.loc 1 5737 0
 8691 0526 FE22     		movs	r2, #254
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 280


 8692 0528 85F8C321 		strb	r2, [r5, #451]
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 8693              		.loc 1 5738 0
 8694 052c 9A08     		lsrs	r2, r3, #2
 8695 052e 42F03F02 		orr	r2, r2, #63
 8696 0532 85F8C421 		strb	r2, [r5, #452]
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 8697              		.loc 1 5739 0
 8698 0536 85F8C531 		strb	r3, [r5, #453]
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 8699              		.loc 1 5740 0
 8700 053a 4146     		mov	r1, r8
 8701 053c 05F5E370 		add	r0, r5, #454
 8702 0540 FFF7FEFF 		bl	st_dword
 8703              	.LVL1279:
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
 8704              		.loc 1 5741 0
 8705 0544 0999     		ldr	r1, [sp, #36]
 8706 0546 05F5E570 		add	r0, r5, #458
 8707 054a FFF7FEFF 		bl	st_dword
 8708              	.LVL1280:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8709              		.loc 1 5742 0
 8710 054e 3B46     		mov	r3, r7
 8711 0550 3246     		mov	r2, r6
 8712 0552 2946     		mov	r1, r5
 8713 0554 2046     		mov	r0, r4
 8714 0556 FFF7FEFF 		bl	disk_write
 8715              	.LVL1281:
 8716 055a 0028     		cmp	r0, #0
 8717 055c 40F09280 		bne	.L797
 8718              	.LVL1282:
 8719              	.L760:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8720              		.loc 1 5746 0
 8721 0560 0022     		movs	r2, #0
 8722 0562 1146     		mov	r1, r2
 8723 0564 2046     		mov	r0, r4
 8724 0566 FFF7FEFF 		bl	disk_ioctl
 8725              	.LVL1283:
 8726 056a 0028     		cmp	r0, #0
 8727 056c 00F08C80 		beq	.L798
 8728 0570 0120     		movs	r0, #1
 8729 0572 4EE0     		b	.L717
 8730              	.LVL1284:
 8731              	.L756:
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 8732              		.loc 1 5680 0
 8733 0574 B9F1030F 		cmp	r9, #3
 8734 0578 2DD1     		bne	.L752
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
 8735              		.loc 1 5681 0
 8736 057a 6FF00701 		mvn	r1, #7
 8737 057e 2846     		mov	r0, r5
 8738 0580 FFF7FEFF 		bl	st_dword
 8739              	.LVL1285:
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 281


 8740              		.loc 1 5682 0
 8741 0584 4FF0FF31 		mov	r1, #-1
 8742 0588 281D     		adds	r0, r5, #4
 8743 058a FFF7FEFF 		bl	st_dword
 8744              	.LVL1286:
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8745              		.loc 1 5683 0
 8746 058e 6FF07041 		mvn	r1, #-268435456
 8747 0592 05F10800 		add	r0, r5, #8
 8748 0596 FFF7FEFF 		bl	st_dword
 8749              	.LVL1287:
 8750              	.L753:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8751              		.loc 1 5685 0
 8752 059a 039F     		ldr	r7, [sp, #12]
 8753 059c CB46     		mov	fp, r9
 8754              	.L755:
 8755              	.LVL1288:
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 8756              		.loc 1 5689 0
 8757 059e B946     		mov	r9, r7
 8758 05a0 B742     		cmp	r7, r6
 8759 05a2 28BF     		it	cs
 8760 05a4 B146     		movcs	r9, r6
 8761              	.LVL1289:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 8762              		.loc 1 5690 0
 8763 05a6 4B46     		mov	r3, r9
 8764 05a8 009A     		ldr	r2, [sp]
 8765 05aa 2946     		mov	r1, r5
 8766 05ac 2046     		mov	r0, r4
 8767 05ae FFF7FEFF 		bl	disk_write
 8768              	.LVL1290:
 8769 05b2 0028     		cmp	r0, #0
 8770 05b4 62D1     		bne	.L792
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
 8771              		.loc 1 5691 0
 8772 05b6 BDF82E20 		ldrh	r2, [sp, #46]
 8773 05ba 0021     		movs	r1, #0
 8774 05bc 2846     		mov	r0, r5
 8775 05be FFF7FEFF 		bl	mem_set
 8776              	.LVL1291:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 8777              		.loc 1 5692 0
 8778 05c2 009B     		ldr	r3, [sp]
 8779 05c4 4B44     		add	r3, r3, r9
 8780 05c6 0093     		str	r3, [sp]
 8781              	.LVL1292:
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8782              		.loc 1 5693 0
 8783 05c8 B7EB0907 		subs	r7, r7, r9
 8784              	.LVL1293:
 8785 05cc E7D1     		bne	.L755
 8786 05ce D946     		mov	r9, fp
 8787              	.LVL1294:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 8788              		.loc 1 5679 0 discriminator 2
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 282


 8789 05d0 0AF1010A 		add	r10, r10, #1
 8790              	.LVL1295:
 8791 05d4 5DE7     		b	.L751
 8792              	.LVL1296:
 8793              	.L752:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8794              		.loc 1 5685 0
 8795 05d6 B9F1010F 		cmp	r9, #1
 8796 05da 04D1     		bne	.L791
 8797 05dc 2349     		ldr	r1, .L810+20
 8798              	.L754:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8799              		.loc 1 5685 0 is_stmt 0 discriminator 4
 8800 05de 2846     		mov	r0, r5
 8801 05e0 FFF7FEFF 		bl	st_dword
 8802              	.LVL1297:
 8803 05e4 D9E7     		b	.L753
 8804              	.L791:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8805              		.loc 1 5685 0
 8806 05e6 6FF00701 		mvn	r1, #7
 8807 05ea F8E7     		b	.L754
 8808              	.L801:
 8809 05ec DDF804A0 		ldr	r10, [sp, #4]
 8810              	.LVL1298:
 8811 05f0 DDF800B0 		ldr	fp, [sp]
 8812 05f4 58E7     		b	.L758
 8813              	.LVL1299:
 8814              	.L794:
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8815              		.loc 1 5710 0 is_stmt 1
 8816 05f6 4FF00C09 		mov	r9, #12
 8817 05fa 75E7     		b	.L759
 8818              	.L795:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8819              		.loc 1 5713 0
 8820 05fc 4FF00609 		mov	r9, #6
 8821 0600 72E7     		b	.L759
 8822              	.L796:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8823              		.loc 1 5715 0
 8824 0602 4FF00109 		mov	r9, #1
 8825 0606 6FE7     		b	.L759
 8826              	.LVL1300:
 8827              	.L761:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 8828              		.loc 1 5328 0
 8829 0608 0B20     		movs	r0, #11
 8830              	.LVL1301:
 8831 060a 02E0     		b	.L717
 8832              	.LVL1302:
 8833              	.L762:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 8834              		.loc 1 5335 0
 8835 060c 0320     		movs	r0, #3
 8836              	.LVL1303:
 8837 060e 00E0     		b	.L717
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 283


 8838              	.LVL1304:
 8839              	.L763:
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 8840              		.loc 1 5336 0
 8841 0610 0A20     		movs	r0, #10
 8842              	.LVL1305:
 8843              	.L717:
5749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8844              		.loc 1 5749 0
 8845 0612 0DB0     		add	sp, sp, #52
 8846              	.LCFI120:
 8847              		.cfi_remember_state
 8848              		.cfi_def_cfa_offset 36
 8849              		@ sp needed
 8850 0614 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 8851              	.LVL1306:
 8852              	.L764:
 8853              	.LCFI121:
 8854              		.cfi_restore_state
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
 8855              		.loc 1 5339 0
 8856 0618 0120     		movs	r0, #1
 8857 061a FAE7     		b	.L717
 8858              	.L765:
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 8859              		.loc 1 5340 0
 8860 061c 0120     		movs	r0, #1
 8861 061e F8E7     		b	.L717
 8862              	.L766:
 8863 0620 0120     		movs	r0, #1
 8864 0622 F6E7     		b	.L717
 8865              	.L767:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 8866              		.loc 1 5344 0
 8867 0624 1320     		movs	r0, #19
 8868 0626 F4E7     		b	.L717
 8869              	.L768:
 8870 0628 1320     		movs	r0, #19
 8871 062a F2E7     		b	.L717
 8872              	.L769:
 8873 062c 1320     		movs	r0, #19
 8874 062e F0E7     		b	.L717
 8875              	.LVL1307:
 8876              	.L770:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8877              		.loc 1 5351 0
 8878 0630 0E20     		movs	r0, #14
 8879 0632 EEE7     		b	.L717
 8880              	.L771:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 8881              		.loc 1 5364 0
 8882 0634 0120     		movs	r0, #1
 8883 0636 ECE7     		b	.L717
 8884              	.LVL1308:
 8885              	.L773:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 8886              		.loc 1 5366 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 284


 8887 0638 0E20     		movs	r0, #14
 8888 063a EAE7     		b	.L717
 8889              	.L774:
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8890              		.loc 1 5369 0
 8891 063c 0E20     		movs	r0, #14
 8892 063e E8E7     		b	.L717
 8893              	.L775:
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 8894              		.loc 1 5378 0
 8895 0640 1320     		movs	r0, #19
 8896 0642 E6E7     		b	.L717
 8897              	.L778:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 8898              		.loc 1 5384 0
 8899 0644 1320     		movs	r0, #19
 8900 0646 E4E7     		b	.L717
 8901              	.LVL1309:
 8902              	.L780:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 8903              		.loc 1 5564 0
 8904 0648 0E20     		movs	r0, #14
 8905 064a E2E7     		b	.L717
 8906              	.LVL1310:
 8907              	.L782:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 8908              		.loc 1 5593 0
 8909 064c 0E20     		movs	r0, #14
 8910 064e E0E7     		b	.L717
 8911              	.LVL1311:
 8912              	.L783:
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8913              		.loc 1 5598 0
 8914 0650 0E20     		movs	r0, #14
 8915 0652 DEE7     		b	.L717
 8916              	.LVL1312:
 8917              	.L786:
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8918              		.loc 1 5610 0
 8919 0654 0E20     		movs	r0, #14
 8920 0656 DCE7     		b	.L717
 8921              	.L811:
 8922              		.align	2
 8923              	.L810:
 8924 0658 00000000 		.word	.LC1
 8925 065c 20000000 		.word	.LC3
 8926 0660 0C000000 		.word	.LC2
 8927 0664 52526141 		.word	1096897106
 8928 0668 72724161 		.word	1631679090
 8929 066c F8FFFF00 		.word	16777208
 8930              	.LVL1313:
 8931              	.L787:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8932              		.loc 1 5614 0
 8933 0670 0E20     		movs	r0, #14
 8934 0672 CEE7     		b	.L717
 8935              	.LVL1314:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 285


 8936              	.L788:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8937              		.loc 1 5617 0
 8938 0674 0E20     		movs	r0, #14
 8939 0676 CCE7     		b	.L717
 8940              	.LVL1315:
 8941              	.L790:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8942              		.loc 1 5661 0
 8943 0678 0120     		movs	r0, #1
 8944 067a CAE7     		b	.L717
 8945              	.LVL1316:
 8946              	.L792:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 8947              		.loc 1 5690 0
 8948 067c 0120     		movs	r0, #1
 8949 067e C8E7     		b	.L717
 8950              	.LVL1317:
 8951              	.L793:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 8952              		.loc 1 5700 0
 8953 0680 0120     		movs	r0, #1
 8954 0682 C6E7     		b	.L717
 8955              	.LVL1318:
 8956              	.L797:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8957              		.loc 1 5742 0
 8958 0684 0120     		movs	r0, #1
 8959 0686 C4E7     		b	.L717
 8960              	.LVL1319:
 8961              	.L798:
5748:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8962              		.loc 1 5748 0
 8963 0688 0020     		movs	r0, #0
 8964 068a C2E7     		b	.L717
 8965              		.cfi_endproc
 8966              	.LFE184:
 8968              		.section	.text.f_gets,"ax",%progbits
 8969              		.align	1
 8970              		.global	f_gets
 8971              		.syntax unified
 8972              		.thumb
 8973              		.thumb_func
 8974              		.fpu fpv4-sp-d16
 8976              	f_gets:
 8977              	.LFB185:
5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 8978              		.loc 1 5835 0
 8979              		.cfi_startproc
 8980              		@ args = 0, pretend = 0, frame = 8
 8981              		@ frame_needed = 0, uses_anonymous_args = 0
 8982              	.LVL1320:
 8983 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 8984              	.LCFI122:
 8985              		.cfi_def_cfa_offset 24
 8986              		.cfi_offset 4, -24
 8987              		.cfi_offset 5, -20
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 286


 8988              		.cfi_offset 6, -16
 8989              		.cfi_offset 7, -12
 8990              		.cfi_offset 8, -8
 8991              		.cfi_offset 14, -4
 8992 0004 82B0     		sub	sp, sp, #8
 8993              	.LCFI123:
 8994              		.cfi_def_cfa_offset 32
 8995 0006 8046     		mov	r8, r0
 8996 0008 0E46     		mov	r6, r1
 8997 000a 1746     		mov	r7, r2
 8998              	.LVL1321:
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 8999              		.loc 1 5837 0
 9000 000c 0446     		mov	r4, r0
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 9001              		.loc 1 5836 0
 9002 000e 0025     		movs	r5, #0
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 9003              		.loc 1 5842 0
 9004 0010 01E0     		b	.L813
 9005              	.LVL1322:
 9006              	.L818:
 9007 0012 2246     		mov	r2, r4
 9008              	.LVL1323:
 9009              	.L815:
 9010 0014 1446     		mov	r4, r2
 9011              	.LVL1324:
 9012              	.L813:
 9013 0016 731E     		subs	r3, r6, #1
 9014 0018 AB42     		cmp	r3, r5
 9015 001a 12DD     		ble	.L814
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 9016              		.loc 1 5887 0
 9017 001c 6B46     		mov	r3, sp
 9018 001e 0122     		movs	r2, #1
 9019 0020 01A9     		add	r1, sp, #4
 9020 0022 3846     		mov	r0, r7
 9021 0024 FFF7FEFF 		bl	f_read
 9022              	.LVL1325:
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 9023              		.loc 1 5888 0
 9024 0028 009B     		ldr	r3, [sp]
 9025 002a 012B     		cmp	r3, #1
 9026 002c 09D1     		bne	.L814
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9027              		.loc 1 5889 0
 9028 002e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 9029              	.LVL1326:
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 9030              		.loc 1 5891 0
 9031 0032 0D2B     		cmp	r3, #13
 9032 0034 EDD0     		beq	.L818
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 9033              		.loc 1 5892 0
 9034 0036 621C     		adds	r2, r4, #1
 9035              	.LVL1327:
 9036 0038 2370     		strb	r3, [r4]
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 287


5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 9037              		.loc 1 5893 0
 9038 003a 0135     		adds	r5, r5, #1
 9039              	.LVL1328:
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9040              		.loc 1 5894 0
 9041 003c 0A2B     		cmp	r3, #10
 9042 003e E9D1     		bne	.L815
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 9043              		.loc 1 5892 0
 9044 0040 1446     		mov	r4, r2
 9045              	.LVL1329:
 9046              	.L814:
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 9047              		.loc 1 5896 0
 9048 0042 0023     		movs	r3, #0
 9049 0044 2370     		strb	r3, [r4]
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9050              		.loc 1 5897 0
 9051 0046 1DB1     		cbz	r5, .L820
 9052 0048 4046     		mov	r0, r8
 9053              	.L812:
5898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9054              		.loc 1 5898 0
 9055 004a 02B0     		add	sp, sp, #8
 9056              	.LCFI124:
 9057              		.cfi_remember_state
 9058              		.cfi_def_cfa_offset 24
 9059              		@ sp needed
 9060 004c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 9061              	.LVL1330:
 9062              	.L820:
 9063              	.LCFI125:
 9064              		.cfi_restore_state
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9065              		.loc 1 5897 0
 9066 0050 0020     		movs	r0, #0
 9067 0052 FAE7     		b	.L812
 9068              		.cfi_endproc
 9069              	.LFE185:
 9071              		.section	.text.f_putc,"ax",%progbits
 9072              		.align	1
 9073              		.global	f_putc
 9074              		.syntax unified
 9075              		.thumb
 9076              		.thumb_func
 9077              		.fpu fpv4-sp-d16
 9079              	f_putc:
 9080              	.LFB189:
5995:Middlewares/Third_Party/FatFs/src/ff.c **** 
5996:Middlewares/Third_Party/FatFs/src/ff.c **** 
5997:Middlewares/Third_Party/FatFs/src/ff.c **** 
5998:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
5999:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
6000:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
6001:Middlewares/Third_Party/FatFs/src/ff.c **** )
6002:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 288


 9081              		.loc 1 6002 0
 9082              		.cfi_startproc
 9083              		@ args = 0, pretend = 0, frame = 80
 9084              		@ frame_needed = 0, uses_anonymous_args = 0
 9085              	.LVL1331:
 9086 0000 10B5     		push	{r4, lr}
 9087              	.LCFI126:
 9088              		.cfi_def_cfa_offset 8
 9089              		.cfi_offset 4, -8
 9090              		.cfi_offset 14, -4
 9091 0002 94B0     		sub	sp, sp, #80
 9092              	.LCFI127:
 9093              		.cfi_def_cfa_offset 88
 9094 0004 0446     		mov	r4, r0
6003:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
6004:Middlewares/Third_Party/FatFs/src/ff.c **** 
6005:Middlewares/Third_Party/FatFs/src/ff.c **** 
6006:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 9095              		.loc 1 6006 0
 9096 0006 01A8     		add	r0, sp, #4
 9097              	.LVL1332:
 9098 0008 FFF7FEFF 		bl	putc_init
 9099              	.LVL1333:
6007:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put the character */
 9100              		.loc 1 6007 0
 9101 000c 2146     		mov	r1, r4
 9102 000e 01A8     		add	r0, sp, #4
 9103 0010 FFF7FEFF 		bl	putc_bfd
 9104              	.LVL1334:
6008:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 9105              		.loc 1 6008 0
 9106 0014 01A8     		add	r0, sp, #4
 9107 0016 FFF7FEFF 		bl	putc_flush
 9108              	.LVL1335:
6009:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9109              		.loc 1 6009 0
 9110 001a 14B0     		add	sp, sp, #80
 9111              	.LCFI128:
 9112              		.cfi_def_cfa_offset 8
 9113              		@ sp needed
 9114 001c 10BD     		pop	{r4, pc}
 9115              		.cfi_endproc
 9116              	.LFE189:
 9118              		.section	.text.f_puts,"ax",%progbits
 9119              		.align	1
 9120              		.global	f_puts
 9121              		.syntax unified
 9122              		.thumb
 9123              		.thumb_func
 9124              		.fpu fpv4-sp-d16
 9126              	f_puts:
 9127              	.LFB190:
6010:Middlewares/Third_Party/FatFs/src/ff.c **** 
6011:Middlewares/Third_Party/FatFs/src/ff.c **** 
6012:Middlewares/Third_Party/FatFs/src/ff.c **** 
6013:Middlewares/Third_Party/FatFs/src/ff.c **** 
6014:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 289


6015:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
6016:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6017:Middlewares/Third_Party/FatFs/src/ff.c **** 
6018:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
6019:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
6020:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
6021:Middlewares/Third_Party/FatFs/src/ff.c **** )
6022:Middlewares/Third_Party/FatFs/src/ff.c **** {
 9128              		.loc 1 6022 0
 9129              		.cfi_startproc
 9130              		@ args = 0, pretend = 0, frame = 80
 9131              		@ frame_needed = 0, uses_anonymous_args = 0
 9132              	.LVL1336:
 9133 0000 10B5     		push	{r4, lr}
 9134              	.LCFI129:
 9135              		.cfi_def_cfa_offset 8
 9136              		.cfi_offset 4, -8
 9137              		.cfi_offset 14, -4
 9138 0002 94B0     		sub	sp, sp, #80
 9139              	.LCFI130:
 9140              		.cfi_def_cfa_offset 88
 9141 0004 0446     		mov	r4, r0
6023:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
6024:Middlewares/Third_Party/FatFs/src/ff.c **** 
6025:Middlewares/Third_Party/FatFs/src/ff.c **** 
6026:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 9142              		.loc 1 6026 0
 9143 0006 01A8     		add	r0, sp, #4
 9144              	.LVL1337:
 9145 0008 FFF7FEFF 		bl	putc_init
 9146              	.LVL1338:
6027:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str) putc_bfd(&pb, *str++);		/* Put the string */
 9147              		.loc 1 6027 0
 9148 000c 03E0     		b	.L825
 9149              	.L826:
 9150              		.loc 1 6027 0 is_stmt 0 discriminator 2
 9151 000e 0134     		adds	r4, r4, #1
 9152              	.LVL1339:
 9153 0010 01A8     		add	r0, sp, #4
 9154 0012 FFF7FEFF 		bl	putc_bfd
 9155              	.LVL1340:
 9156              	.L825:
 9157              		.loc 1 6027 0 discriminator 1
 9158 0016 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 9159 0018 0029     		cmp	r1, #0
 9160 001a F8D1     		bne	.L826
6028:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 9161              		.loc 1 6028 0 is_stmt 1
 9162 001c 01A8     		add	r0, sp, #4
 9163 001e FFF7FEFF 		bl	putc_flush
 9164              	.LVL1341:
6029:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9165              		.loc 1 6029 0
 9166 0022 14B0     		add	sp, sp, #80
 9167              	.LCFI131:
 9168              		.cfi_def_cfa_offset 8
 9169              		@ sp needed
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 290


 9170 0024 10BD     		pop	{r4, pc}
 9171              		.cfi_endproc
 9172              	.LFE190:
 9174              		.section	.text.f_printf,"ax",%progbits
 9175              		.align	1
 9176              		.global	f_printf
 9177              		.syntax unified
 9178              		.thumb
 9179              		.thumb_func
 9180              		.fpu fpv4-sp-d16
 9182              	f_printf:
 9183              	.LFB191:
6030:Middlewares/Third_Party/FatFs/src/ff.c **** 
6031:Middlewares/Third_Party/FatFs/src/ff.c **** 
6032:Middlewares/Third_Party/FatFs/src/ff.c **** 
6033:Middlewares/Third_Party/FatFs/src/ff.c **** 
6034:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6035:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
6036:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6037:Middlewares/Third_Party/FatFs/src/ff.c **** 
6038:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
6039:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
6040:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
6041:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
6042:Middlewares/Third_Party/FatFs/src/ff.c **** )
6043:Middlewares/Third_Party/FatFs/src/ff.c **** {
 9184              		.loc 1 6043 0
 9185              		.cfi_startproc
 9186              		@ args = 4, pretend = 12, frame = 112
 9187              		@ frame_needed = 0, uses_anonymous_args = 1
 9188              	.LVL1342:
 9189 0000 0EB4     		push	{r1, r2, r3}
 9190              	.LCFI132:
 9191              		.cfi_def_cfa_offset 12
 9192              		.cfi_offset 1, -12
 9193              		.cfi_offset 2, -8
 9194              		.cfi_offset 3, -4
 9195 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 9196              	.LCFI133:
 9197              		.cfi_def_cfa_offset 44
 9198              		.cfi_offset 4, -44
 9199              		.cfi_offset 5, -40
 9200              		.cfi_offset 6, -36
 9201              		.cfi_offset 7, -32
 9202              		.cfi_offset 8, -28
 9203              		.cfi_offset 9, -24
 9204              		.cfi_offset 10, -20
 9205              		.cfi_offset 14, -16
 9206 0006 9DB0     		sub	sp, sp, #116
 9207              	.LCFI134:
 9208              		.cfi_def_cfa_offset 160
 9209 0008 25AC     		add	r4, sp, #148
 9210 000a 54F8046B 		ldr	r6, [r4], #4
6044:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
6045:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
6046:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
6047:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, w;
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 291


6048:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
6049:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, str[32], *p;
6050:Middlewares/Third_Party/FatFs/src/ff.c **** 
6051:Middlewares/Third_Party/FatFs/src/ff.c **** 
6052:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 9211              		.loc 1 6052 0
 9212 000e 0146     		mov	r1, r0
 9213 0010 08A8     		add	r0, sp, #32
 9214              	.LVL1343:
 9215 0012 FFF7FEFF 		bl	putc_init
 9216              	.LVL1344:
6053:Middlewares/Third_Party/FatFs/src/ff.c **** 
6054:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 9217              		.loc 1 6054 0
 9218 0016 1B94     		str	r4, [sp, #108]
 9219 0018 03E0     		b	.L829
 9220              	.LVL1345:
 9221              	.L881:
6055:Middlewares/Third_Party/FatFs/src/ff.c **** 
6056:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
6060:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 9222              		.loc 1 6060 0
 9223 001a 08A8     		add	r0, sp, #32
 9224 001c FFF7FEFF 		bl	putc_bfd
 9225              	.LVL1346:
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 9226              		.loc 1 6057 0
 9227 0020 2646     		mov	r6, r4
 9228              	.LVL1347:
 9229              	.L829:
 9230 0022 741C     		adds	r4, r6, #1
 9231              	.LVL1348:
 9232 0024 3178     		ldrb	r1, [r6]	@ zero_extendqisi2
 9233              	.LVL1349:
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 9234              		.loc 1 6058 0
 9235 0026 0029     		cmp	r1, #0
 9236 0028 00F0FE80 		beq	.L830
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 9237              		.loc 1 6059 0
 9238 002c 2529     		cmp	r1, #37
 9239 002e F4D1     		bne	.L881
 9240              	.LVL1350:
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
6062:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
6064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 9241              		.loc 1 6064 0
 9242 0030 B21C     		adds	r2, r6, #2
 9243              	.LVL1351:
 9244 0032 7178     		ldrb	r1, [r6, #1]	@ zero_extendqisi2
 9245              	.LVL1352:
6065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 9246              		.loc 1 6065 0
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 292


 9247 0034 3029     		cmp	r1, #48
 9248 0036 04D0     		beq	.L882
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
6067:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
6068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 9249              		.loc 1 6068 0
 9250 0038 2D29     		cmp	r1, #45
 9251 003a 06D0     		beq	.L883
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 9252              		.loc 1 6063 0
 9253 003c 0027     		movs	r7, #0
 9254              	.LVL1353:
 9255              	.L834:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 9256              		.loc 1 6066 0
 9257 003e 0024     		movs	r4, #0
 9258 0040 0FE0     		b	.L835
 9259              	.LVL1354:
 9260              	.L882:
 9261 0042 F21C     		adds	r2, r6, #3
 9262              	.LVL1355:
 9263 0044 B178     		ldrb	r1, [r6, #2]	@ zero_extendqisi2
 9264              	.LVL1356:
 9265 0046 0127     		movs	r7, #1
 9266 0048 F9E7     		b	.L834
 9267              	.LVL1357:
 9268              	.L883:
6069:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 9269              		.loc 1 6069 0
 9270 004a F21C     		adds	r2, r6, #3
 9271              	.LVL1358:
 9272 004c B178     		ldrb	r1, [r6, #2]	@ zero_extendqisi2
 9273              	.LVL1359:
 9274 004e 0227     		movs	r7, #2
 9275 0050 F5E7     		b	.L834
 9276              	.LVL1360:
 9277              	.L836:
6070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
6073:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 9278              		.loc 1 6073 0
 9279 0052 04EB8404 		add	r4, r4, r4, lsl #2
 9280              	.LVL1361:
 9281 0056 6300     		lsls	r3, r4, #1
 9282 0058 1944     		add	r1, r1, r3
 9283              	.LVL1362:
 9284 005a A1F13004 		sub	r4, r1, #48
 9285              	.LVL1363:
6074:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 9286              		.loc 1 6074 0
 9287 005e 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 9288              	.LVL1364:
 9289 0060 0132     		adds	r2, r2, #1
 9290              	.LVL1365:
 9291              	.L835:
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 293


 9292              		.loc 1 6072 0
 9293 0062 A1F13003 		sub	r3, r1, #48
 9294 0066 DBB2     		uxtb	r3, r3
 9295 0068 092B     		cmp	r3, #9
 9296 006a F2D9     		bls	.L836
6075:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6076:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 9297              		.loc 1 6076 0
 9298 006c 6C29     		cmp	r1, #108
 9299 006e 03D0     		beq	.L837
 9300              		.loc 1 6076 0 is_stmt 0 discriminator 1
 9301 0070 4C29     		cmp	r1, #76
 9302 0072 01D0     		beq	.L837
 9303 0074 1646     		mov	r6, r2
 9304 0076 03E0     		b	.L838
 9305              	.L837:
6077:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 9306              		.loc 1 6077 0 is_stmt 1
 9307 0078 47F00407 		orr	r7, r7, #4
 9308              	.LVL1366:
 9309 007c 561C     		adds	r6, r2, #1
 9310              	.LVL1367:
 9311 007e 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 9312              	.LVL1368:
 9313              	.L838:
6078:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 9314              		.loc 1 6079 0
 9315 0080 0029     		cmp	r1, #0
 9316 0082 00F0D180 		beq	.L830
 9317              	.LVL1369:
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
6081:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 9318              		.loc 1 6081 0
 9319 0086 A1F16103 		sub	r3, r1, #97
 9320 008a DBB2     		uxtb	r3, r3
 9321 008c 192B     		cmp	r3, #25
 9322 008e 14D8     		bhi	.L875
 9323              		.loc 1 6081 0 is_stmt 0 discriminator 1
 9324 0090 A1F12003 		sub	r3, r1, #32
 9325 0094 DBB2     		uxtb	r3, r3
 9326              	.LVL1370:
 9327              	.L839:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 9328              		.loc 1 6082 0 is_stmt 1
 9329 0096 A3F14202 		sub	r2, r3, #66
 9330 009a 162A     		cmp	r2, #22
 9331 009c 4CD8     		bhi	.L840
 9332 009e DFE802F0 		tbb	[pc, r2]
 9333              	.L842:
 9334 00a2 4F       		.byte	(.L841-.L842)/2
 9335 00a3 3D       		.byte	(.L843-.L842)/2
 9336 00a4 45       		.byte	(.L844-.L842)/2
 9337 00a5 4B       		.byte	(.L840-.L842)/2
 9338 00a6 4B       		.byte	(.L840-.L842)/2
 9339 00a7 4B       		.byte	(.L840-.L842)/2
 9340 00a8 4B       		.byte	(.L840-.L842)/2
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 294


 9341 00a9 4B       		.byte	(.L840-.L842)/2
 9342 00aa 4B       		.byte	(.L840-.L842)/2
 9343 00ab 4B       		.byte	(.L840-.L842)/2
 9344 00ac 4B       		.byte	(.L840-.L842)/2
 9345 00ad 4B       		.byte	(.L840-.L842)/2
 9346 00ae 4B       		.byte	(.L840-.L842)/2
 9347 00af 52       		.byte	(.L876-.L842)/2
 9348 00b0 4B       		.byte	(.L840-.L842)/2
 9349 00b1 4B       		.byte	(.L840-.L842)/2
 9350 00b2 4B       		.byte	(.L840-.L842)/2
 9351 00b3 0E       		.byte	(.L846-.L842)/2
 9352 00b4 4B       		.byte	(.L840-.L842)/2
 9353 00b5 45       		.byte	(.L844-.L842)/2
 9354 00b6 4B       		.byte	(.L840-.L842)/2
 9355 00b7 4B       		.byte	(.L840-.L842)/2
 9356 00b8 48       		.byte	(.L847-.L842)/2
 9357              	.LVL1371:
 9358 00b9 00       		.p2align 1
 9359              	.L875:
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 9360              		.loc 1 6080 0
 9361 00ba 0B46     		mov	r3, r1
 9362 00bc EBE7     		b	.L839
 9363              	.LVL1372:
 9364              	.L846:
6083:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
6084:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 9365              		.loc 1 6084 0
 9366 00be 1B9B     		ldr	r3, [sp, #108]
 9367              	.LVL1373:
 9368 00c0 1A1D     		adds	r2, r3, #4
 9369 00c2 1B92     		str	r2, [sp, #108]
 9370 00c4 D3F80080 		ldr	r8, [r3]
 9371              	.LVL1374:
6085:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 9372              		.loc 1 6085 0
 9373 00c8 0025     		movs	r5, #0
 9374 00ca 00E0     		b	.L848
 9375              	.LVL1375:
 9376              	.L849:
 9377              		.loc 1 6085 0 is_stmt 0 discriminator 3
 9378 00cc 0135     		adds	r5, r5, #1
 9379              	.LVL1376:
 9380              	.L848:
 9381              		.loc 1 6085 0 discriminator 1
 9382 00ce 18F80530 		ldrb	r3, [r8, r5]	@ zero_extendqisi2
 9383 00d2 002B     		cmp	r3, #0
 9384 00d4 FAD1     		bne	.L849
6086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 9385              		.loc 1 6086 0 is_stmt 1
 9386 00d6 17F0020F 		tst	r7, #2
 9387 00da 10D1     		bne	.L853
 9388 00dc 05E0     		b	.L850
 9389              	.LVL1377:
 9390              	.L852:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 9391              		.loc 1 6087 0 discriminator 2
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 295


 9392 00de 2021     		movs	r1, #32
 9393 00e0 0DEB0100 		add	r0, sp, r1
 9394 00e4 FFF7FEFF 		bl	putc_bfd
 9395              	.LVL1378:
 9396 00e8 3D46     		mov	r5, r7
 9397              	.LVL1379:
 9398              	.L850:
 9399              		.loc 1 6087 0 is_stmt 0 discriminator 1
 9400 00ea 6F1C     		adds	r7, r5, #1
 9401              	.LVL1380:
 9402 00ec A542     		cmp	r5, r4
 9403 00ee F6D3     		bcc	.L852
 9404              		.loc 1 6087 0
 9405 00f0 3D46     		mov	r5, r7
 9406 00f2 04E0     		b	.L853
 9407              	.LVL1381:
 9408              	.L854:
6088:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6089:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 9409              		.loc 1 6089 0 is_stmt 1 discriminator 2
 9410 00f4 08F10108 		add	r8, r8, #1
 9411              	.LVL1382:
 9412 00f8 08A8     		add	r0, sp, #32
 9413 00fa FFF7FEFF 		bl	putc_bfd
 9414              	.LVL1383:
 9415              	.L853:
 9416              		.loc 1 6089 0 is_stmt 0 discriminator 1
 9417 00fe 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 9418 0102 0029     		cmp	r1, #0
 9419 0104 F6D1     		bne	.L854
 9420 0106 05E0     		b	.L855
 9421              	.LVL1384:
 9422              	.L856:
6090:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 9423              		.loc 1 6090 0 is_stmt 1 discriminator 2
 9424 0108 2021     		movs	r1, #32
 9425 010a 0DEB0100 		add	r0, sp, r1
 9426 010e FFF7FEFF 		bl	putc_bfd
 9427              	.LVL1385:
 9428 0112 3D46     		mov	r5, r7
 9429              	.LVL1386:
 9430              	.L855:
 9431              		.loc 1 6090 0 is_stmt 0 discriminator 1
 9432 0114 6F1C     		adds	r7, r5, #1
 9433              	.LVL1387:
 9434 0116 A542     		cmp	r5, r4
 9435 0118 F6D3     		bcc	.L856
 9436 011a 82E7     		b	.L829
 9437              	.LVL1388:
 9438              	.L843:
6091:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
6092:Middlewares/Third_Party/FatFs/src/ff.c **** 
6093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
6094:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 9439              		.loc 1 6094 0 is_stmt 1
 9440 011c 1B9B     		ldr	r3, [sp, #108]
 9441              	.LVL1389:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 296


 9442 011e 1A1D     		adds	r2, r3, #4
 9443 0120 1B92     		str	r2, [sp, #108]
 9444 0122 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 9445              	.LVL1390:
 9446 0124 08A8     		add	r0, sp, #32
 9447 0126 FFF7FEFF 		bl	putc_bfd
 9448              	.LVL1391:
 9449 012a 7AE7     		b	.L829
 9450              	.LVL1392:
 9451              	.L844:
6095:Middlewares/Third_Party/FatFs/src/ff.c **** 
6096:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
6097:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
6098:Middlewares/Third_Party/FatFs/src/ff.c **** 
6099:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
6101:Middlewares/Third_Party/FatFs/src/ff.c **** 
6102:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
6103:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
6104:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 9452              		.loc 1 6104 0
 9453 012c 4FF00A0E 		mov	lr, #10
 9454 0130 0BE0     		b	.L845
 9455              	.LVL1393:
 9456              	.L847:
6105:Middlewares/Third_Party/FatFs/src/ff.c **** 
6106:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
 9457              		.loc 1 6107 0
 9458 0132 4FF0100E 		mov	lr, #16
 9459 0136 08E0     		b	.L845
 9460              	.LVL1394:
 9461              	.L840:
6108:Middlewares/Third_Party/FatFs/src/ff.c **** 
6109:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
 9462              		.loc 1 6110 0
 9463 0138 08A8     		add	r0, sp, #32
 9464 013a FFF7FEFF 		bl	putc_bfd
 9465              	.LVL1395:
 9466 013e 70E7     		b	.L829
 9467              	.LVL1396:
 9468              	.L841:
6097:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9469              		.loc 1 6097 0
 9470 0140 4FF0020E 		mov	lr, #2
 9471 0144 01E0     		b	.L845
 9472              	.L876:
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9473              		.loc 1 6100 0
 9474 0146 4FF0080E 		mov	lr, #8
 9475              	.L845:
 9476              	.LVL1397:
6111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6112:Middlewares/Third_Party/FatFs/src/ff.c **** 
6113:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 297


 9477              		.loc 1 6114 0
 9478 014a 17F0040F 		tst	r7, #4
 9479 014e 08D0     		beq	.L857
 9480 0150 1B9A     		ldr	r2, [sp, #108]
 9481 0152 101D     		adds	r0, r2, #4
 9482 0154 1B90     		str	r0, [sp, #108]
 9483 0156 1068     		ldr	r0, [r2]
 9484              	.L858:
 9485              	.LVL1398:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 9486              		.loc 1 6115 0 discriminator 8
 9487 0158 442B     		cmp	r3, #68
 9488 015a 0ED0     		beq	.L884
 9489              	.L860:
 9490              	.LVL1399:
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
6118:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6119:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 9491              		.loc 1 6119 0
 9492 015c 4FF0000C 		mov	ip, #0
 9493 0160 20E0     		b	.L864
 9494              	.LVL1400:
 9495              	.L857:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 9496              		.loc 1 6114 0 discriminator 2
 9497 0162 442B     		cmp	r3, #68
 9498 0164 04D0     		beq	.L885
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 9499              		.loc 1 6114 0 is_stmt 0
 9500 0166 1B9A     		ldr	r2, [sp, #108]
 9501 0168 101D     		adds	r0, r2, #4
 9502 016a 1B90     		str	r0, [sp, #108]
 9503 016c 1068     		ldr	r0, [r2]
 9504 016e F3E7     		b	.L858
 9505              	.L885:
 9506 0170 1B9A     		ldr	r2, [sp, #108]
 9507 0172 101D     		adds	r0, r2, #4
 9508 0174 1B90     		str	r0, [sp, #108]
 9509 0176 1068     		ldr	r0, [r2]
 9510 0178 EEE7     		b	.L858
 9511              	.LVL1401:
 9512              	.L884:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 9513              		.loc 1 6115 0 is_stmt 1 discriminator 1
 9514 017a 0028     		cmp	r0, #0
 9515 017c EEDA     		bge	.L860
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 9516              		.loc 1 6116 0
 9517 017e 4042     		negs	r0, r0
 9518              	.LVL1402:
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9519              		.loc 1 6117 0
 9520 0180 47F00807 		orr	r7, r7, #8
 9521              	.LVL1403:
 9522 0184 EAE7     		b	.L860
 9523              	.LVL1404:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 298


 9524              	.L886:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 9525              		.loc 1 6122 0
 9526 0186 2725     		movs	r5, #39
 9527              	.L862:
 9528              		.loc 1 6122 0 is_stmt 0 discriminator 5
 9529 0188 2B44     		add	r3, r3, r5
 9530              	.LVL1405:
 9531 018a DBB2     		uxtb	r3, r3
 9532              	.LVL1406:
 9533              	.L861:
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 9534              		.loc 1 6123 0 is_stmt 1
 9535 018c 0CF10105 		add	r5, ip, #1
 9536              	.LVL1407:
 9537 0190 3033     		adds	r3, r3, #48
 9538              	.LVL1408:
 9539 0192 0DF17008 		add	r8, sp, #112
 9540 0196 E044     		add	r8, r8, ip
 9541 0198 08F8703C 		strb	r3, [r8, #-112]
6124:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof str / sizeof str[0]);
 9542              		.loc 1 6124 0
 9543 019c 72B1     		cbz	r2, .L863
 9544              		.loc 1 6124 0 is_stmt 0 discriminator 1
 9545 019e 1F2D     		cmp	r5, #31
 9546 01a0 0CD8     		bhi	.L863
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 9547              		.loc 1 6123 0 is_stmt 1
 9548 01a2 AC46     		mov	ip, r5
 9549              	.LVL1409:
 9550              	.L864:
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 9551              		.loc 1 6121 0
 9552 01a4 B0FBFEF2 		udiv	r2, r0, lr
 9553 01a8 0EFB1203 		mls	r3, lr, r2, r0
 9554 01ac DBB2     		uxtb	r3, r3
 9555              	.LVL1410:
 9556 01ae 1046     		mov	r0, r2
 9557              	.LVL1411:
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 9558              		.loc 1 6122 0
 9559 01b0 092B     		cmp	r3, #9
 9560 01b2 EBD9     		bls	.L861
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 9561              		.loc 1 6122 0 is_stmt 0 discriminator 1
 9562 01b4 7829     		cmp	r1, #120
 9563 01b6 E6D0     		beq	.L886
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 9564              		.loc 1 6122 0
 9565 01b8 0725     		movs	r5, #7
 9566 01ba E5E7     		b	.L862
 9567              	.LVL1412:
 9568              	.L863:
6125:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) str[i++] = '-';
 9569              		.loc 1 6125 0 is_stmt 1
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 299


 9570 01bc 17F0080F 		tst	r7, #8
 9571 01c0 06D0     		beq	.L865
 9572              	.LVL1413:
 9573              		.loc 1 6125 0 is_stmt 0 discriminator 1
 9574 01c2 1CAB     		add	r3, sp, #112
 9575 01c4 1D44     		add	r5, r5, r3
 9576 01c6 2D23     		movs	r3, #45
 9577 01c8 05F8703C 		strb	r3, [r5, #-112]
 9578 01cc 0CF10205 		add	r5, ip, #2
 9579              	.LVL1414:
 9580              	.L865:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 9581              		.loc 1 6126 0 is_stmt 1
 9582 01d0 17F0010F 		tst	r7, #1
 9583 01d4 03D0     		beq	.L879
 9584 01d6 4FF0300A 		mov	r10, #48
 9585              	.L866:
 9586              	.LVL1415:
 9587              		.loc 1 6126 0 is_stmt 0 discriminator 4
 9588 01da A846     		mov	r8, r5
6127:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 9589              		.loc 1 6127 0 is_stmt 1 discriminator 4
 9590 01dc 07E0     		b	.L867
 9591              	.LVL1416:
 9592              	.L879:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 9593              		.loc 1 6126 0
 9594 01de 4FF0200A 		mov	r10, #32
 9595 01e2 FAE7     		b	.L866
 9596              	.LVL1417:
 9597              	.L869:
 9598              		.loc 1 6127 0 discriminator 3
 9599 01e4 5146     		mov	r1, r10
 9600 01e6 08A8     		add	r0, sp, #32
 9601 01e8 FFF7FEFF 		bl	putc_bfd
 9602              	.LVL1418:
 9603 01ec C846     		mov	r8, r9
 9604              	.LVL1419:
 9605              	.L867:
 9606              		.loc 1 6127 0 is_stmt 0 discriminator 1
 9607 01ee 17F0020F 		tst	r7, #2
 9608 01f2 04D1     		bne	.L870
 9609              		.loc 1 6127 0 discriminator 2
 9610 01f4 08F10109 		add	r9, r8, #1
 9611              	.LVL1420:
 9612 01f8 A045     		cmp	r8, r4
 9613 01fa F3D3     		bcc	.L869
 9614              		.loc 1 6127 0
 9615 01fc C846     		mov	r8, r9
 9616              	.LVL1421:
 9617              	.L870:
6128:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6129:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, str[--i]);
 9618              		.loc 1 6129 0 is_stmt 1 discriminator 1
 9619 01fe 013D     		subs	r5, r5, #1
 9620              	.LVL1422:
 9621 0200 1CAB     		add	r3, sp, #112
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 300


 9622 0202 2B44     		add	r3, r3, r5
 9623 0204 13F8701C 		ldrb	r1, [r3, #-112]	@ zero_extendqisi2
 9624 0208 08A8     		add	r0, sp, #32
 9625 020a FFF7FEFF 		bl	putc_bfd
 9626              	.LVL1423:
6130:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i);
 9627              		.loc 1 6130 0 discriminator 1
 9628 020e 002D     		cmp	r5, #0
 9629 0210 F5D1     		bne	.L870
 9630 0212 04E0     		b	.L871
 9631              	.LVL1424:
 9632              	.L872:
6131:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 9633              		.loc 1 6131 0 discriminator 2
 9634 0214 5146     		mov	r1, r10
 9635 0216 08A8     		add	r0, sp, #32
 9636 0218 FFF7FEFF 		bl	putc_bfd
 9637              	.LVL1425:
 9638 021c A846     		mov	r8, r5
 9639              	.LVL1426:
 9640              	.L871:
 9641              		.loc 1 6131 0 is_stmt 0 discriminator 1
 9642 021e 08F10105 		add	r5, r8, #1
 9643              	.LVL1427:
 9644 0222 A045     		cmp	r8, r4
 9645 0224 F6D3     		bcc	.L872
 9646 0226 FCE6     		b	.L829
 9647              	.LVL1428:
 9648              	.L830:
6132:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
6133:Middlewares/Third_Party/FatFs/src/ff.c **** 
6134:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
6135:Middlewares/Third_Party/FatFs/src/ff.c **** 
6136:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 9649              		.loc 1 6136 0 is_stmt 1
 9650 0228 08A8     		add	r0, sp, #32
 9651 022a FFF7FEFF 		bl	putc_flush
 9652              	.LVL1429:
6137:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9653              		.loc 1 6137 0
 9654 022e 1DB0     		add	sp, sp, #116
 9655              	.LCFI135:
 9656              		.cfi_def_cfa_offset 44
 9657              		@ sp needed
 9658 0230 BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 9659              	.LCFI136:
 9660              		.cfi_restore 14
 9661              		.cfi_restore 10
 9662              		.cfi_restore 9
 9663              		.cfi_restore 8
 9664              		.cfi_restore 7
 9665              		.cfi_restore 6
 9666              		.cfi_restore 5
 9667              		.cfi_restore 4
 9668              		.cfi_def_cfa_offset 12
 9669 0234 03B0     		add	sp, sp, #12
 9670              	.LCFI137:
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 301


 9671              		.cfi_restore 3
 9672              		.cfi_restore 2
 9673              		.cfi_restore 1
 9674              		.cfi_def_cfa_offset 0
 9675 0236 7047     		bx	lr
 9676              		.cfi_endproc
 9677              	.LFE191:
 9679              		.section	.bss.FatFs,"aw",%nobits
 9680              		.align	2
 9681              		.set	.LANCHOR2,. + 0
 9684              	FatFs:
 9685 0000 00000000 		.space	4
 9686              		.section	.bss.Files,"aw",%nobits
 9687              		.align	2
 9688              		.set	.LANCHOR0,. + 0
 9691              	Files:
 9692 0000 00000000 		.space	32
 9692      00000000 
 9692      00000000 
 9692      00000000 
 9692      00000000 
 9693              		.section	.bss.Fsid,"aw",%nobits
 9694              		.align	1
 9695              		.set	.LANCHOR3,. + 0
 9698              	Fsid:
 9699 0000 0000     		.space	2
 9700              		.section	.rodata.ExCvt,"a",%progbits
 9701              		.align	2
 9702              		.set	.LANCHOR1,. + 0
 9705              	ExCvt:
 9706 0000 43       		.byte	67
 9707 0001 55       		.byte	85
 9708 0002 45       		.byte	69
 9709 0003 41       		.byte	65
 9710 0004 41       		.byte	65
 9711 0005 41       		.byte	65
 9712 0006 41       		.byte	65
 9713 0007 43       		.byte	67
 9714 0008 45       		.byte	69
 9715 0009 45       		.byte	69
 9716 000a 45       		.byte	69
 9717 000b 49       		.byte	73
 9718 000c 49       		.byte	73
 9719 000d 49       		.byte	73
 9720 000e 41       		.byte	65
 9721 000f 41       		.byte	65
 9722 0010 45       		.byte	69
 9723 0011 92       		.byte	-110
 9724 0012 92       		.byte	-110
 9725 0013 4F       		.byte	79
 9726 0014 4F       		.byte	79
 9727 0015 4F       		.byte	79
 9728 0016 55       		.byte	85
 9729 0017 55       		.byte	85
 9730 0018 59       		.byte	89
 9731 0019 4F       		.byte	79
 9732 001a 55       		.byte	85
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 302


 9733 001b 4F       		.byte	79
 9734 001c 9C       		.byte	-100
 9735 001d 4F       		.byte	79
 9736 001e 9E       		.byte	-98
 9737 001f 9F       		.byte	-97
 9738 0020 41       		.byte	65
 9739 0021 49       		.byte	73
 9740 0022 4F       		.byte	79
 9741 0023 55       		.byte	85
 9742 0024 A5       		.byte	-91
 9743 0025 A5       		.byte	-91
 9744 0026 A6       		.byte	-90
 9745 0027 A7       		.byte	-89
 9746 0028 A8       		.byte	-88
 9747 0029 A9       		.byte	-87
 9748 002a AA       		.byte	-86
 9749 002b AB       		.byte	-85
 9750 002c AC       		.byte	-84
 9751 002d AD       		.byte	-83
 9752 002e AE       		.byte	-82
 9753 002f AF       		.byte	-81
 9754 0030 B0       		.byte	-80
 9755 0031 B1       		.byte	-79
 9756 0032 B2       		.byte	-78
 9757 0033 B3       		.byte	-77
 9758 0034 B4       		.byte	-76
 9759 0035 41       		.byte	65
 9760 0036 41       		.byte	65
 9761 0037 41       		.byte	65
 9762 0038 B8       		.byte	-72
 9763 0039 B9       		.byte	-71
 9764 003a BA       		.byte	-70
 9765 003b BB       		.byte	-69
 9766 003c BC       		.byte	-68
 9767 003d BD       		.byte	-67
 9768 003e BE       		.byte	-66
 9769 003f BF       		.byte	-65
 9770 0040 C0       		.byte	-64
 9771 0041 C1       		.byte	-63
 9772 0042 C2       		.byte	-62
 9773 0043 C3       		.byte	-61
 9774 0044 C4       		.byte	-60
 9775 0045 C5       		.byte	-59
 9776 0046 41       		.byte	65
 9777 0047 41       		.byte	65
 9778 0048 C8       		.byte	-56
 9779 0049 C9       		.byte	-55
 9780 004a CA       		.byte	-54
 9781 004b CB       		.byte	-53
 9782 004c CC       		.byte	-52
 9783 004d CD       		.byte	-51
 9784 004e CE       		.byte	-50
 9785 004f CF       		.byte	-49
 9786 0050 D1       		.byte	-47
 9787 0051 D1       		.byte	-47
 9788 0052 45       		.byte	69
 9789 0053 45       		.byte	69
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 303


 9790 0054 45       		.byte	69
 9791 0055 49       		.byte	73
 9792 0056 49       		.byte	73
 9793 0057 49       		.byte	73
 9794 0058 49       		.byte	73
 9795 0059 D9       		.byte	-39
 9796 005a DA       		.byte	-38
 9797 005b DB       		.byte	-37
 9798 005c DC       		.byte	-36
 9799 005d DD       		.byte	-35
 9800 005e 49       		.byte	73
 9801 005f DF       		.byte	-33
 9802 0060 4F       		.byte	79
 9803 0061 E1       		.byte	-31
 9804 0062 4F       		.byte	79
 9805 0063 4F       		.byte	79
 9806 0064 4F       		.byte	79
 9807 0065 4F       		.byte	79
 9808 0066 E6       		.byte	-26
 9809 0067 E8       		.byte	-24
 9810 0068 E8       		.byte	-24
 9811 0069 55       		.byte	85
 9812 006a 55       		.byte	85
 9813 006b 55       		.byte	85
 9814 006c 59       		.byte	89
 9815 006d 59       		.byte	89
 9816 006e EE       		.byte	-18
 9817 006f EF       		.byte	-17
 9818 0070 F0       		.byte	-16
 9819 0071 F1       		.byte	-15
 9820 0072 F2       		.byte	-14
 9821 0073 F3       		.byte	-13
 9822 0074 F4       		.byte	-12
 9823 0075 F5       		.byte	-11
 9824 0076 F6       		.byte	-10
 9825 0077 F7       		.byte	-9
 9826 0078 F8       		.byte	-8
 9827 0079 F9       		.byte	-7
 9828 007a FA       		.byte	-6
 9829 007b FB       		.byte	-5
 9830 007c FC       		.byte	-4
 9831 007d FD       		.byte	-3
 9832 007e FE       		.byte	-2
 9833 007f FF       		.byte	-1
 9834              		.section	.rodata.create_name.str1.4,"aMS",%progbits,1
 9835              		.align	2
 9836              	.LC0:
 9837 0000 222A2B2C 		.ascii	"\"*+,:;<=>?[]|\177\000"
 9837      3A3B3C3D 
 9837      3E3F5B5D 
 9837      7C7F00
 9838              		.section	.rodata.cst.9330,"a",%progbits
 9839              		.align	2
 9840              		.set	.LANCHOR5,. + 0
 9843              	cst.9330:
 9844 0000 0100     		.short	1
 9845 0002 0400     		.short	4
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 304


 9846 0004 1000     		.short	16
 9847 0006 4000     		.short	64
 9848 0008 0001     		.short	256
 9849 000a 0002     		.short	512
 9850 000c 0000     		.short	0
 9851              		.section	.rodata.cst32.9331,"a",%progbits
 9852              		.align	2
 9853              		.set	.LANCHOR4,. + 0
 9856              	cst32.9331:
 9857 0000 0100     		.short	1
 9858 0002 0200     		.short	2
 9859 0004 0400     		.short	4
 9860 0006 0800     		.short	8
 9861 0008 1000     		.short	16
 9862 000a 2000     		.short	32
 9863 000c 0000     		.short	0
 9864              		.section	.rodata.f_mkfs.str1.4,"aMS",%progbits,1
 9865              		.align	2
 9866              	.LC1:
 9867 0000 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 9867      53444F53 
 9867      352E3000 
 9868              	.LC2:
 9869 000c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 9869      414D4520 
 9869      20202046 
 9869      41543332 
 9869      20202000 
 9870              	.LC3:
 9871 0020 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 9871      414D4520 
 9871      20202046 
 9871      41542020 
 9871      20202000 
 9872              		.text
 9873              	.Letext0:
 9874              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 9875              		.file 3 "c:\\touchgfx\\4.17.0\\env\\mingw\\msys\\1.0\\gnu-arm-gcc\\arm-none-eabi\\include\\machine
 9876              		.file 4 "c:\\touchgfx\\4.17.0\\env\\mingw\\msys\\1.0\\gnu-arm-gcc\\arm-none-eabi\\include\\sys\\_s
 9877              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 9878              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 9879              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 9880              		.file 8 "c:\\touchgfx\\4.17.0\\env\\mingw\\msys\\1.0\\gnu-arm-gcc\\arm-none-eabi\\include\\sys\\lo
 9881              		.file 9 "c:\\touchgfx\\4.17.0\\env\\mingw\\msys\\1.0\\gnu-arm-gcc\\arm-none-eabi\\include\\sys\\_t
 9882              		.file 10 "c:\\touchgfx\\4.17.0\\env\\mingw\\msys\\1.0\\gnu-arm-gcc\\lib\\gcc\\arm-none-eabi\\7.3.1
 9883              		.file 11 "c:\\touchgfx\\4.17.0\\env\\mingw\\msys\\1.0\\gnu-arm-gcc\\arm-none-eabi\\include\\sys\\r
 9884              		.file 12 "c:\\touchgfx\\4.17.0\\env\\mingw\\msys\\1.0\\gnu-arm-gcc\\arm-none-eabi\\include\\stdlib
 9885              		.file 13 "Middlewares/Third_Party/FatFs/src/ff.h"
 9886              		.file 14 "Middlewares/Third_Party/FatFs/src/diskio.h"
 9887              		.file 15 "c:\\touchgfx\\4.17.0\\env\\mingw\\msys\\1.0\\gnu-arm-gcc\\lib\\gcc\\arm-none-eabi\\7.3.1
 9888              		.file 16 "<built-in>"
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 305


DEFINED SYMBOLS
                            *ABS*:00000000 ff.c
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:18     .text.ld_word:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:24     .text.ld_word:00000000 ld_word
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:47     .text.ld_dword:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:53     .text.ld_dword:00000000 ld_dword
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:83     .text.st_word:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:89     .text.st_word:00000000 st_word
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:110    .text.st_dword:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:116    .text.st_dword:00000000 st_dword
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:145    .text.mem_cpy:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:151    .text.mem_cpy:00000000 mem_cpy
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:183    .text.mem_set:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:189    .text.mem_set:00000000 mem_set
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:213    .text.mem_cmp:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:219    .text.mem_cmp:00000000 mem_cmp
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:269    .text.chk_chr:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:275    .text.chk_chr:00000000 chk_chr
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:305    .text.chk_lock:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:311    .text.chk_lock:00000000 chk_lock
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:433    .text.chk_lock:00000070 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:438    .text.enq_lock:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:444    .text.enq_lock:00000000 enq_lock
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:481    .text.enq_lock:0000001c $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:486    .text.inc_lock:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:492    .text.inc_lock:00000000 inc_lock
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:645    .text.inc_lock:000000a0 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:650    .text.dec_lock:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:656    .text.dec_lock:00000000 dec_lock
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:721    .text.dec_lock:0000003c $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:726    .text.clear_lock:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:732    .text.clear_lock:00000000 clear_lock
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:798    .text.clear_lock:00000038 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:803    .text.clust2sect:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:809    .text.clust2sect:00000000 clust2sect
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:842    .text.clmt_clust:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:848    .text.clmt_clust:00000000 clmt_clust
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:908    .text.ld_clust:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:914    .text.ld_clust:00000000 ld_clust
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:959    .text.st_clust:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:965    .text.st_clust:00000000 st_clust
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1009   .text.get_fileinfo:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1015   .text.get_fileinfo:00000000 get_fileinfo
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1129   .text.create_name:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1135   .text.create_name:00000000 create_name
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1319   .text.create_name:000000c4 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1325   .text.get_ldnumber:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1331   .text.get_ldnumber:00000000 get_ldnumber
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1435   .text.putc_init:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1441   .text.putc_init:00000000 putc_init
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1461   .text.validate:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1467   .text.validate:00000000 validate
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1556   .text.sync_window:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1562   .text.sync_window:00000000 sync_window
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1652   .text.move_window:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1658   .text.move_window:00000000 move_window
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1716   .text.check_fs:00000000 $t
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 306


C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1722   .text.check_fs:00000000 check_fs
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1805   .text.check_fs:00000070 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1812   .text.find_volume:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:1818   .text.find_volume:00000000 find_volume
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:2405   .text.find_volume:0000033c $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:2412   .text.find_volume:0000034c $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:2418   .text.put_fat:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:2424   .text.put_fat:00000000 put_fat
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:2640   .text.get_fat:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:2646   .text.get_fat:00000000 get_fat
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:2832   .text.dir_sdi:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:2838   .text.dir_sdi:00000000 dir_sdi
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3000   .text.create_chain:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3006   .text.create_chain:00000000 create_chain
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3191   .text.remove_chain:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3197   .text.remove_chain:00000000 remove_chain
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3318   .text.dir_remove:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3324   .text.dir_remove:00000000 dir_remove
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3367   .text.dir_next:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3373   .text.dir_next:00000000 dir_next
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3607   .text.dir_find:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3613   .text.dir_find:00000000 dir_find
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3699   .text.follow_path:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3705   .text.follow_path:00000000 follow_path
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3835   .text.dir_alloc:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3841   .text.dir_alloc:00000000 dir_alloc
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3934   .text.dir_register:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:3940   .text.dir_register:00000000 dir_register
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4003   .text.dir_read:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4009   .text.dir_read:00000000 dir_read
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4107   .text.sync_fs:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4113   .text.sync_fs:00000000 sync_fs
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4209   .text.sync_fs:00000080 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4215   .text.f_mount:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4222   .text.f_mount:00000000 f_mount
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4320   .text.f_mount:0000005c $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4325   .text.f_open:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4332   .text.f_open:00000000 f_open
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4767   .text.f_read:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:4774   .text.f_read:00000000 f_read
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5096   .text.f_write:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5103   .text.f_write:00000000 f_write
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5462   .text.putc_bfd:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5468   .text.putc_bfd:00000000 putc_bfd
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5558   .text.putc_flush:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5564   .text.putc_flush:00000000 putc_flush
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5634   .text.f_sync:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5641   .text.f_sync:00000000 f_sync
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5773   .text.f_close:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5780   .text.f_close:00000000 f_close
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5843   .text.f_lseek:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:5850   .text.f_lseek:00000000 f_lseek
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6391   .text.f_opendir:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6398   .text.f_opendir:00000000 f_opendir
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6530   .text.f_closedir:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6537   .text.f_closedir:00000000 f_closedir
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6595   .text.f_readdir:00000000 $t
ARM GAS  C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s 			page 307


C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6602   .text.f_readdir:00000000 f_readdir
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6691   .text.f_stat:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6698   .text.f_stat:00000000 f_stat
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6774   .text.f_getfree:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6781   .text.f_getfree:00000000 f_getfree
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:6995   .text.f_truncate:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:7002   .text.f_truncate:00000000 f_truncate
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:7158   .text.f_unlink:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:7165   .text.f_unlink:00000000 f_unlink
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:7340   .text.f_mkdir:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:7347   .text.f_mkdir:00000000 f_mkdir
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:7650   .text.f_rename:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:7657   .text.f_rename:00000000 f_rename
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:7887   .text.f_mkfs:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:7894   .text.f_mkfs:00000000 f_mkfs
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:8358   .text.f_mkfs:000002b8 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:8363   .text.f_mkfs:000002c8 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:8924   .text.f_mkfs:00000658 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:8933   .text.f_mkfs:00000670 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:8969   .text.f_gets:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:8976   .text.f_gets:00000000 f_gets
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9072   .text.f_putc:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9079   .text.f_putc:00000000 f_putc
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9119   .text.f_puts:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9126   .text.f_puts:00000000 f_puts
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9175   .text.f_printf:00000000 $t
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9182   .text.f_printf:00000000 f_printf
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9334   .text.f_printf:000000a2 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9680   .bss.FatFs:00000000 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9684   .bss.FatFs:00000000 FatFs
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9687   .bss.Files:00000000 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9691   .bss.Files:00000000 Files
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9694   .bss.Fsid:00000000 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9698   .bss.Fsid:00000000 Fsid
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9701   .rodata.ExCvt:00000000 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9705   .rodata.ExCvt:00000000 ExCvt
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9835   .rodata.create_name.str1.4:00000000 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9839   .rodata.cst.9330:00000000 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9843   .rodata.cst.9330:00000000 cst.9330
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9852   .rodata.cst32.9331:00000000 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9856   .rodata.cst32.9331:00000000 cst32.9331
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9865   .rodata.f_mkfs.str1.4:00000000 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9358   .text.f_printf:000000b9 $d
C:\Users\Cihat\AppData\Local\Temp\ccHs1MV5.s:9358   .text.f_printf:000000ba $t

UNDEFINED SYMBOLS
disk_status
disk_write
disk_read
disk_initialize
disk_ioctl
get_fattime
